var YM=Object.defineProperty;var qM=(e,t,r)=>t in e?YM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ee=(e,t,r)=>qM(e,typeof t!="symbol"?t+"":t,r);import{j as mt}from"./jsx-runtime-BjgbQsUx.js";import{c as cl,g as Wb,r as fr}from"./index-jJyPZTrg.js";import{t as mn}from"./colors-UMl0uCuE.js";function VM(){return mt.jsx("div",{className:"flex h-full w-full items-center justify-center border-l border-slate-800 bg-slate-900",children:"Budget Properties"})}VM.__docgenInfo={description:"",methods:[],displayName:"BudgetPropertiesPanel"};var Fd,B0;function Ub(){if(B0)return Fd;B0=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Fd=e,Fd}var zd,F0;function WM(){if(F0)return zd;F0=1;var e=typeof cl=="object"&&cl&&cl.Object===Object&&cl;return zd=e,zd}var Yd,z0;function Hb(){if(z0)return Yd;z0=1;var e=WM(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Yd=r,Yd}var qd,Y0;function UM(){if(Y0)return qd;Y0=1;var e=Hb(),t=function(){return e.Date.now()};return qd=t,qd}var Vd,q0;function HM(){if(q0)return Vd;q0=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Vd=t,Vd}var Wd,V0;function GM(){if(V0)return Wd;V0=1;var e=HM(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Wd=r,Wd}var Ud,W0;function Gb(){if(W0)return Ud;W0=1;var e=Hb(),t=e.Symbol;return Ud=t,Ud}var Hd,U0;function XM(){if(U0)return Hd;U0=1;var e=Gb(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var s=r.call(o,a),u=o[a];try{o[a]=void 0;var l=!0}catch{}var f=n.call(o);return l&&(s?o[a]=u:delete o[a]),f}return Hd=i,Hd}var Gd,H0;function KM(){if(H0)return Gd;H0=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Gd=r,Gd}var Xd,G0;function ZM(){if(G0)return Xd;G0=1;var e=Gb(),t=XM(),r=KM(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?t(s):r(s)}return Xd=o,Xd}var Kd,X0;function QM(){if(X0)return Kd;X0=1;function e(t){return t!=null&&typeof t=="object"}return Kd=e,Kd}var Zd,K0;function jM(){if(K0)return Zd;K0=1;var e=ZM(),t=QM(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Zd=n,Zd}var Qd,Z0;function JM(){if(Z0)return Qd;Z0=1;var e=GM(),t=Ub(),r=jM(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(t(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=t(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=e(l);var c=i.test(l);return c||o.test(l)?s(l.slice(2),c?2:8):a.test(l)?n:+l}return Qd=u,Qd}var jd,Q0;function ek(){if(Q0)return jd;Q0=1;var e=Ub(),t=UM(),r=JM(),n="Expected a function",a=Math.max,i=Math.min;function o(s,u,l){var f,c,d,h,v,p,g=0,m=!1,y=!1,b=!0;if(typeof s!="function")throw new TypeError(n);u=r(u)||0,e(l)&&(m=!!l.leading,y="maxWait"in l,d=y?a(r(l.maxWait)||0,u):d,b="trailing"in l?!!l.trailing:b);function w(P){var C=f,A=c;return f=c=void 0,g=P,h=s.apply(A,C),h}function S(P){return g=P,v=setTimeout(E,u),m?w(P):h}function _(P){var C=P-p,A=P-g,O=u-C;return y?i(O,d-A):O}function x(P){var C=P-p,A=P-g;return p===void 0||C>=u||C<0||y&&A>=d}function E(){var P=t();if(x(P))return T(P);v=setTimeout(E,_(P))}function T(P){return v=void 0,b&&f?w(P):(f=c=void 0,h)}function k(){v!==void 0&&clearTimeout(v),g=0,f=p=c=v=void 0}function M(){return v===void 0?h:T(t())}function D(){var P=t(),C=x(P);if(f=arguments,c=this,p=P,C){if(v===void 0)return S(p);if(y)return clearTimeout(v),v=setTimeout(E,u),w(p)}return v===void 0&&(v=setTimeout(E,u)),h}return D.cancel=k,D.flush=M,D}return jd=o,jd}var tk=ek();const rk=Wb(tk),nk=[],j0={width:0,height:0,top:0,left:0};function ak({initialSize:e=j0,debounceTime:t=300,ignoreDimensions:r=nk,enableDebounceLeadingCall:n=!0,resizeObserverPolyfill:a}={}){const i=fr.useRef(null),o=fr.useRef(0),[s,u]=fr.useState({...j0,...e}),l=fr.useMemo(()=>{const f=Array.isArray(r)?r:[r];return rk(c=>{u(d=>Object.keys(d).filter(g=>d[g]!==c[g]).every(g=>f.includes(g))?d:c)},t,{leading:n})},[t,n,r]);return fr.useEffect(()=>{const f=a||window.ResizeObserver,c=new f(d=>{d.forEach(h=>{const{left:v,top:p,width:g,height:m}=(h==null?void 0:h.contentRect)??{};o.current=window.requestAnimationFrame(()=>{l({width:g,height:m,top:p,left:v})})})});return i.current&&c.observe(i.current),()=>{window.cancelAnimationFrame(o.current),c.disconnect(),l.cancel()}},[l,a]),{parentRef:i,resize:l,...s}}const ik={width:"100%",height:"100%"};function bc({className:e,children:t,debounceTime:r,ignoreDimensions:n,initialSize:a,parentSizeStyles:i=ik,enableDebounceLeadingCall:o=!0,resizeObserverPolyfill:s,...u}){const{parentRef:l,resize:f,...c}=ak({initialSize:a,debounceTime:r,ignoreDimensions:n,enableDebounceLeadingCall:o,resizeObserverPolyfill:s});return mt.jsx("div",{style:i,ref:l,className:e,...u,children:t({...c,ref:l.current,resize:f})})}bc.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};function dr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wc(e){let t,r,n;e.length!==2?(t=dr,r=(s,u)=>dr(e(s),u),n=(s,u)=>e(s)-u):(t=e===dr||e===Cu?e:ok,r=e,n=e);function a(s,u,l=0,f=s.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;r(s[c],u)<0?l=c+1:f=c}while(l<f)}return l}function i(s,u,l=0,f=s.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;r(s[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function o(s,u,l=0,f=s.length){const c=a(s,u,l,f-1);return c>l&&n(s[c-1],u)>-n(s[c],u)?c-1:c}return{left:a,center:o,right:i}}function ok(){return 0}function Xb(e){return e===null?NaN:+e}function*sk(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const uk=wc(dr),xc=uk.right;wc(Xb).center;function Ag(e,t){let r=0;for(let n of e)n!=null&&(n=+n)>=n&&++r;return r}function lk(e){return e.length|0}function fk(e){return!(e>0)}function ck(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function dk(e){return t=>e(...t)}function hk(...e){const t=typeof e[e.length-1]=="function"&&dk(e.pop());e=e.map(ck);const r=e.map(lk),n=e.length-1,a=new Array(n+1).fill(0),i=[];if(n<0||r.some(fk))return i;for(;;){i.push(a.map((s,u)=>e[u][s]));let o=n;for(;++a[o]===r[o];){if(o===0)return t?i.map(t):i;a[o--]=0}}}function vk(e,t){var r=0;return Float64Array.from(e,n=>r+=+n||0)}function Kb(e,t){let r=0,n,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(n=o-a,a+=n/++r,i+=n*(o-a));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(n=s-a,a+=n/++r,i+=n*(s-a))}if(r>1)return i/(r-1)}function Zb(e,t){const r=Kb(e,t);return r&&Math.sqrt(r)}function Nr(e,t){let r,n;if(t===void 0)for(const a of e)a!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}class xi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){const i=r[a],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(r[n++]=s),t=o}return r[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let r=this._n,n,a,i,o=0;if(r>0){for(o=t[--r];r>0&&(n=o,a=t[--r],o=n+a,i=a-(o-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(a=i*2,n=o+a,a==n-o&&(o=n))}return o}}class _i extends Map{constructor(t,r=Jb){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(sv(this,t))}has(t){return super.has(sv(this,t))}set(t,r){return super.set(Qb(this,t),r)}delete(t){return super.delete(jb(this,t))}}class _c extends Set{constructor(t,r=Jb){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(sv(this,t))}add(t){return super.add(Qb(this,t))}delete(t){return super.delete(jb(this,t))}}function sv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Qb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jb({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jb(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uv(e){return e}function Sc(e,...t){return Pg(e,uv,uv,t)}function ho(e,t,...r){return Pg(e,uv,t,r)}function gk(e,t,...r){return Pg(e,Array.from,t,r)}function Pg(e,t,r,n){return function a(i,o){if(o>=n.length)return r(i);const s=new _i,u=n[o++];let l=-1;for(const f of i){const c=u(f,++l,i),d=s.get(c);d?d.push(f):s.set(c,[f])}for(const[f,c]of s)s.set(f,a(c,o));return t(s)}(e,0)}function pk(e,t){return Array.from(t,r=>e[r])}function mf(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){const n=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),n.sort((a,i)=>{for(const o of t){const s=yf(o[a],o[i]);if(s)return s}})):(r=e.map(r),n.sort((a,i)=>yf(r[a],r[i]))),pk(e,n)}return e.sort(ew(r))}function ew(e=dr){if(e===dr)return yf;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yf(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Ng(e,t,r){return(t.length!==2?mf(ho(e,t,r),([n,a],[i,o])=>dr(a,o)||dr(n,i)):mf(Sc(e,r),([n,a],[i,o])=>t(a,o)||dr(n,i))).map(([n])=>n)}const mk=Math.sqrt(50),yk=Math.sqrt(10),bk=Math.sqrt(2);function bf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=mk?10:i>=yk?5:i>=bk?2:1;let s,u,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=r&&r<2?bf(e,t,r*2):[s,u,l]}function Js(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?bf(t,e,r):bf(e,t,r);if(!(i>=a))return[];const s=i-a+1,u=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)u[l]=(i-l)/-o;else for(let l=0;l<s;++l)u[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(a+l)/-o;else for(let l=0;l<s;++l)u[l]=(a+l)*o;return u}function wf(e,t,r){return t=+t,e=+e,r=+r,bf(e,t,r)[2]}function lv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?wf(t,e,r):wf(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function wk(e){return Math.max(1,Math.ceil(Math.log(Ag(e))/Math.LN2)+1)}function jr(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function xk(e,t){let r,n=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=a);else for(let i of e)(i=t(i,++a,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=a);return n}function oa(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function _k(e,t){let r,n=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=a);else for(let i of e)(i=t(i,++a,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=a);return n}function tw(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?yf:ew(a);n>r;){if(n-r>600){const u=n-r+1,l=t-r+1,f=Math.log(u),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(u-c)/u)*(l-u/2<0?-1:1),h=Math.max(r,Math.floor(t-l*c/u+d)),v=Math.min(n,Math.floor(t+(u-l)*c/u+d));tw(e,t,h,v,a)}const i=e[t];let o=r,s=n;for(vs(e,r,t),a(e[n],i)>0&&vs(e,r,n);o<s;){for(vs(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?vs(e,r,s):(++s,vs(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function vs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rw(e,t=dr){let r,n=!1;if(t.length===1){let a;for(const i of e){const o=t(i);(n?dr(o,a)>0:dr(o,o)===0)&&(r=i,a=o,n=!0)}}else for(const a of e)(n?t(a,r)>0:t(a,a)===0)&&(r=a,n=!0);return r}function Eo(e,t,r){if(e=Float64Array.from(sk(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return oa(e);if(t>=1)return jr(e);var n,a=(n-1)*t,i=Math.floor(a),o=jr(tw(e,i).subarray(0,i+1)),s=oa(e.subarray(i+1));return o+(s-o)*(a-i)}}function Sk(e,t,r=Xb){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function Tk(e,t,r){const n=Ag(e),a=Eo(e,.75)-Eo(e,.25);return n&&a?Math.ceil((r-t)/(2*a*Math.pow(n,-1/3))):1}function nw(e,t,r){const n=Ag(e),a=Zb(e);return n&&a?Math.ceil((r-t)*Math.cbrt(n)/(3.49*a)):1}function Ek(e,t){let r=0,n=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++r,n+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function fv(e,t){return Eo(e,.5,t)}function*Mk(e){for(const t of e)yield*t}function aw(e){return Array.from(Mk(e))}function kk(e,t){const r=new _i;if(t===void 0)for(let i of e)i!=null&&i>=i&&r.set(i,(r.get(i)||0)+1);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&o>=o&&r.set(o,(r.get(o)||0)+1)}let n,a=0;for(const[i,o]of r)o>a&&(a=o,n=i);return n}function Ck(e,t=Dk){const r=[];let n,a=!1;for(const i of e)a&&r.push(t(n,i)),n=i,a=!0;return r}function Dk(e,t){return[e,t]}function cv(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function za(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(r+=a)}return r}function xf(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Ak(e){return e}var Pk=3,J0=1e-6;function Nk(e){return"translate("+e+",0)"}function Ok(e){return t=>+e(t)}function Lk(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function Rk(){return!this.__axis}function $k(e,t){var r=[],n=null,a=null,i=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=1,f="y",c=Nk;function d(h){var v=n??(t.ticks?t.ticks.apply(t,r):t.domain()),p=a??(t.tickFormat?t.tickFormat.apply(t,r):Ak),g=Math.max(i,0)+s,m=t.range(),y=+m[0]+u,b=+m[m.length-1]+u,w=(t.bandwidth?Lk:Ok)(t.copy(),u),S=h.selection?h.selection():h,_=S.selectAll(".domain").data([null]),x=S.selectAll(".tick").data(v,t).order(),E=x.exit(),T=x.enter().append("g").attr("class","tick"),k=x.select("line"),M=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(T),k=k.merge(T.append("line").attr("stroke","currentColor").attr(f+"2",l*i)),M=M.merge(T.append("text").attr("fill","currentColor").attr(f,l*g).attr("dy","0.71em")),h!==S&&(_=_.transition(h),x=x.transition(h),k=k.transition(h),M=M.transition(h),E=E.transition(h).attr("opacity",J0).attr("transform",function(D){return isFinite(D=w(D))?c(D+u):this.getAttribute("transform")}),T.attr("opacity",J0).attr("transform",function(D){var P=this.parentNode.__axis;return c((P&&isFinite(P=P(D))?P:w(D))+u)})),E.remove(),_.attr("d",o?"M"+y+","+l*o+"V"+u+"H"+b+"V"+l*o:"M"+y+","+u+"H"+b),x.attr("opacity",1).attr("transform",function(D){return c(w(D)+u)}),k.attr(f+"2",l*i),M.attr(f,l*g).text(p),S.filter(Rk).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),S.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(r=h==null?[]:Array.from(h),d):r.slice()},d.tickValues=function(h){return arguments.length?(n=h==null?null:Array.from(h),d):n&&n.slice()},d.tickFormat=function(h){return arguments.length?(a=h,d):a},d.tickSize=function(h){return arguments.length?(i=o=+h,d):i},d.tickSizeInner=function(h){return arguments.length?(i=+h,d):i},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function Ik(e){return $k(Pk,e)}var Bk={value:()=>{}};function iw(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Ql(r)}function Ql(e){this._=e}function Fk(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Ql.prototype=iw.prototype={constructor:Ql,on:function(e,t){var r=this._,n=Fk(e+"",r),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(e=n[i]).type)&&(a=zk(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=n[i]).type)r[a]=em(r[a],e.name,t);else if(t==null)for(a in r)r[a]=em(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ql(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function zk(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function em(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=Bk,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var dv="http://www.w3.org/1999/xhtml";const Mo={svg:"http://www.w3.org/2000/svg",xhtml:dv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tc(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Mo.hasOwnProperty(t)?{space:Mo[t],local:e}:e}function Yk(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===dv&&t.documentElement.namespaceURI===dv?t.createElement(e):t.createElementNS(r,e)}}function qk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ec(e){var t=Tc(e);return(t.local?qk:Yk)(t)}function Vk(){}function Og(e){return e==null?Vk:function(){return this.querySelector(e)}}function Wk(e){typeof e!="function"&&(e=Og(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=new Array(o),u,l,f=0;f<o;++f)(u=i[f])&&(l=e.call(u,u.__data__,f,i))&&("__data__"in u&&(l.__data__=u.__data__),s[f]=l);return new xr(n,this._parents)}function Uk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Hk(){return[]}function ow(e){return e==null?Hk:function(){return this.querySelectorAll(e)}}function Gk(e){return function(){return Uk(e.apply(this,arguments))}}function Xk(e){typeof e=="function"?e=Gk(e):e=ow(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var o=t[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(n.push(e.call(u,u.__data__,l,o)),a.push(u));return new xr(n,a)}function sw(e){return function(){return this.matches(e)}}function uw(e){return function(t){return t.matches(e)}}var Kk=Array.prototype.find;function Zk(e){return function(){return Kk.call(this.children,e)}}function Qk(){return this.firstElementChild}function jk(e){return this.select(e==null?Qk:Zk(typeof e=="function"?e:uw(e)))}var Jk=Array.prototype.filter;function eC(){return Array.from(this.children)}function tC(e){return function(){return Jk.call(this.children,e)}}function rC(e){return this.selectAll(e==null?eC:tC(typeof e=="function"?e:uw(e)))}function nC(e){typeof e!="function"&&(e=sw(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=[],u,l=0;l<o;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new xr(n,this._parents)}function lw(e){return new Array(e.length)}function aC(){return new xr(this._enter||this._groups.map(lw),this._parents)}function _f(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_f.prototype={constructor:_f,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function iC(e){return function(){return e}}function oC(e,t,r,n,a,i){for(var o=0,s,u=t.length,l=i.length;o<l;++o)(s=t[o])?(s.__data__=i[o],n[o]=s):r[o]=new _f(e,i[o]);for(;o<u;++o)(s=t[o])&&(a[o]=s)}function sC(e,t,r,n,a,i,o){var s,u,l=new Map,f=t.length,c=i.length,d=new Array(f),h;for(s=0;s<f;++s)(u=t[s])&&(d[s]=h=o.call(u,u.__data__,s,t)+"",l.has(h)?a[s]=u:l.set(h,u));for(s=0;s<c;++s)h=o.call(e,i[s],s,i)+"",(u=l.get(h))?(n[s]=u,u.__data__=i[s],l.delete(h)):r[s]=new _f(e,i[s]);for(s=0;s<f;++s)(u=t[s])&&l.get(d[s])===u&&(a[s]=u)}function uC(e){return e.__data__}function lC(e,t){if(!arguments.length)return Array.from(this,uC);var r=t?sC:oC,n=this._parents,a=this._groups;typeof e!="function"&&(e=iC(e));for(var i=a.length,o=new Array(i),s=new Array(i),u=new Array(i),l=0;l<i;++l){var f=n[l],c=a[l],d=c.length,h=fC(e.call(f,f&&f.__data__,l,n)),v=h.length,p=s[l]=new Array(v),g=o[l]=new Array(v),m=u[l]=new Array(d);r(f,c,p,g,m,h,t);for(var y=0,b=0,w,S;y<v;++y)if(w=p[y]){for(y>=b&&(b=y+1);!(S=g[b])&&++b<v;);w._next=S||null}}return o=new xr(o,n),o._enter=s,o._exit=u,o}function fC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cC(){return new xr(this._exit||this._groups.map(lw),this._parents)}function dC(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function hC(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,o=Math.min(a,i),s=new Array(a),u=0;u<o;++u)for(var l=r[u],f=n[u],c=l.length,d=s[u]=new Array(c),h,v=0;v<c;++v)(h=l[v]||f[v])&&(d[v]=h);for(;u<a;++u)s[u]=r[u];return new xr(s,this._parents)}function vC(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],o;--a>=0;)(o=n[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function gC(e){e||(e=pC);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var o=r[i],s=o.length,u=a[i]=new Array(s),l,f=0;f<s;++f)(l=o[f])&&(u[f]=l);u.sort(t)}return new xr(a,this._parents).order()}function pC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function mC(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function yC(){return Array.from(this)}function bC(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var o=n[a];if(o)return o}return null}function wC(){let e=0;for(const t of this)++e;return e}function xC(){return!this.node()}function _C(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,o=a.length,s;i<o;++i)(s=a[i])&&e.call(s,s.__data__,i,a);return this}function SC(e){return function(){this.removeAttribute(e)}}function TC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EC(e,t){return function(){this.setAttribute(e,t)}}function MC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kC(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function CC(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function DC(e,t){var r=Tc(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?TC:SC:typeof t=="function"?r.local?CC:kC:r.local?MC:EC)(r,t))}function fw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function AC(e){return function(){this.style.removeProperty(e)}}function PC(e,t,r){return function(){this.style.setProperty(e,t,r)}}function NC(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function OC(e,t,r){return arguments.length>1?this.each((t==null?AC:typeof t=="function"?NC:PC)(e,t,r??"")):ko(this.node(),e)}function ko(e,t){return e.style.getPropertyValue(t)||fw(e).getComputedStyle(e,null).getPropertyValue(t)}function LC(e){return function(){delete this[e]}}function RC(e,t){return function(){this[e]=t}}function $C(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function IC(e,t){return arguments.length>1?this.each((t==null?LC:typeof t=="function"?$C:RC)(e,t)):this.node()[e]}function cw(e){return e.trim().split(/^|\s+/)}function Lg(e){return e.classList||new dw(e)}function dw(e){this._node=e,this._names=cw(e.getAttribute("class")||"")}dw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function hw(e,t){for(var r=Lg(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function vw(e,t){for(var r=Lg(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function BC(e){return function(){hw(this,e)}}function FC(e){return function(){vw(this,e)}}function zC(e,t){return function(){(t.apply(this,arguments)?hw:vw)(this,e)}}function YC(e,t){var r=cw(e+"");if(arguments.length<2){for(var n=Lg(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?zC:t?BC:FC)(r,t))}function qC(){this.textContent=""}function VC(e){return function(){this.textContent=e}}function WC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function UC(e){return arguments.length?this.each(e==null?qC:(typeof e=="function"?WC:VC)(e)):this.node().textContent}function HC(){this.innerHTML=""}function GC(e){return function(){this.innerHTML=e}}function XC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function KC(e){return arguments.length?this.each(e==null?HC:(typeof e=="function"?XC:GC)(e)):this.node().innerHTML}function ZC(){this.nextSibling&&this.parentNode.appendChild(this)}function QC(){return this.each(ZC)}function jC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JC(){return this.each(jC)}function e3(e){var t=typeof e=="function"?e:Ec(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function t3(){return null}function r3(e,t){var r=typeof e=="function"?e:Ec(e),n=t==null?t3:typeof t=="function"?t:Og(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function n3(){var e=this.parentNode;e&&e.removeChild(this)}function a3(){return this.each(n3)}function i3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function o3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function s3(e){return this.select(e?o3:i3)}function u3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function l3(e){return function(t){e.call(this,t,this.__data__)}}function f3(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function c3(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function d3(e,t,r){return function(){var n=this.__on,a,i=l3(t);if(n){for(var o=0,s=n.length;o<s;++o)if((a=n[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function h3(e,t,r){var n=f3(e+""),a,i=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,f;u<l;++u)for(a=0,f=s[u];a<i;++a)if((o=n[a]).type===f.type&&o.name===f.name)return f.value}return}for(s=t?d3:c3,a=0;a<i;++a)this.each(s(n[a],t,r));return this}function gw(e,t,r){var n=fw(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function v3(e,t){return function(){return gw(this,e,t)}}function g3(e,t){return function(){return gw(this,e,t.apply(this,arguments))}}function p3(e,t){return this.each((typeof t=="function"?g3:v3)(e,t))}function*m3(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,o;a<i;++a)(o=n[a])&&(yield o)}var pw=[null];function xr(e,t){this._groups=e,this._parents=t}function Du(){return new xr([[document.documentElement]],pw)}function y3(){return this}xr.prototype=Du.prototype={constructor:xr,select:Wk,selectAll:Xk,selectChild:jk,selectChildren:rC,filter:nC,data:lC,enter:aC,exit:cC,join:dC,merge:hC,selection:y3,order:vC,sort:gC,call:mC,nodes:yC,node:bC,size:wC,empty:xC,each:_C,attr:DC,style:OC,property:IC,classed:YC,text:UC,html:KC,raise:QC,lower:JC,append:e3,insert:r3,remove:a3,clone:s3,datum:u3,on:h3,dispatch:p3,[Symbol.iterator]:m3};function vo(e){return typeof e=="string"?new xr([[document.querySelector(e)]],[document.documentElement]):new xr([[e]],pw)}function b3(e){let t;for(;t=e.sourceEvent;)e=t;return e}function w3(e,t){if(e=b3(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function Go(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Au(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Za(){}var Si=.7,Co=1/Si,go="\\s*([+-]?\\d+)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x3=/^#([0-9a-f]{3,8})$/,_3=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),S3=new RegExp(`^rgb\\(${Tn},${Tn},${Tn}\\)$`),T3=new RegExp(`^rgba\\(${go},${go},${go},${eu}\\)$`),E3=new RegExp(`^rgba\\(${Tn},${Tn},${Tn},${eu}\\)$`),M3=new RegExp(`^hsl\\(${eu},${Tn},${Tn}\\)$`),k3=new RegExp(`^hsla\\(${eu},${Tn},${Tn},${eu}\\)$`),tm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Go(Za,Ti,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rm,formatHex:rm,formatHex8:C3,formatHsl:D3,formatRgb:nm,toString:nm});function rm(){return this.rgb().formatHex()}function C3(){return this.rgb().formatHex8()}function D3(){return mw(this).formatHsl()}function nm(){return this.rgb().formatRgb()}function Ti(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=x3.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?am(t):r===3?new Ot(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_3.exec(e))?new Ot(t[1],t[2],t[3],1):(t=S3.exec(e))?new Ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T3.exec(e))?dl(t[1],t[2],t[3],t[4]):(t=E3.exec(e))?dl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=M3.exec(e))?sm(t[1],t[2]/100,t[3]/100,1):(t=k3.exec(e))?sm(t[1],t[2]/100,t[3]/100,t[4]):tm.hasOwnProperty(e)?am(tm[e]):e==="transparent"?new Ot(NaN,NaN,NaN,0):null}function am(e){return new Ot(e>>16&255,e>>8&255,e&255,1)}function dl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ot(e,t,r,n)}function Rg(e){return e instanceof Za||(e=Ti(e)),e?(e=e.rgb(),new Ot(e.r,e.g,e.b,e.opacity)):new Ot}function Ya(e,t,r,n){return arguments.length===1?Rg(e):new Ot(e,t,r,n??1)}function Ot(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Go(Ot,Ya,Au(Za,{brighter(e){return e=e==null?Co:Math.pow(Co,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Si:Math.pow(Si,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ot(mi(this.r),mi(this.g),mi(this.b),Sf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:im,formatHex:im,formatHex8:A3,formatRgb:om,toString:om}));function im(){return`#${vi(this.r)}${vi(this.g)}${vi(this.b)}`}function A3(){return`#${vi(this.r)}${vi(this.g)}${vi(this.b)}${vi((isNaN(this.opacity)?1:this.opacity)*255)}`}function om(){const e=Sf(this.opacity);return`${e===1?"rgb(":"rgba("}${mi(this.r)}, ${mi(this.g)}, ${mi(this.b)}${e===1?")":`, ${e})`}`}function Sf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vi(e){return e=mi(e),(e<16?"0":"")+e.toString(16)}function sm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xr(e,t,r,n)}function mw(e){if(e instanceof Xr)return new Xr(e.h,e.s,e.l,e.opacity);if(e instanceof Za||(e=Ti(e)),!e)return new Xr;if(e instanceof Xr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,u=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new Xr(o,s,u,e.opacity)}function hv(e,t,r,n){return arguments.length===1?mw(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Go(Xr,hv,Au(Za,{brighter(e){return e=e==null?Co:Math.pow(Co,e),new Xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Si:Math.pow(Si,e),new Xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ot(Jd(e>=240?e-240:e+120,a,n),Jd(e,a,n),Jd(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Xr(um(this.h),hl(this.s),hl(this.l),Sf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sf(this.opacity);return`${e===1?"hsl(":"hsla("}${um(this.h)}, ${hl(this.s)*100}%, ${hl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function um(e){return e=(e||0)%360,e<0?e+360:e}function hl(e){return Math.max(0,Math.min(1,e||0))}function Jd(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const yw=Math.PI/180,bw=180/Math.PI,Tf=18,ww=.96422,xw=1,_w=.82521,Sw=4/29,po=6/29,Tw=3*po*po,P3=po*po*po;function Ew(e){if(e instanceof En)return new En(e.l,e.a,e.b,e.opacity);if(e instanceof Qn)return Mw(e);e instanceof Ot||(e=Rg(e));var t=nh(e.r),r=nh(e.g),n=nh(e.b),a=eh((.2225045*t+.7168786*r+.0606169*n)/xw),i,o;return t===r&&r===n?i=o=a:(i=eh((.4360747*t+.3850649*r+.1430804*n)/ww),o=eh((.0139322*t+.0971045*r+.7141733*n)/_w)),new En(116*a-16,500*(i-a),200*(a-o),e.opacity)}function vv(e,t,r,n){return arguments.length===1?Ew(e):new En(e,t,r,n??1)}function En(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}Go(En,vv,Au(Za,{brighter(e){return new En(this.l+Tf*(e??1),this.a,this.b,this.opacity)},darker(e){return new En(this.l-Tf*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=ww*th(t),e=xw*th(e),r=_w*th(r),new Ot(rh(3.1338561*t-1.6168667*e-.4906146*r),rh(-.9787684*t+1.9161415*e+.033454*r),rh(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function eh(e){return e>P3?Math.pow(e,1/3):e/Tw+Sw}function th(e){return e>po?e*e*e:Tw*(e-Sw)}function rh(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function nh(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function N3(e){if(e instanceof Qn)return new Qn(e.h,e.c,e.l,e.opacity);if(e instanceof En||(e=Ew(e)),e.a===0&&e.b===0)return new Qn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*bw;return new Qn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function gv(e,t,r,n){return arguments.length===1?N3(e):new Qn(e,t,r,n??1)}function Qn(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function Mw(e){if(isNaN(e.h))return new En(e.l,0,0,e.opacity);var t=e.h*yw;return new En(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Go(Qn,gv,Au(Za,{brighter(e){return new Qn(this.h,this.c,this.l+Tf*(e??1),this.opacity)},darker(e){return new Qn(this.h,this.c,this.l-Tf*(e??1),this.opacity)},rgb(){return Mw(this).rgb()}}));var kw=-.14861,$g=1.78277,Ig=-.29227,Mc=-.90649,tu=1.97294,lm=tu*Mc,fm=tu*$g,cm=$g*Ig-Mc*kw;function O3(e){if(e instanceof yi)return new yi(e.h,e.s,e.l,e.opacity);e instanceof Ot||(e=Rg(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(cm*n+lm*t-fm*r)/(cm+lm-fm),i=n-a,o=(tu*(r-a)-Ig*i)/Mc,s=Math.sqrt(o*o+i*i)/(tu*a*(1-a)),u=s?Math.atan2(o,i)*bw-120:NaN;return new yi(u<0?u+360:u,s,a,e.opacity)}function Mn(e,t,r,n){return arguments.length===1?O3(e):new yi(e,t,r,n??1)}function yi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Go(yi,Mn,Au(Za,{brighter(e){return e=e==null?Co:Math.pow(Co,e),new yi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Si:Math.pow(Si,e),new yi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*yw,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new Ot(255*(t+r*(kw*n+$g*a)),255*(t+r*(Ig*n+Mc*a)),255*(t+r*(tu*n)),this.opacity)}}));function L3(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}function R3(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return L3((r-n/t)*t,o,a,i,s)}}const kc=e=>()=>e;function Cw(e,t){return function(r){return e+r*t}}function $3(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Bg(e,t){var r=t-e;return r?Cw(e,r>180||r<-180?r-360*Math.round(r/360):r):kc(isNaN(e)?t:e)}function I3(e){return(e=+e)==1?Ht:function(t,r){return r-t?$3(t,r,e):kc(isNaN(t)?r:t)}}function Ht(e,t){var r=t-e;return r?Cw(e,r):kc(isNaN(e)?t:e)}const Ei=function e(t){var r=I3(t);function n(a,i){var o=r((a=Ya(a)).r,(i=Ya(i)).r),s=r(a.g,i.g),u=r(a.b,i.b),l=Ht(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=u(f),a.opacity=l(f),a+""}}return n.gamma=e,n}(1);function B3(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),i=new Array(r),o,s;for(o=0;o<r;++o)s=Ya(t[o]),n[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return n=e(n),a=e(a),i=e(i),s.opacity=1,function(u){return s.r=n(u),s.g=a(u),s.b=i(u),s+""}}}var F3=B3(R3);function z3(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Y3(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q3(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Pu(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function V3(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ut(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W3(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Pu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var pv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ah=new RegExp(pv.source,"g");function U3(e){return function(){return e}}function H3(e){return function(t){return e(t)+""}}function Dw(e,t){var r=pv.lastIndex=ah.lastIndex=0,n,a,i,o=-1,s=[],u=[];for(e=e+"",t=t+"";(n=pv.exec(e))&&(a=ah.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:Ut(n,a)})),r=ah.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?H3(u[0].x):U3(t):(t=u.length,function(l){for(var f=0,c;f<t;++f)s[(c=u[f]).i]=c.x(l);return s.join("")})}function Pu(e,t){var r=typeof t,n;return t==null||r==="boolean"?kc(t):(r==="number"?Ut:r==="string"?(n=Ti(t))?(t=n,Ei):Dw:t instanceof Ti?Ei:t instanceof Date?V3:Y3(t)?z3:Array.isArray(t)?q3:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W3:Ut)(e,t)}function Fg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var dm=180/Math.PI,mv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Aw(e,t,r,n,a,i){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*dm,skewX:Math.atan(u)*dm,scaleX:o,scaleY:s}}var vl;function G3(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?mv:Aw(t.a,t.b,t.c,t.d,t.e,t.f)}function X3(e){return e==null||(vl||(vl=document.createElementNS("http://www.w3.org/2000/svg","g")),vl.setAttribute("transform",e),!(e=vl.transform.baseVal.consolidate()))?mv:(e=e.matrix,Aw(e.a,e.b,e.c,e.d,e.e,e.f))}function Pw(e,t,r,n){function a(l){return l.length?l.pop()+" ":""}function i(l,f,c,d,h,v){if(l!==c||f!==d){var p=h.push("translate(",null,t,null,r);v.push({i:p-4,x:Ut(l,c)},{i:p-2,x:Ut(f,d)})}else(c||d)&&h.push("translate("+c+t+d+r)}function o(l,f,c,d){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),d.push({i:c.push(a(c)+"rotate(",null,n)-2,x:Ut(l,f)})):f&&c.push(a(c)+"rotate("+f+n)}function s(l,f,c,d){l!==f?d.push({i:c.push(a(c)+"skewX(",null,n)-2,x:Ut(l,f)}):f&&c.push(a(c)+"skewX("+f+n)}function u(l,f,c,d,h,v){if(l!==c||f!==d){var p=h.push(a(h)+"scale(",null,",",null,")");v.push({i:p-4,x:Ut(l,c)},{i:p-2,x:Ut(f,d)})}else(c!==1||d!==1)&&h.push(a(h)+"scale("+c+","+d+")")}return function(l,f){var c=[],d=[];return l=e(l),f=e(f),i(l.translateX,l.translateY,f.translateX,f.translateY,c,d),o(l.rotate,f.rotate,c,d),s(l.skewX,f.skewX,c,d),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,d),l=f=null,function(h){for(var v=-1,p=d.length,g;++v<p;)c[(g=d[v]).i]=g.x(h);return c.join("")}}}var K3=Pw(G3,"px, ","px)","deg)"),Z3=Pw(X3,", ",")",")");function Q3(e){return function(t,r){var n=e((t=hv(t)).h,(r=hv(r)).h),a=Ht(t.s,r.s),i=Ht(t.l,r.l),o=Ht(t.opacity,r.opacity);return function(s){return t.h=n(s),t.s=a(s),t.l=i(s),t.opacity=o(s),t+""}}}const j3=Q3(Bg);function J3(e,t){var r=Ht((e=vv(e)).l,(t=vv(t)).l),n=Ht(e.a,t.a),a=Ht(e.b,t.b),i=Ht(e.opacity,t.opacity);return function(o){return e.l=r(o),e.a=n(o),e.b=a(o),e.opacity=i(o),e+""}}function eD(e){return function(t,r){var n=e((t=gv(t)).h,(r=gv(r)).h),a=Ht(t.c,r.c),i=Ht(t.l,r.l),o=Ht(t.opacity,r.opacity);return function(s){return t.h=n(s),t.c=a(s),t.l=i(s),t.opacity=o(s),t+""}}}const tD=eD(Bg);function Nw(e){return function t(r){r=+r;function n(a,i){var o=e((a=Mn(a)).h,(i=Mn(i)).h),s=Ht(a.s,i.s),u=Ht(a.l,i.l),l=Ht(a.opacity,i.opacity);return function(f){return a.h=o(f),a.s=s(f),a.l=u(Math.pow(f,r)),a.opacity=l(f),a+""}}return n.gamma=t,n}(1)}Nw(Bg);var zg=Nw(Ht);function Cc(e,t){t===void 0&&(t=e,e=Pu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function Jr(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var Do=0,Ns=0,gs=0,Ow=1e3,Ef,Os,Mf=0,Mi=0,Dc=0,ru=typeof performance=="object"&&performance.now?performance:Date,Lw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yg(){return Mi||(Lw(rD),Mi=ru.now()+Dc)}function rD(){Mi=0}function kf(){this._call=this._time=this._next=null}kf.prototype=Rw.prototype={constructor:kf,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Yg():+r)+(t==null?0:+t),!this._next&&Os!==this&&(Os?Os._next=this:Ef=this,Os=this),this._call=e,this._time=r,yv()},stop:function(){this._call&&(this._call=null,this._time=1/0,yv())}};function Rw(e,t,r){var n=new kf;return n.restart(e,t,r),n}function nD(){Yg(),++Do;for(var e=Ef,t;e;)(t=Mi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Do}function hm(){Mi=(Mf=ru.now())+Dc,Do=Ns=0;try{nD()}finally{Do=0,iD(),Mi=0}}function aD(){var e=ru.now(),t=e-Mf;t>Ow&&(Dc-=t,Mf=e)}function iD(){for(var e,t=Ef,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ef=r);Os=e,yv(n)}function yv(e){if(!Do){Ns&&(Ns=clearTimeout(Ns));var t=e-Mi;t>24?(e<1/0&&(Ns=setTimeout(hm,e-ru.now()-Dc)),gs&&(gs=clearInterval(gs))):(gs||(Mf=ru.now(),gs=setInterval(aD,Ow)),Do=1,Lw(hm))}}function vm(e,t,r){var n=new kf;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var oD=iw("start","end","cancel","interrupt"),sD=[],$w=0,gm=1,bv=2,jl=3,pm=4,wv=5,Jl=6;function Ac(e,t,r,n,a,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;uD(e,r,{name:t,index:n,group:a,on:oD,tween:sD,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:$w})}function qg(e,t){var r=on(e,t);if(r.state>$w)throw new Error("too late; already scheduled");return r}function Pn(e,t){var r=on(e,t);if(r.state>jl)throw new Error("too late; already running");return r}function on(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function uD(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=Rw(i,0,r.time);function i(l){r.state=gm,r.timer.restart(o,r.delay,r.time),r.delay<=l&&o(l-r.delay)}function o(l){var f,c,d,h;if(r.state!==gm)return u();for(f in n)if(h=n[f],h.name===r.name){if(h.state===jl)return vm(o);h.state===pm?(h.state=Jl,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[f]):+f<t&&(h.state=Jl,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[f])}if(vm(function(){r.state===jl&&(r.state=pm,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=bv,r.on.call("start",e,e.__data__,r.index,r.group),r.state===bv){for(r.state=jl,a=new Array(d=r.tween.length),f=0,c=-1;f<d;++f)(h=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++c]=h);a.length=c+1}}function s(l){for(var f=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=wv,1),c=-1,d=a.length;++c<d;)a[c].call(e,f);r.state===wv&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Jl,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function lD(e,t){var r=e.__transition,n,a,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}a=n.state>bv&&n.state<wv,n.state=Jl,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function fD(e){return this.each(function(){lD(this,e)})}function cD(e,t){var r,n;return function(){var a=Pn(this,e),i=a.tween;if(i!==r){n=r=i;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function dD(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Pn(this,e),o=i.tween;if(o!==n){a=(n=o).slice();for(var s={name:t,value:r},u=0,l=a.length;u<l;++u)if(a[u].name===t){a[u]=s;break}u===l&&a.push(s)}i.tween=a}}function hD(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=on(this.node(),r).tween,a=0,i=n.length,o;a<i;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?cD:dD)(r,e,t))}function Vg(e,t,r){var n=e._id;return e.each(function(){var a=Pn(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return on(a,n).value[t]}}function Iw(e,t){var r;return(typeof t=="number"?Ut:t instanceof Ti?Ei:(r=Ti(t))?(t=r,Ei):Dw)(e,t)}function vD(e){return function(){this.removeAttribute(e)}}function gD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pD(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function mD(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function yD(e,t,r){var n,a,i;return function(){var o,s=r(this),u;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=s+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,s)))}}function bD(e,t,r){var n,a,i;return function(){var o,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=s+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,s)))}}function wD(e,t){var r=Tc(e),n=r==="transform"?Z3:Iw;return this.attrTween(e,typeof t=="function"?(r.local?bD:yD)(r,n,Vg(this,"attr."+e,t)):t==null?(r.local?gD:vD)(r):(r.local?mD:pD)(r,n,t))}function xD(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function _D(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function SD(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&_D(e,i)),r}return a._value=t,a}function TD(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&xD(e,i)),r}return a._value=t,a}function ED(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Tc(e);return this.tween(r,(n.local?SD:TD)(n,t))}function MD(e,t){return function(){qg(this,e).delay=+t.apply(this,arguments)}}function kD(e,t){return t=+t,function(){qg(this,e).delay=t}}function CD(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?MD:kD)(t,e)):on(this.node(),t).delay}function DD(e,t){return function(){Pn(this,e).duration=+t.apply(this,arguments)}}function AD(e,t){return t=+t,function(){Pn(this,e).duration=t}}function PD(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DD:AD)(t,e)):on(this.node(),t).duration}function ND(e,t){if(typeof t!="function")throw new Error;return function(){Pn(this,e).ease=t}}function OD(e){var t=this._id;return arguments.length?this.each(ND(t,e)):on(this.node(),t).ease}function LD(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Pn(this,e).ease=r}}function RD(e){if(typeof e!="function")throw new Error;return this.each(LD(this._id,e))}function $D(e){typeof e!="function"&&(e=sw(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=[],u,l=0;l<o;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new sa(n,this._parents,this._name,this._id)}function ID(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),o=new Array(n),s=0;s<i;++s)for(var u=t[s],l=r[s],f=u.length,c=o[s]=new Array(f),d,h=0;h<f;++h)(d=u[h]||l[h])&&(c[h]=d);for(;s<n;++s)o[s]=t[s];return new sa(o,this._parents,this._name,this._id)}function BD(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function FD(e,t,r){var n,a,i=BD(t)?qg:Pn;return function(){var o=i(this,e),s=o.on;s!==n&&(a=(n=s).copy()).on(t,r),o.on=a}}function zD(e,t){var r=this._id;return arguments.length<2?on(this.node(),r).on.on(e):this.each(FD(r,e,t))}function YD(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function qD(){return this.on("end.remove",YD(this._id))}function VD(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Og(e));for(var n=this._groups,a=n.length,i=new Array(a),o=0;o<a;++o)for(var s=n[o],u=s.length,l=i[o]=new Array(u),f,c,d=0;d<u;++d)(f=s[d])&&(c=e.call(f,f.__data__,d,s))&&("__data__"in f&&(c.__data__=f.__data__),l[d]=c,Ac(l[d],t,r,d,l,on(f,r)));return new sa(i,this._parents,t,r)}function WD(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ow(e));for(var n=this._groups,a=n.length,i=[],o=[],s=0;s<a;++s)for(var u=n[s],l=u.length,f,c=0;c<l;++c)if(f=u[c]){for(var d=e.call(f,f.__data__,c,u),h,v=on(f,r),p=0,g=d.length;p<g;++p)(h=d[p])&&Ac(h,t,r,p,d,v);i.push(d),o.push(f)}return new sa(i,o,t,r)}var UD=Du.prototype.constructor;function HD(){return new UD(this._groups,this._parents)}function GD(e,t){var r,n,a;return function(){var i=ko(this,e),o=(this.style.removeProperty(e),ko(this,e));return i===o?null:i===r&&o===n?a:a=t(r=i,n=o)}}function Bw(e){return function(){this.style.removeProperty(e)}}function XD(e,t,r){var n,a=r+"",i;return function(){var o=ko(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}function KD(e,t,r){var n,a,i;return function(){var o=ko(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),ko(this,e))),o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,s))}}function ZD(e,t){var r,n,a,i="style."+t,o="end."+i,s;return function(){var u=Pn(this,e),l=u.on,f=u.value[i]==null?s||(s=Bw(t)):void 0;(l!==r||a!==f)&&(n=(r=l).copy()).on(o,a=f),u.on=n}}function QD(e,t,r){var n=(e+="")=="transform"?K3:Iw;return t==null?this.styleTween(e,GD(e,n)).on("end.style."+e,Bw(e)):typeof t=="function"?this.styleTween(e,KD(e,n,Vg(this,"style."+e,t))).each(ZD(this._id,e)):this.styleTween(e,XD(e,n,t),r).on("end.style."+e,null)}function jD(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function JD(e,t,r){var n,a;function i(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&jD(e,o,r)),n}return i._value=t,i}function e6(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,JD(e,t,r??""))}function t6(e){return function(){this.textContent=e}}function r6(e){return function(){var t=e(this);this.textContent=t??""}}function n6(e){return this.tween("text",typeof e=="function"?r6(Vg(this,"text",e)):t6(e==null?"":e+""))}function a6(e){return function(t){this.textContent=e.call(this,t)}}function i6(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&a6(a)),t}return n._value=e,n}function o6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,i6(e))}function s6(){for(var e=this._name,t=this._id,r=Fw(),n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var f=on(u,t);Ac(u,e,r,l,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new sa(n,this._parents,e,r)}function u6(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,o){var s={value:o},u={value:function(){--a===0&&i()}};r.each(function(){var l=Pn(this,n),f=l.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),a===0&&i()})}var l6=0;function sa(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Fw(){return++l6}var Fn=Du.prototype;sa.prototype={constructor:sa,select:VD,selectAll:WD,selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:$D,merge:ID,selection:HD,transition:s6,call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:zD,attr:wD,attrTween:ED,style:QD,styleTween:e6,text:n6,textTween:o6,remove:qD,tween:hD,delay:CD,duration:PD,ease:OD,easeVarying:RD,end:u6,[Symbol.iterator]:Fn[Symbol.iterator]};function f6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var c6={time:null,delay:0,duration:250,ease:f6};function d6(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function h6(e){var t,r;e instanceof sa?(t=e._id,e=e._name):(t=Fw(),(r=c6).time=Yg(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&Ac(u,e,t,l,o,r||d6(u,t));return new sa(n,this._parents,e,t)}Du.prototype.interrupt=fD;Du.prototype.transition=h6;const xv=Math.PI,_v=2*xv,ui=1e-6,v6=_v-ui;function zw(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function g6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zw;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Yw{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zw:g6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,u=n-t,l=a-r,f=o-t,c=s-r,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>ui)if(!(Math.abs(c*u-l*f)>ui)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-s,p=u*u+l*l,g=h*h+v*v,m=Math.sqrt(p),y=Math.sqrt(d),b=i*Math.tan((xv-Math.acos((p+d-g)/(2*m*y)))/2),w=b/y,S=b/m;Math.abs(w-1)>ui&&this._append`L${t+w*f},${r+w*c}`,this._append`A${i},${i},0,0,${+(c*h>f*v)},${this._x1=t+S*u},${this._y1=r+S*l}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),u=n*Math.sin(a),l=t+s,f=r+u,c=1^o,d=o?a-i:i-a;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>ui||Math.abs(this._y1-f)>ui)&&this._append`L${l},${f}`,n&&(d<0&&(d=d%_v+_v),d>v6?this._append`A${n},${n},0,1,${c},${t-s},${r-u}A${n},${n},0,1,${c},${this._x1=l},${this._y1=f}`:d>ui&&this._append`A${n},${n},0,${+(d>=xv)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Sv(e=3){return new Yw(+e)}function p6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ao(e){return e=Cf(Math.abs(e)),e?e[1]:NaN}function m6(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],u=0;a>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),i.push(r.substring(a-=s,a+s)),!((u+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function y6(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var b6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(e){if(!(t=b6.exec(e)))throw new Error("invalid format: "+e);var t;return new Wg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nu.prototype=Wg.prototype;function Wg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function w6(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var qw;function x6(e,t){var r=Cf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(qw=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Cf(e,Math.max(0,t+i-1))[0]}function mm(e,t){var r=Cf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ym={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:p6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mm(e*100,t),r:mm,s:x6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bm(e){return e}var wm=Array.prototype.map,xm=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _6(e){var t=e.grouping===void 0||e.thousands===void 0?bm:m6(wm.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?bm:y6(wm.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(c){c=nu(c);var d=c.fill,h=c.align,v=c.sign,p=c.symbol,g=c.zero,m=c.width,y=c.comma,b=c.precision,w=c.trim,S=c.type;S==="n"?(y=!0,S="g"):ym[S]||(b===void 0&&(b=12),w=!0,S="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",x=p==="$"?n:/[%p]/.test(S)?o:"",E=ym[S],T=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(M){var D=_,P=x,C,A,O;if(S==="c")P=E(M)+P,M="";else{M=+M;var L=M<0||1/M<0;if(M=isNaN(M)?u:E(Math.abs(M),b),w&&(M=w6(M)),L&&+M==0&&v!=="+"&&(L=!1),D=(L?v==="("?v:s:v==="-"||v==="("?"":v)+D,P=(S==="s"?xm[8+qw/3]:"")+P+(L&&v==="("?")":""),T){for(C=-1,A=M.length;++C<A;)if(O=M.charCodeAt(C),48>O||O>57){P=(O===46?a+M.slice(C+1):M.slice(C))+P,M=M.slice(0,C);break}}}y&&!g&&(M=t(M,1/0));var $=D.length+M.length+P.length,z=$<m?new Array(m-$+1).join(d):"";switch(y&&g&&(M=t(z+M,z.length?m-P.length:1/0),z=""),h){case"<":M=D+M+P+z;break;case"=":M=D+z+M+P;break;case"^":M=z.slice(0,$=z.length>>1)+D+M+P+z.slice($);break;default:M=z+D+M+P;break}return i(M)}return k.toString=function(){return c+""},k}function f(c,d){var h=l((c=nu(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(Ao(d)/3)))*3,p=Math.pow(10,-v),g=xm[8+v/3];return function(m){return h(p*m)+g}}return{format:l,formatPrefix:f}}var gl,Xo,Vw;S6({thousands:",",grouping:[3],currency:["$",""]});function S6(e){return gl=_6(e),Xo=gl.format,Vw=gl.formatPrefix,gl}function T6(e){return Math.max(0,-Ao(Math.abs(e)))}function E6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ao(t)/3)))*3-Ao(Math.abs(e)))}function M6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ao(t)-Ao(e))+1}var Ne=1e-6,Ww=1e-12,Le=Math.PI,dt=Le/2,_m=Le/4,_r=Le*2,ar=180/Le,ct=Le/180,Ze=Math.abs,Ko=Math.atan,ua=Math.atan2,Oe=Math.cos,Uw=Math.exp,Df=Math.log,ih=Math.pow,Ce=Math.sin,Or=Math.sign||function(e){return e>0?1:e<0?-1:0},hr=Math.sqrt,Ug=Math.tan;function Hw(e){return e>1?0:e<-1?Le:Math.acos(e)}function Br(e){return e>1?dt:e<-1?-dt:Math.asin(e)}function Lr(){}function Af(e,t){e&&Tm.hasOwnProperty(e.type)&&Tm[e.type](e,t)}var Sm={Feature:function(e,t){Af(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,a=r.length;++n<a;)Af(r[n].geometry,t)}},Tm={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,a=r.length;++n<a;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){Tv(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,a=r.length;++n<a;)Tv(r[n],t,0)},Polygon:function(e,t){Em(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,a=r.length;++n<a;)Em(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,a=r.length;++n<a;)Af(r[n],t)}};function Tv(e,t,r){var n=-1,a=e.length-r,i;for(t.lineStart();++n<a;)i=e[n],t.point(i[0],i[1],i[2]);t.lineEnd()}function Em(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)Tv(e[r],t,1);t.polygonEnd()}function di(e,t){e&&Sm.hasOwnProperty(e.type)?Sm[e.type](e,t):Af(e,t)}function Ev(e){return[ua(e[1],e[0]),Br(e[2])]}function Po(e){var t=e[0],r=e[1],n=Oe(r);return[n*Oe(t),n*Ce(t),Ce(r)]}function pl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Pf(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function oh(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ml(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Mv(e){var t=hr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function kv(e,t){function r(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,a){return n=t.invert(n,a),n&&e.invert(n[0],n[1])}),r}function Cv(e,t){return Ze(e)>Le&&(e-=Math.round(e/_r)*_r),[e,t]}Cv.invert=Cv;function Gw(e,t,r){return(e%=_r)?t||r?kv(km(e),Cm(t,r)):km(e):t||r?Cm(t,r):Cv}function Mm(e){return function(t,r){return t+=e,Ze(t)>Le&&(t-=Math.round(t/_r)*_r),[t,r]}}function km(e){var t=Mm(e);return t.invert=Mm(-e),t}function Cm(e,t){var r=Oe(e),n=Ce(e),a=Oe(t),i=Ce(t);function o(s,u){var l=Oe(u),f=Oe(s)*l,c=Ce(s)*l,d=Ce(u),h=d*r+f*n;return[ua(c*a-h*i,f*r-d*n),Br(h*a+c*i)]}return o.invert=function(s,u){var l=Oe(u),f=Oe(s)*l,c=Ce(s)*l,d=Ce(u),h=d*a-c*i;return[ua(c*a+d*i,f*r+h*n),Br(h*r-f*n)]},o}function k6(e){e=Gw(e[0]*ct,e[1]*ct,e.length>2?e[2]*ct:0);function t(r){return r=e(r[0]*ct,r[1]*ct),r[0]*=ar,r[1]*=ar,r}return t.invert=function(r){return r=e.invert(r[0]*ct,r[1]*ct),r[0]*=ar,r[1]*=ar,r},t}function C6(e,t,r,n,a,i){if(r){var o=Oe(t),s=Ce(t),u=n*r;a==null?(a=t+n*_r,i=t-u/2):(a=Dm(o,a),i=Dm(o,i),(n>0?a<i:a>i)&&(a+=n*_r));for(var l,f=a;n>0?f>i:f<i;f-=u)l=Ev([o,-s*Oe(f),-s*Ce(f)]),e.point(l[0],l[1])}}function Dm(e,t){t=Po(t),t[0]-=e,Mv(t);var r=Hw(-t[1]);return((-t[2]<0?-r:r)+_r-Ne)%_r}function Xw(){var e=[],t;return{point:function(r,n,a){t.push([r,n,a])},lineStart:function(){e.push(t=[])},lineEnd:Lr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function ef(e,t){return Ze(e[0]-t[0])<Ne&&Ze(e[1]-t[1])<Ne}function yl(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Kw(e,t,r,n,a){var i=[],o=[],s,u;if(e.forEach(function(v){if(!((p=v.length-1)<=0)){var p,g=v[0],m=v[p],y;if(ef(g,m)){if(!g[2]&&!m[2]){for(a.lineStart(),s=0;s<p;++s)a.point((g=v[s])[0],g[1]);a.lineEnd();return}m[0]+=2*Ne}i.push(y=new yl(g,v,null,!0)),o.push(y.o=new yl(g,null,y,!1)),i.push(y=new yl(m,v,null,!1)),o.push(y.o=new yl(m,null,y,!0))}}),!!i.length){for(o.sort(t),Am(i),Am(o),s=0,u=o.length;s<u;++s)o[s].e=r=!r;for(var l=i[0],f,c;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;f=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,u=f.length;s<u;++s)a.point((c=f[s])[0],c[1]);else n(d.x,d.n.x,1,a);d=d.n}else{if(h)for(f=d.p.z,s=f.length-1;s>=0;--s)a.point((c=f[s])[0],c[1]);else n(d.x,d.p.x,-1,a);d=d.p}d=d.o,f=d.z,h=!h}while(!d.v);a.lineEnd()}}}function Am(e){if(t=e.length){for(var t,r=0,n=e[0],a;++r<t;)n.n=a=e[r],a.p=n,n=a;n.n=a=e[0],a.p=n}}function sh(e){return Ze(e[0])<=Le?e[0]:Or(e[0])*((Ze(e[0])+Le)%_r-Le)}function D6(e,t){var r=sh(t),n=t[1],a=Ce(n),i=[Ce(r),-Oe(r),0],o=0,s=0,u=new xi;a===1?n=dt+Ne:a===-1&&(n=-dt-Ne);for(var l=0,f=e.length;l<f;++l)if(d=(c=e[l]).length)for(var c,d,h=c[d-1],v=sh(h),p=h[1]/2+_m,g=Ce(p),m=Oe(p),y=0;y<d;++y,v=w,g=_,m=x,h=b){var b=c[y],w=sh(b),S=b[1]/2+_m,_=Ce(S),x=Oe(S),E=w-v,T=E>=0?1:-1,k=T*E,M=k>Le,D=g*_;if(u.add(ua(D*T*Ce(k),m*x+D*Oe(k))),o+=M?E+T*_r:E,M^v>=r^w>=r){var P=Pf(Po(h),Po(b));Mv(P);var C=Pf(i,P);Mv(C);var A=(M^E>=0?-1:1)*Br(C[2]);(n>A||n===A&&(P[0]||P[1]))&&(s+=M^E>=0?1:-1)}}return(o<-Ne||o<Ne&&u<-Ww)^s&1}function Zw(e,t,r,n){return function(a){var i=t(a),o=Xw(),s=t(o),u=!1,l,f,c,d={point:h,lineStart:p,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,f=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=p,d.lineEnd=g,f=aw(f);var w=D6(l,n);f.length?(u||(a.polygonStart(),u=!0),Kw(f,P6,w,r,a)):w&&(u||(a.polygonStart(),u=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),f=l=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(w,S){e(w,S)&&a.point(w,S)}function v(w,S){i.point(w,S)}function p(){d.point=v,i.lineStart()}function g(){d.point=h,i.lineEnd()}function m(w,S){c.push([w,S]),s.point(w,S)}function y(){s.lineStart(),c=[]}function b(){m(c[0][0],c[0][1]),s.lineEnd();var w=s.clean(),S=o.result(),_,x=S.length,E,T,k;if(c.pop(),l.push(c),c=null,!!x){if(w&1){if(T=S[0],(E=T.length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),_=0;_<E;++_)a.point((k=T[_])[0],k[1]);a.lineEnd()}return}x>1&&w&2&&S.push(S.pop().concat(S.shift())),f.push(S.filter(A6))}}return d}}function A6(e){return e.length>1}function P6(e,t){return((e=e.x)[0]<0?e[1]-dt-Ne:dt-e[1])-((t=t.x)[0]<0?t[1]-dt-Ne:dt-t[1])}const Pm=Zw(function(){return!0},N6,L6,[-Le,-dt]);function N6(e){var t=NaN,r=NaN,n=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(i,o){var s=i>0?Le:-Le,u=Ze(i-t);Ze(u-Le)<Ne?(e.point(t,r=(r+o)/2>0?dt:-dt),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(i,r),a=0):n!==s&&u>=Le&&(Ze(t-n)<Ne&&(t-=n*Ne),Ze(i-s)<Ne&&(i-=s*Ne),r=O6(t,r,i,o),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),a=0),e.point(t=i,r=o),n=s},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-a}}}function O6(e,t,r,n){var a,i,o=Ce(e-r);return Ze(o)>Ne?Ko((Ce(t)*(i=Oe(n))*Ce(r)-Ce(n)*(a=Oe(t))*Ce(e))/(a*i*o)):(t+n)/2}function L6(e,t,r,n){var a;if(e==null)a=r*dt,n.point(-Le,a),n.point(0,a),n.point(Le,a),n.point(Le,0),n.point(Le,-a),n.point(0,-a),n.point(-Le,-a),n.point(-Le,0),n.point(-Le,a);else if(Ze(e[0]-t[0])>Ne){var i=e[0]<t[0]?Le:-Le;a=r*i/2,n.point(-i,a),n.point(0,a),n.point(i,a)}else n.point(t[0],t[1])}function R6(e){var t=Oe(e),r=2*ct,n=t>0,a=Ze(t)>Ne;function i(f,c,d,h){C6(h,e,r,d,f,c)}function o(f,c){return Oe(f)*Oe(c)>t}function s(f){var c,d,h,v,p;return{lineStart:function(){v=h=!1,p=1},point:function(g,m){var y=[g,m],b,w=o(g,m),S=n?w?0:l(g,m):w?l(g+(g<0?Le:-Le),m):0;if(!c&&(v=h=w)&&f.lineStart(),w!==h&&(b=u(c,y),(!b||ef(c,b)||ef(y,b))&&(y[2]=1)),w!==h)p=0,w?(f.lineStart(),b=u(y,c),f.point(b[0],b[1])):(b=u(c,y),f.point(b[0],b[1],2),f.lineEnd()),c=b;else if(a&&c&&n^w){var _;!(S&d)&&(_=u(y,c,!0))&&(p=0,n?(f.lineStart(),f.point(_[0][0],_[0][1]),f.point(_[1][0],_[1][1]),f.lineEnd()):(f.point(_[1][0],_[1][1]),f.lineEnd(),f.lineStart(),f.point(_[0][0],_[0][1],3)))}w&&(!c||!ef(c,y))&&f.point(y[0],y[1]),c=y,h=w,d=S},lineEnd:function(){h&&f.lineEnd(),c=null},clean:function(){return p|(v&&h)<<1}}}function u(f,c,d){var h=Po(f),v=Po(c),p=[1,0,0],g=Pf(h,v),m=pl(g,g),y=g[0],b=m-y*y;if(!b)return!d&&f;var w=t*m/b,S=-t*y/b,_=Pf(p,g),x=ml(p,w),E=ml(g,S);oh(x,E);var T=_,k=pl(x,T),M=pl(T,T),D=k*k-M*(pl(x,x)-1);if(!(D<0)){var P=hr(D),C=ml(T,(-k-P)/M);if(oh(C,x),C=Ev(C),!d)return C;var A=f[0],O=c[0],L=f[1],$=c[1],z;O<A&&(z=A,A=O,O=z);var F=O-A,I=Ze(F-Le)<Ne,B=I||F<Ne;if(!I&&$<L&&(z=L,L=$,$=z),B?I?L+$>0^C[1]<(Ze(C[0]-A)<Ne?L:$):L<=C[1]&&C[1]<=$:F>Le^(A<=C[0]&&C[0]<=O)){var V=ml(T,(-k+P)/M);return oh(V,x),[C,Ev(V)]}}}function l(f,c){var d=n?e:Le-e,h=0;return f<-d?h|=1:f>d&&(h|=2),c<-d?h|=4:c>d&&(h|=8),h}return Zw(o,s,i,n?[0,-e]:[-Le,e-Le])}function $6(e,t,r,n,a,i){var o=e[0],s=e[1],u=t[0],l=t[1],f=0,c=1,d=u-o,h=l-s,v;if(v=r-o,!(!d&&v>0)){if(v/=d,d<0){if(v<f)return;v<c&&(c=v)}else if(d>0){if(v>c)return;v>f&&(f=v)}if(v=a-o,!(!d&&v<0)){if(v/=d,d<0){if(v>c)return;v>f&&(f=v)}else if(d>0){if(v<f)return;v<c&&(c=v)}if(v=n-s,!(!h&&v>0)){if(v/=h,h<0){if(v<f)return;v<c&&(c=v)}else if(h>0){if(v>c)return;v>f&&(f=v)}if(v=i-s,!(!h&&v<0)){if(v/=h,h<0){if(v>c)return;v>f&&(f=v)}else if(h>0){if(v<f)return;v<c&&(c=v)}return f>0&&(e[0]=o+f*d,e[1]=s+f*h),c<1&&(t[0]=o+c*d,t[1]=s+c*h),!0}}}}}var Ls=1e9,bl=-Ls;function Qw(e,t,r,n){function a(l,f){return e<=l&&l<=r&&t<=f&&f<=n}function i(l,f,c,d){var h=0,v=0;if(l==null||(h=o(l,c))!==(v=o(f,c))||u(l,f)<0^c>0)do d.point(h===0||h===3?e:r,h>1?n:t);while((h=(h+c+4)%4)!==v);else d.point(f[0],f[1])}function o(l,f){return Ze(l[0]-e)<Ne?f>0?0:3:Ze(l[0]-r)<Ne?f>0?2:1:Ze(l[1]-t)<Ne?f>0?1:0:f>0?3:2}function s(l,f){return u(l.x,f.x)}function u(l,f){var c=o(l,1),d=o(f,1);return c!==d?c-d:c===0?f[1]-l[1]:c===1?l[0]-f[0]:c===2?l[1]-f[1]:f[0]-l[0]}return function(l){var f=l,c=Xw(),d,h,v,p,g,m,y,b,w,S,_,x={point:E,lineStart:D,lineEnd:P,polygonStart:k,polygonEnd:M};function E(A,O){a(A,O)&&f.point(A,O)}function T(){for(var A=0,O=0,L=h.length;O<L;++O)for(var $=h[O],z=1,F=$.length,I=$[0],B,V,K=I[0],j=I[1];z<F;++z)B=K,V=j,I=$[z],K=I[0],j=I[1],V<=n?j>n&&(K-B)*(n-V)>(j-V)*(e-B)&&++A:j<=n&&(K-B)*(n-V)<(j-V)*(e-B)&&--A;return A}function k(){f=c,d=[],h=[],_=!0}function M(){var A=T(),O=_&&A,L=(d=aw(d)).length;(O||L)&&(l.polygonStart(),O&&(l.lineStart(),i(null,null,1,l),l.lineEnd()),L&&Kw(d,s,A,i,l),l.polygonEnd()),f=l,d=h=v=null}function D(){x.point=C,h&&h.push(v=[]),S=!0,w=!1,y=b=NaN}function P(){d&&(C(p,g),m&&w&&c.rejoin(),d.push(c.result())),x.point=E,w&&f.lineEnd()}function C(A,O){var L=a(A,O);if(h&&v.push([A,O]),S)p=A,g=O,m=L,S=!1,L&&(f.lineStart(),f.point(A,O));else if(L&&w)f.point(A,O);else{var $=[y=Math.max(bl,Math.min(Ls,y)),b=Math.max(bl,Math.min(Ls,b))],z=[A=Math.max(bl,Math.min(Ls,A)),O=Math.max(bl,Math.min(Ls,O))];$6($,z,e,t,r,n)?(w||(f.lineStart(),f.point($[0],$[1])),f.point(z[0],z[1]),L||f.lineEnd(),_=!1):L&&(f.lineStart(),f.point(A,O),_=!1)}y=A,b=O,w=L}return x}}const Dv=e=>e;var uh=new xi,Av=new xi,jw,Jw,Pv,Nv,Zn={point:Lr,lineStart:Lr,lineEnd:Lr,polygonStart:function(){Zn.lineStart=I6,Zn.lineEnd=F6},polygonEnd:function(){Zn.lineStart=Zn.lineEnd=Zn.point=Lr,uh.add(Ze(Av)),Av=new xi},result:function(){var e=uh/2;return uh=new xi,e}};function I6(){Zn.point=B6}function B6(e,t){Zn.point=e2,jw=Pv=e,Jw=Nv=t}function e2(e,t){Av.add(Nv*e-Pv*t),Pv=e,Nv=t}function F6(){e2(jw,Jw)}var No=1/0,Nf=No,au=-No,Of=au,Lf={point:z6,lineStart:Lr,lineEnd:Lr,polygonStart:Lr,polygonEnd:Lr,result:function(){var e=[[No,Nf],[au,Of]];return au=Of=-(Nf=No=1/0),e}};function z6(e,t){e<No&&(No=e),e>au&&(au=e),t<Nf&&(Nf=t),t>Of&&(Of=t)}var Ov=0,Lv=0,Rs=0,Rf=0,$f=0,io=0,Rv=0,$v=0,$s=0,t2,r2,yn,bn,Pr={point:ki,lineStart:Nm,lineEnd:Om,polygonStart:function(){Pr.lineStart=V6,Pr.lineEnd=W6},polygonEnd:function(){Pr.point=ki,Pr.lineStart=Nm,Pr.lineEnd=Om},result:function(){var e=$s?[Rv/$s,$v/$s]:io?[Rf/io,$f/io]:Rs?[Ov/Rs,Lv/Rs]:[NaN,NaN];return Ov=Lv=Rs=Rf=$f=io=Rv=$v=$s=0,e}};function ki(e,t){Ov+=e,Lv+=t,++Rs}function Nm(){Pr.point=Y6}function Y6(e,t){Pr.point=q6,ki(yn=e,bn=t)}function q6(e,t){var r=e-yn,n=t-bn,a=hr(r*r+n*n);Rf+=a*(yn+e)/2,$f+=a*(bn+t)/2,io+=a,ki(yn=e,bn=t)}function Om(){Pr.point=ki}function V6(){Pr.point=U6}function W6(){n2(t2,r2)}function U6(e,t){Pr.point=n2,ki(t2=yn=e,r2=bn=t)}function n2(e,t){var r=e-yn,n=t-bn,a=hr(r*r+n*n);Rf+=a*(yn+e)/2,$f+=a*(bn+t)/2,io+=a,a=bn*e-yn*t,Rv+=a*(yn+e),$v+=a*(bn+t),$s+=a*3,ki(yn=e,bn=t)}function a2(e){this._context=e}a2.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,_r);break}}},result:Lr};var Iv=new xi,lh,i2,o2,Is,Bs,iu={point:Lr,lineStart:function(){iu.point=H6},lineEnd:function(){lh&&s2(i2,o2),iu.point=Lr},polygonStart:function(){lh=!0},polygonEnd:function(){lh=null},result:function(){var e=+Iv;return Iv=new xi,e}};function H6(e,t){iu.point=s2,i2=Is=e,o2=Bs=t}function s2(e,t){Is-=e,Bs-=t,Iv.add(hr(Is*Is+Bs*Bs)),Is=e,Bs=t}let Lm,If,Rm,$m;class Im{constructor(t){this._append=t==null?u2:G6(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==Rm||this._append!==If){const n=this._radius,a=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Rm=n,If=this._append,$m=this._,this._=a}this._+=$m;break}}}result(){const t=this._;return this._="",t.length?t:null}}function u2(e){let t=1;this._+=e[0];for(const r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function G6(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return u2;if(t!==Lm){const r=10**t;Lm=t,If=function(a){let i=1;this._+=a[0];for(const o=a.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+a[i]}}return If}function Pc(e,t){let r=3,n=4.5,a,i;function o(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),di(s,a(i))),i.result()}return o.area=function(s){return di(s,a(Zn)),Zn.result()},o.measure=function(s){return di(s,a(iu)),iu.result()},o.bounds=function(s){return di(s,a(Lf)),Lf.result()},o.centroid=function(s){return di(s,a(Pr)),Pr.result()},o.projection=function(s){return arguments.length?(a=s==null?(e=null,Dv):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=s==null?(t=null,new Im(r)):new a2(t=s),typeof n!="function"&&i.pointRadius(n),o):t},o.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),o):n},o.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);r=u}return t===null&&(i=new Im(r)),o},o.projection(e).digits(r).context(t)}function Bv(e){return{stream:Nc(e)}}function Nc(e){return function(t){var r=new Fv;for(var n in e)r[n]=e[n];return r.stream=t,r}}function Fv(){}Fv.prototype={constructor:Fv,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Hg(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),di(r,e.stream(Lf)),t(Lf.result()),n!=null&&e.clipExtent(n),e}function Gg(e,t,r){return Hg(e,function(n){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(a/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(a-o*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,u])},r)}function l2(e,t,r){return Gg(e,[[0,0],t],r)}function f2(e,t,r){return Hg(e,function(n){var a=+t,i=a/(n[1][0]-n[0][0]),o=(a-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([o,s])},r)}function c2(e,t,r){return Hg(e,function(n){var a=+t,i=a/(n[1][1]-n[0][1]),o=-i*n[0][0],s=(a-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,s])},r)}var Bm=16,X6=Oe(30*ct);function Fm(e,t){return+t?Z6(e,t):K6(e)}function K6(e){return Nc({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function Z6(e,t){function r(n,a,i,o,s,u,l,f,c,d,h,v,p,g){var m=l-n,y=f-a,b=m*m+y*y;if(b>4*t&&p--){var w=o+d,S=s+h,_=u+v,x=hr(w*w+S*S+_*_),E=Br(_/=x),T=Ze(Ze(_)-1)<Ne||Ze(i-c)<Ne?(i+c)/2:ua(S,w),k=e(T,E),M=k[0],D=k[1],P=M-n,C=D-a,A=y*P-m*C;(A*A/b>t||Ze((m*P+y*C)/b-.5)>.3||o*d+s*h+u*v<X6)&&(r(n,a,i,o,s,u,M,D,T,w/=x,S/=x,_,p,g),g.point(M,D),r(M,D,T,w,S,_,l,f,c,d,h,v,p,g))}}return function(n){var a,i,o,s,u,l,f,c,d,h,v,p,g={point:m,lineStart:y,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=S},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function m(E,T){E=e(E,T),n.point(E[0],E[1])}function y(){c=NaN,g.point=b,n.lineStart()}function b(E,T){var k=Po([E,T]),M=e(E,T);r(c,d,f,h,v,p,c=M[0],d=M[1],f=E,h=k[0],v=k[1],p=k[2],Bm,n),n.point(c,d)}function w(){g.point=m,n.lineEnd()}function S(){y(),g.point=_,g.lineEnd=x}function _(E,T){b(a=E,T),i=c,o=d,s=h,u=v,l=p,g.point=b}function x(){r(c,d,f,h,v,p,i,o,a,s,u,l,Bm,n),g.lineEnd=w,w()}return g}}var Q6=Nc({point:function(e,t){this.stream.point(e*ct,t*ct)}});function j6(e){return Nc({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function J6(e,t,r,n,a){function i(o,s){return o*=n,s*=a,[t+e*o,r-e*s]}return i.invert=function(o,s){return[(o-t)/e*n,(r-s)/e*a]},i}function zm(e,t,r,n,a,i){if(!i)return J6(e,t,r,n,a);var o=Oe(i),s=Ce(i),u=o*e,l=s*e,f=o/e,c=s/e,d=(s*r-o*t)/e,h=(s*t+o*r)/e;function v(p,g){return p*=n,g*=a,[u*p-l*g+t,r-l*p-u*g]}return v.invert=function(p,g){return[n*(f*p-c*g+d),a*(h-c*p-f*g)]},v}function Qa(e){return d2(function(){return e})()}function d2(e){var t,r=150,n=480,a=250,i=0,o=0,s=0,u=0,l=0,f,c=0,d=1,h=1,v=null,p=Pm,g=null,m,y,b,w=Dv,S=.5,_,x,E,T,k;function M(A){return E(A[0]*ct,A[1]*ct)}function D(A){return A=E.invert(A[0],A[1]),A&&[A[0]*ar,A[1]*ar]}M.stream=function(A){return T&&k===A?T:T=Q6(j6(f)(p(_(w(k=A)))))},M.preclip=function(A){return arguments.length?(p=A,v=void 0,C()):p},M.postclip=function(A){return arguments.length?(w=A,g=m=y=b=null,C()):w},M.clipAngle=function(A){return arguments.length?(p=+A?R6(v=A*ct):(v=null,Pm),C()):v*ar},M.clipExtent=function(A){return arguments.length?(w=A==null?(g=m=y=b=null,Dv):Qw(g=+A[0][0],m=+A[0][1],y=+A[1][0],b=+A[1][1]),C()):g==null?null:[[g,m],[y,b]]},M.scale=function(A){return arguments.length?(r=+A,P()):r},M.translate=function(A){return arguments.length?(n=+A[0],a=+A[1],P()):[n,a]},M.center=function(A){return arguments.length?(i=A[0]%360*ct,o=A[1]%360*ct,P()):[i*ar,o*ar]},M.rotate=function(A){return arguments.length?(s=A[0]%360*ct,u=A[1]%360*ct,l=A.length>2?A[2]%360*ct:0,P()):[s*ar,u*ar,l*ar]},M.angle=function(A){return arguments.length?(c=A%360*ct,P()):c*ar},M.reflectX=function(A){return arguments.length?(d=A?-1:1,P()):d<0},M.reflectY=function(A){return arguments.length?(h=A?-1:1,P()):h<0},M.precision=function(A){return arguments.length?(_=Fm(x,S=A*A),C()):hr(S)},M.fitExtent=function(A,O){return Gg(M,A,O)},M.fitSize=function(A,O){return l2(M,A,O)},M.fitWidth=function(A,O){return f2(M,A,O)},M.fitHeight=function(A,O){return c2(M,A,O)};function P(){var A=zm(r,0,0,d,h,c).apply(null,t(i,o)),O=zm(r,n-A[0],a-A[1],d,h,c);return f=Gw(s,u,l),x=kv(t,O),E=kv(f,x),_=Fm(x,S),C()}function C(){return T=k=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&D,P()}}function Xg(e){var t=0,r=Le/3,n=d2(e),a=n(t,r);return a.parallels=function(i){return arguments.length?n(t=i[0]*ct,r=i[1]*ct):[t*ar,r*ar]},a}function e4(e){var t=Oe(e);function r(n,a){return[n*t,Ce(a)/t]}return r.invert=function(n,a){return[n/t,Br(a*t)]},r}function t4(e,t){var r=Ce(e),n=(r+Ce(t))/2;if(Ze(n)<Ne)return e4(e);var a=1+r*(2*n-r),i=hr(a)/n;function o(s,u){var l=hr(a-2*n*Ce(u))/n;return[l*Ce(s*=n),i-l*Oe(s)]}return o.invert=function(s,u){var l=i-u,f=ua(s,Ze(l))*Or(l);return l*n<0&&(f-=Le*Or(s)*Or(l)),[f/n,Br((a-(s*s+l*l)*n*n)/(2*n))]},o}function Bf(){return Xg(t4).scale(155.424).center([0,33.6442])}function h2(){return Bf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function r4(e){var t=e.length;return{point:function(r,n){for(var a=-1;++a<t;)e[a].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function n4(){var e,t,r=h2(),n,a=Bf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,o=Bf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(d,h){u=[d,h]}};function f(d){var h=d[0],v=d[1];return u=null,n.point(h,v),u||(i.point(h,v),u)||(s.point(h,v),u)}f.invert=function(d){var h=r.scale(),v=r.translate(),p=(d[0]-v[0])/h,g=(d[1]-v[1])/h;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?a:g>=.166&&g<.234&&p>=-.214&&p<-.115?o:r).invert(d)},f.stream=function(d){return e&&t===d?e:e=r4([r.stream(t=d),a.stream(d),o.stream(d)])},f.precision=function(d){return arguments.length?(r.precision(d),a.precision(d),o.precision(d),c()):r.precision()},f.scale=function(d){return arguments.length?(r.scale(d),a.scale(d*.35),o.scale(d),f.translate(r.translate())):r.scale()},f.translate=function(d){if(!arguments.length)return r.translate();var h=r.scale(),v=+d[0],p=+d[1];return n=r.translate(d).clipExtent([[v-.455*h,p-.238*h],[v+.455*h,p+.238*h]]).stream(l),i=a.translate([v-.307*h,p+.201*h]).clipExtent([[v-.425*h+Ne,p+.12*h+Ne],[v-.214*h-Ne,p+.234*h-Ne]]).stream(l),s=o.translate([v-.205*h,p+.212*h]).clipExtent([[v-.214*h+Ne,p+.166*h+Ne],[v-.115*h-Ne,p+.234*h-Ne]]).stream(l),c()},f.fitExtent=function(d,h){return Gg(f,d,h)},f.fitSize=function(d,h){return l2(f,d,h)},f.fitWidth=function(d,h){return f2(f,d,h)},f.fitHeight=function(d,h){return c2(f,d,h)};function c(){return e=t=null,f}return f.scale(1070)}function v2(e){return function(t,r){var n=Oe(t),a=Oe(r),i=e(n*a);return i===1/0?[2,0]:[i*a*Ce(t),i*Ce(r)]}}function Nu(e){return function(t,r){var n=hr(t*t+r*r),a=e(n),i=Ce(a),o=Oe(a);return[ua(t*i,n*o),Br(n&&r*i/n)]}}var g2=v2(function(e){return hr(2/(1+e))});g2.invert=Nu(function(e){return 2*Br(e/2)});function a4(){return Qa(g2).scale(124.75).clipAngle(180-.001)}var p2=v2(function(e){return(e=Hw(e))&&e/Ce(e)});p2.invert=Nu(function(e){return e});function i4(){return Qa(p2).scale(79.4188).clipAngle(180-.001)}function Oc(e,t){return[e,Df(Ug((dt+t)/2))]}Oc.invert=function(e,t){return[e,2*Ko(Uw(t))-dt]};function o4(){return m2(Oc).scale(961/_r)}function m2(e){var t=Qa(e),r=t.center,n=t.scale,a=t.translate,i=t.clipExtent,o=null,s,u,l;t.scale=function(c){return arguments.length?(n(c),f()):n()},t.translate=function(c){return arguments.length?(a(c),f()):a()},t.center=function(c){return arguments.length?(r(c),f()):r()},t.clipExtent=function(c){return arguments.length?(c==null?o=s=u=l=null:(o=+c[0][0],s=+c[0][1],u=+c[1][0],l=+c[1][1]),f()):o==null?null:[[o,s],[u,l]]};function f(){var c=Le*n(),d=t(k6(t.rotate()).invert([0,0]));return i(o==null?[[d[0]-c,d[1]-c],[d[0]+c,d[1]+c]]:e===Oc?[[Math.max(d[0]-c,o),s],[Math.min(d[0]+c,u),l]]:[[o,Math.max(d[1]-c,s)],[u,Math.min(d[1]+c,l)]])}return f()}function wl(e){return Ug((dt+e)/2)}function s4(e,t){var r=Oe(e),n=e===t?Ce(e):Df(r/Oe(t))/Df(wl(t)/wl(e)),a=r*ih(wl(e),n)/n;if(!n)return Oc;function i(o,s){a>0?s<-dt+Ne&&(s=-dt+Ne):s>dt-Ne&&(s=dt-Ne);var u=a/ih(wl(s),n);return[u*Ce(n*o),a-u*Oe(n*o)]}return i.invert=function(o,s){var u=a-s,l=Or(n)*hr(o*o+u*u),f=ua(o,Ze(u))*Or(u);return u*n<0&&(f-=Le*Or(o)*Or(u)),[f/n,2*Ko(ih(a/l,1/n))-dt]},i}function u4(){return Xg(s4).scale(109.5).parallels([30,30])}function Ff(e,t){return[e,t]}Ff.invert=Ff;function l4(){return Qa(Ff).scale(152.63)}function f4(e,t){var r=Oe(e),n=e===t?Ce(e):(r-Oe(t))/(t-e),a=r/n+e;if(Ze(n)<Ne)return Ff;function i(o,s){var u=a-s,l=n*o;return[u*Ce(l),a-u*Oe(l)]}return i.invert=function(o,s){var u=a-s,l=ua(o,Ze(u))*Or(u);return u*n<0&&(l-=Le*Or(o)*Or(u)),[l/n,a-Or(n)*hr(o*o+u*u)]},i}function c4(){return Xg(f4).scale(131.154).center([0,13.9389])}var Hs=1.340264,Gs=-.081106,Xs=893e-6,Ks=.003796,zf=hr(3)/2,d4=12;function y2(e,t){var r=Br(zf*Ce(t)),n=r*r,a=n*n*n;return[e*Oe(r)/(zf*(Hs+3*Gs*n+a*(7*Xs+9*Ks*n))),r*(Hs+Gs*n+a*(Xs+Ks*n))]}y2.invert=function(e,t){for(var r=t,n=r*r,a=n*n*n,i=0,o,s,u;i<d4&&(s=r*(Hs+Gs*n+a*(Xs+Ks*n))-t,u=Hs+3*Gs*n+a*(7*Xs+9*Ks*n),r-=o=s/u,n=r*r,a=n*n*n,!(Ze(o)<Ww));++i);return[zf*e*(Hs+3*Gs*n+a*(7*Xs+9*Ks*n))/Oe(r),Br(Ce(r)/zf)]};function h4(){return Qa(y2).scale(177.158)}function b2(e,t){var r=Oe(t),n=Oe(e)*r;return[r*Ce(e)/n,Ce(t)/n]}b2.invert=Nu(Ko);function v4(){return Qa(b2).scale(144.049).clipAngle(60)}function w2(e,t){return[Oe(t)*Ce(e),Ce(t)]}w2.invert=Nu(Br);function g4(){return Qa(w2).scale(249.5).clipAngle(90+Ne)}function x2(e,t){var r=Oe(t),n=1+Oe(e)*r;return[r*Ce(e)/n,Ce(t)/n]}x2.invert=Nu(function(e){return 2*Ko(e)});function p4(){return Qa(x2).scale(250).clipAngle(142)}function _2(e,t){return[Df(Ug((dt+t)/2)),-e]}_2.invert=function(e,t){return[-t,2*Ko(Uw(e))-dt]};function m4(){var e=m2(_2),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function Nn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Lc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zv=Symbol("implicit");function Kg(){var e=new _i,t=[],r=[],n=zv;function a(i){let o=e.get(i);if(o===void 0){if(n!==zv)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new _i;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Kg(t,r).unknown(n)},Nn.apply(a,arguments),a}function Rc(){var e=Kg().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,u=0,l=0,f=.5;delete e.unknown;function c(){var d=t().length,h=a<n,v=h?a:n,p=h?n:a;i=(p-v)/Math.max(1,d-u+l*2),s&&(i=Math.floor(i)),v+=(p-v-i*(d-u))*f,o=i*(1-u),s&&(v=Math.round(v),o=Math.round(o));var g=cv(d).map(function(m){return v+i*m});return r(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([n,a]=d,n=+n,a=+a,c()):[n,a]},e.rangeRound=function(d){return[n,a]=d,n=+n,a=+a,s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),c()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),c()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,c()):l},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},e.copy=function(){return Rc(t(),[n,a]).round(s).paddingInner(u).paddingOuter(l).align(f)},Nn.apply(c(),arguments)}function S2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return S2(t())},e}function y4(){return S2(Rc.apply(null,arguments).paddingInner(1))}function b4(e){return function(){return e}}function Yv(e){return+e}var Ym=[0,1];function Rr(e){return e}function qv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:b4(isNaN(t)?NaN:.5)}function w4(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function x4(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=qv(a,n),i=r(o,i)):(n=qv(n,a),i=r(i,o)),function(s){return i(n(s))}}function _4(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=qv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var u=xc(e,s,1,n)-1;return i[u](a[u](s))}}function Ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $c(){var e=Ym,t=Ym,r=Pu,n,a,i,o=Rr,s,u,l;function f(){var d=Math.min(e.length,t.length);return o!==Rr&&(o=w4(e[0],e[d-1])),s=d>2?_4:x4,u=l=null,c}function c(d){return d==null||isNaN(d=+d)?i:(u||(u=s(e.map(n),t,r)))(n(o(d)))}return c.invert=function(d){return o(a((l||(l=s(t,e.map(n),Ut)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Yv),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),r=Fg,f()},c.clamp=function(d){return arguments.length?(o=d?!0:Rr,f()):o!==Rr},c.interpolate=function(d){return arguments.length?(r=d,f()):r},c.unknown=function(d){return arguments.length?(i=d,c):i},function(d,h){return n=d,a=h,f()}}function T2(){return $c()(Rr,Rr)}function S4(e,t,r,n){var a=lv(e,t,r),i;switch(n=nu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=E6(a,o))&&(n.precision=i),Vw(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=M6(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=T6(a))&&(n.precision=i-(n.type==="%")*2);break}}return Xo(n)}function Lu(e){var t=e.domain;return e.ticks=function(r){var n=t();return Js(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return S4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],u,l,f=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);f-- >0;){if(l=wf(o,s,r),l===u)return n[a]=o,n[i]=s,t(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function Zg(){var e=T2();return e.copy=function(){return Ou(e,Zg())},Nn.apply(e,arguments),Lu(e)}function E2(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return E2(e).unknown(t)},e=arguments.length?Array.from(e,Yv):[0,1],Lu(r)}function M2(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function qm(e){return Math.log(e)}function Vm(e){return Math.exp(e)}function T4(e){return-Math.log(-e)}function E4(e){return-Math.exp(-e)}function M4(e){return isFinite(e)?+("1e"+e):e<0?0:e}function k4(e){return e===10?M4:e===Math.E?Math.exp:t=>Math.pow(e,t)}function C4(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Wm(e){return(t,r)=>-e(-t,r)}function k2(e){const t=e(qm,Vm),r=t.domain;let n=10,a,i;function o(){return a=C4(n),i=k4(n),r()[0]<0?(a=Wm(a),i=Wm(i),e(T4,E4)):e(qm,Vm),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const u=r();let l=u[0],f=u[u.length-1];const c=f<l;c&&([l,f]=[f,l]);let d=a(l),h=a(f),v,p;const g=s==null?10:+s;let m=[];if(!(n%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(v=1;v<n;++v)if(p=d<0?v/i(-d):v*i(d),!(p<l)){if(p>f)break;m.push(p)}}else for(;d<=h;++d)for(v=n-1;v>=1;--v)if(p=d>0?v/i(-d):v*i(d),!(p<l)){if(p>f)break;m.push(p)}m.length*2<g&&(m=Js(l,f,g))}else m=Js(d,h,Math.min(h-d,g)).map(i);return c?m.reverse():m},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=nu(u)).precision==null&&(u.trim=!0),u=Xo(u)),s===1/0)return u;const l=Math.max(1,n*s/t.ticks().length);return f=>{let c=f/i(Math.round(a(f)));return c*n<n-.5&&(c*=n),c<=l?u(f):""}},t.nice=()=>r(M2(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function C2(){const e=k2($c()).domain([1,10]);return e.copy=()=>Ou(e,C2()).base(e.base()),Nn.apply(e,arguments),e}function Um(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hm(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function D2(e){var t=1,r=e(Um(t),Hm(t));return r.constant=function(n){return arguments.length?e(Um(t=+n),Hm(t)):t},Lu(r)}function A2(){var e=D2($c());return e.copy=function(){return Ou(e,A2()).constant(e.constant())},Nn.apply(e,arguments)}function Gm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function D4(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function A4(e){return e<0?-e*e:e*e}function P2(e){var t=e(Rr,Rr),r=1;function n(){return r===1?e(Rr,Rr):r===.5?e(D4,A4):e(Gm(r),Gm(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Lu(t)}function N2(){var e=P2($c());return e.copy=function(){return Ou(e,N2()).exponent(e.exponent())},Nn.apply(e,arguments),e}function O2(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Sk(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[xc(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(dr),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return O2().domain(e).range(t).unknown(n)},Nn.apply(i,arguments)}function L2(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[xc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return L2().domain(e).range(t).unknown(r)},Nn.apply(a,arguments)}const fh=new Date,ch=new Date;function Tt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const u=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return u;let l;do u.push(l=new Date(+i)),t(i,s),e(i);while(l<i&&i<o);return u},a.filter=i=>Tt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(fh.setTime(+i),ch.setTime(+o),e(fh),e(ch),Math.floor(r(fh,ch))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Yf=Tt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yf);Yf.range;const jn=1e3,$r=jn*60,Jn=$r*60,la=Jn*24,Qg=la*7,Xm=la*30,dh=la*365,Kr=Tt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getUTCSeconds());Kr.range;const Ru=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jn)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getMinutes());Ru.range;const $u=Tt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCMinutes());$u.range;const Iu=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jn-e.getMinutes()*$r)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getHours());Iu.range;const Bu=Tt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCHours());Bu.range;const Bi=Tt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$r)/la,e=>e.getDate()-1);Bi.range;const Ic=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/la,e=>e.getUTCDate()-1);Ic.range;const Bc=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/la,e=>Math.floor(e/la));Bc.range;function Fi(e){return Tt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$r)/Qg)}const Oo=Fi(0),ou=Fi(1),R2=Fi(2),$2=Fi(3),Ci=Fi(4),I2=Fi(5),B2=Fi(6);Oo.range;ou.range;R2.range;$2.range;Ci.range;I2.range;B2.range;function zi(e){return Tt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qg)}const Lo=zi(0),su=zi(1),F2=zi(2),z2=zi(3),Di=zi(4),Y2=zi(5),q2=zi(6);Lo.range;su.range;F2.range;z2.range;Di.range;Y2.range;q2.range;const Fu=Tt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Fu.range;const zu=Tt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zu.range;const en=Tt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());en.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});en.range;const tn=Tt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});tn.range;function V2(e,t,r,n,a,i){const o=[[Kr,1,jn],[Kr,5,5*jn],[Kr,15,15*jn],[Kr,30,30*jn],[i,1,$r],[i,5,5*$r],[i,15,15*$r],[i,30,30*$r],[a,1,Jn],[a,3,3*Jn],[a,6,6*Jn],[a,12,12*Jn],[n,1,la],[n,2,2*la],[r,1,Qg],[t,1,Xm],[t,3,3*Xm],[e,1,dh]];function s(l,f,c){const d=f<l;d&&([l,f]=[f,l]);const h=c&&typeof c.range=="function"?c:u(l,f,c),v=h?h.range(l,+f+1):[];return d?v.reverse():v}function u(l,f,c){const d=Math.abs(f-l)/c,h=wc(([,,g])=>g).right(o,d);if(h===o.length)return e.every(lv(l/dh,f/dh,c));if(h===0)return Yf.every(Math.max(lv(l,f,c),1));const[v,p]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return v.every(p)}return[s,u]}const[P4,W2]=V2(tn,zu,Lo,Bc,Bu,$u),[N4,O4]=V2(en,Fu,Oo,Bi,Iu,Ru);function hh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ps(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function L4(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=ms(a),f=ys(a),c=ms(i),d=ys(i),h=ms(o),v=ys(o),p=ms(s),g=ys(s),m=ms(u),y=ys(u),b={a:L,A:$,b:z,B:F,c:null,d:ey,e:ey,f:n8,g:h8,G:g8,H:e8,I:t8,j:r8,L:U2,m:a8,M:i8,p:I,q:B,Q:ny,s:ay,S:o8,u:s8,U:u8,V:l8,w:f8,W:c8,x:null,X:null,y:d8,Y:v8,Z:p8,"%":ry},w={a:V,A:K,b:j,B:Q,c:null,d:ty,e:ty,f:w8,g:A8,G:N8,H:m8,I:y8,j:b8,L:G2,m:x8,M:_8,p:X,q:W,Q:ny,s:ay,S:S8,u:T8,U:E8,V:M8,w:k8,W:C8,x:null,X:null,y:D8,Y:P8,Z:O8,"%":ry},S={a:k,A:M,b:D,B:P,c:C,d:jm,e:jm,f:Z4,g:Qm,G:Zm,H:Jm,I:Jm,j:H4,L:K4,m:U4,M:G4,p:T,q:W4,Q:j4,s:J4,S:X4,u:F4,U:z4,V:Y4,w:B4,W:q4,x:A,X:O,y:Qm,Y:Zm,Z:V4,"%":Q4};b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),w.x=_(r,w),w.X=_(n,w),w.c=_(t,w);function _(R,q){return function(U){var Y=[],ie=-1,J=0,re=R.length,oe,ue,le;for(U instanceof Date||(U=new Date(+U));++ie<re;)R.charCodeAt(ie)===37&&(Y.push(R.slice(J,ie)),(ue=Km[oe=R.charAt(++ie)])!=null?oe=R.charAt(++ie):ue=oe==="e"?" ":"0",(le=q[oe])&&(oe=le(U,ue)),Y.push(oe),J=ie+1);return Y.push(R.slice(J,ie)),Y.join("")}}function x(R,q){return function(U){var Y=ps(1900,void 0,1),ie=E(Y,R,U+="",0),J,re;if(ie!=U.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(q&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(J=vh(ps(Y.y,0,1)),re=J.getUTCDay(),J=re>4||re===0?su.ceil(J):su(J),J=Ic.offset(J,(Y.V-1)*7),Y.y=J.getUTCFullYear(),Y.m=J.getUTCMonth(),Y.d=J.getUTCDate()+(Y.w+6)%7):(J=hh(ps(Y.y,0,1)),re=J.getDay(),J=re>4||re===0?ou.ceil(J):ou(J),J=Bi.offset(J,(Y.V-1)*7),Y.y=J.getFullYear(),Y.m=J.getMonth(),Y.d=J.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),re="Z"in Y?vh(ps(Y.y,0,1)).getUTCDay():hh(ps(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(re+5)%7:Y.w+Y.U*7-(re+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,vh(Y)):hh(Y)}}function E(R,q,U,Y){for(var ie=0,J=q.length,re=U.length,oe,ue;ie<J;){if(Y>=re)return-1;if(oe=q.charCodeAt(ie++),oe===37){if(oe=q.charAt(ie++),ue=S[oe in Km?q.charAt(ie++):oe],!ue||(Y=ue(R,U,Y))<0)return-1}else if(oe!=U.charCodeAt(Y++))return-1}return Y}function T(R,q,U){var Y=l.exec(q.slice(U));return Y?(R.p=f.get(Y[0].toLowerCase()),U+Y[0].length):-1}function k(R,q,U){var Y=h.exec(q.slice(U));return Y?(R.w=v.get(Y[0].toLowerCase()),U+Y[0].length):-1}function M(R,q,U){var Y=c.exec(q.slice(U));return Y?(R.w=d.get(Y[0].toLowerCase()),U+Y[0].length):-1}function D(R,q,U){var Y=m.exec(q.slice(U));return Y?(R.m=y.get(Y[0].toLowerCase()),U+Y[0].length):-1}function P(R,q,U){var Y=p.exec(q.slice(U));return Y?(R.m=g.get(Y[0].toLowerCase()),U+Y[0].length):-1}function C(R,q,U){return E(R,t,q,U)}function A(R,q,U){return E(R,r,q,U)}function O(R,q,U){return E(R,n,q,U)}function L(R){return o[R.getDay()]}function $(R){return i[R.getDay()]}function z(R){return u[R.getMonth()]}function F(R){return s[R.getMonth()]}function I(R){return a[+(R.getHours()>=12)]}function B(R){return 1+~~(R.getMonth()/3)}function V(R){return o[R.getUTCDay()]}function K(R){return i[R.getUTCDay()]}function j(R){return u[R.getUTCMonth()]}function Q(R){return s[R.getUTCMonth()]}function X(R){return a[+(R.getUTCHours()>=12)]}function W(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var q=_(R+="",b);return q.toString=function(){return R},q},parse:function(R){var q=x(R+="",!1);return q.toString=function(){return R},q},utcFormat:function(R){var q=_(R+="",w);return q.toString=function(){return R},q},utcParse:function(R){var q=x(R+="",!0);return q.toString=function(){return R},q}}}var Km={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,R4=/^%/,$4=/[\\^$*+?|[\]().{}]/g;function We(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function I4(e){return e.replace($4,"\\$&")}function ms(e){return new RegExp("^(?:"+e.map(I4).join("|")+")","i")}function ys(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function B4(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function F4(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function z4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Y4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function q4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Zm(e,t,r){var n=Rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Qm(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function V4(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function W4(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function U4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jm(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function H4(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Jm(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function G4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function X4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function K4(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Z4(e,t,r){var n=Rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Q4(e,t,r){var n=R4.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function j4(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function J4(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ey(e,t){return We(e.getDate(),t,2)}function e8(e,t){return We(e.getHours(),t,2)}function t8(e,t){return We(e.getHours()%12||12,t,2)}function r8(e,t){return We(1+Bi.count(en(e),e),t,3)}function U2(e,t){return We(e.getMilliseconds(),t,3)}function n8(e,t){return U2(e,t)+"000"}function a8(e,t){return We(e.getMonth()+1,t,2)}function i8(e,t){return We(e.getMinutes(),t,2)}function o8(e,t){return We(e.getSeconds(),t,2)}function s8(e){var t=e.getDay();return t===0?7:t}function u8(e,t){return We(Oo.count(en(e)-1,e),t,2)}function H2(e){var t=e.getDay();return t>=4||t===0?Ci(e):Ci.ceil(e)}function l8(e,t){return e=H2(e),We(Ci.count(en(e),e)+(en(e).getDay()===4),t,2)}function f8(e){return e.getDay()}function c8(e,t){return We(ou.count(en(e)-1,e),t,2)}function d8(e,t){return We(e.getFullYear()%100,t,2)}function h8(e,t){return e=H2(e),We(e.getFullYear()%100,t,2)}function v8(e,t){return We(e.getFullYear()%1e4,t,4)}function g8(e,t){var r=e.getDay();return e=r>=4||r===0?Ci(e):Ci.ceil(e),We(e.getFullYear()%1e4,t,4)}function p8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function ty(e,t){return We(e.getUTCDate(),t,2)}function m8(e,t){return We(e.getUTCHours(),t,2)}function y8(e,t){return We(e.getUTCHours()%12||12,t,2)}function b8(e,t){return We(1+Ic.count(tn(e),e),t,3)}function G2(e,t){return We(e.getUTCMilliseconds(),t,3)}function w8(e,t){return G2(e,t)+"000"}function x8(e,t){return We(e.getUTCMonth()+1,t,2)}function _8(e,t){return We(e.getUTCMinutes(),t,2)}function S8(e,t){return We(e.getUTCSeconds(),t,2)}function T8(e){var t=e.getUTCDay();return t===0?7:t}function E8(e,t){return We(Lo.count(tn(e)-1,e),t,2)}function X2(e){var t=e.getUTCDay();return t>=4||t===0?Di(e):Di.ceil(e)}function M8(e,t){return e=X2(e),We(Di.count(tn(e),e)+(tn(e).getUTCDay()===4),t,2)}function k8(e){return e.getUTCDay()}function C8(e,t){return We(su.count(tn(e)-1,e),t,2)}function D8(e,t){return We(e.getUTCFullYear()%100,t,2)}function A8(e,t){return e=X2(e),We(e.getUTCFullYear()%100,t,2)}function P8(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function N8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Di(e):Di.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function O8(){return"+0000"}function ry(){return"%"}function ny(e){return+e}function ay(e){return Math.floor(+e/1e3)}var Gi,jg,Yu;L8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function L8(e){return Gi=L4(e),jg=Gi.format,Gi.parse,Yu=Gi.utcFormat,Gi.utcParse,Gi}function R8(e){return new Date(e)}function $8(e){return e instanceof Date?+e:+new Date(+e)}function Jg(e,t,r,n,a,i,o,s,u,l){var f=T2(),c=f.invert,d=f.domain,h=l(".%L"),v=l(":%S"),p=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),b=l("%B"),w=l("%Y");function S(_){return(u(_)<_?h:s(_)<_?v:o(_)<_?p:i(_)<_?g:n(_)<_?a(_)<_?m:y:r(_)<_?b:w)(_)}return f.invert=function(_){return new Date(c(_))},f.domain=function(_){return arguments.length?d(Array.from(_,$8)):d().map(R8)},f.ticks=function(_){var x=d();return e(x[0],x[x.length-1],_??10)},f.tickFormat=function(_,x){return x==null?S:l(x)},f.nice=function(_){var x=d();return(!_||typeof _.range!="function")&&(_=t(x[0],x[x.length-1],_??10)),_?d(M2(x,_)):f},f.copy=function(){return Ou(f,Jg(e,t,r,n,a,i,o,s,u,l))},f}function I8(){return Nn.apply(Jg(N4,O4,en,Fu,Oo,Bi,Iu,Ru,Kr,jg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B8(){return Nn.apply(Jg(P4,W2,tn,zu,Lo,Ic,Bu,$u,Kr,Yu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zc(){var e=0,t=.5,r=1,n=1,a,i,o,s,u,l=Rr,f,c=!1,d;function h(p){return isNaN(p=+p)?d:(p=.5+((p=+f(p))-i)*(n*p<n*i?s:u),l(c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),i=f(t=+t),o=f(r=+r),s=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(l=p,h):l};function v(p){return function(g){var m,y,b;return arguments.length?([m,y,b]=g,l=Cc(p,[m,y,b]),h):[l(0),l(.5),l(1)]}}return h.range=v(Pu),h.rangeRound=v(Fg),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return f=p,a=p(e),i=p(t),o=p(r),s=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function K2(){var e=Lu(zc()(Rr));return e.copy=function(){return Fc(e,K2())},Lc.apply(e,arguments)}function Z2(){var e=k2(zc()).domain([.1,1,10]);return e.copy=function(){return Fc(e,Z2()).base(e.base())},Lc.apply(e,arguments)}function Q2(){var e=D2(zc());return e.copy=function(){return Fc(e,Q2()).constant(e.constant())},Lc.apply(e,arguments)}function j2(){var e=P2(zc());return e.copy=function(){return Fc(e,j2()).exponent(e.exponent())},Lc.apply(e,arguments)}function De(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const F8=De("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),z8=De("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Y8=De("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),q8=De("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),V8=De("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),W8=De("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),U8=De("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),H8=De("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),G8=De("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),X8=De("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),K8=De("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),et=e=>F3(e[e.length-1]);var J2=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(De);const ex=et(J2);var tx=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(De);const rx=et(tx);var nx=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(De);const ax=et(nx);var ix=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(De);const ox=et(ix);var Vv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(De);const qf=et(Vv);var sx=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(De);const ux=et(sx);var Wv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(De);const Vf=et(Wv);var lx=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(De);const fx=et(lx);var cx=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(De);const dx=et(cx);var hx=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(De);const vx=et(hx);var gx=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(De);const px=et(gx);var mx=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(De);const yx=et(mx);var bx=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(De);const wx=et(bx);var xx=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(De);const _x=et(xx);var Sx=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(De);const Tx=et(Sx);var Ex=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(De);const Mx=et(Ex);var kx=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(De);const Cx=et(kx);var Dx=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(De);const Ax=et(Dx);var Px=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(De);const Nx=et(Px);var Ox=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(De);const Lx=et(Ox);var Rx=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(De);const $x=et(Rx);var Ix=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(De);const Bx=et(Ix);var Fx=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(De);const zx=et(Fx);var Yx=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(De);const qx=et(Yx);var Vx=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(De);const Wx=et(Vx);var Ux=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(De);const Hx=et(Ux);var Gx=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(De);const Xx=et(Gx);function Kx(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Zx=zg(Mn(300,.5,0),Mn(-240,.5,1));var Qx=zg(Mn(-100,.75,.35),Mn(80,1.5,.8)),jx=zg(Mn(260,.75,.35),Mn(80,1.5,.8)),xl=Mn();function Jx(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return xl.h=360*e-100,xl.s=1.5-1.5*t,xl.l=.8-.9*t,xl+""}var _l=Ya(),Z8=Math.PI/3,Q8=Math.PI*2/3;function e_(e){var t;return e=(.5-e)*Math.PI,_l.r=255*(t=Math.sin(e))*t,_l.g=255*(t=Math.sin(e+Z8))*t,_l.b=255*(t=Math.sin(e+Q8))*t,_l+""}function t_(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Yc(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const r_=Yc(De("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var n_=Yc(De("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a_=Yc(De("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),i_=Yc(De("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Pt(e){return function(){return e}}const o_=Math.cos,ep=Math.min,Wf=Math.sin,Et=Math.sqrt,iy=1e-12,Uf=Math.PI,qc=2*Uf;function s_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Yw(t)}function u_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l_(e){this._context=e}l_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qu(e){return new l_(e)}function f_(e){return e[0]}function c_(e){return e[1]}function d_(e,t){var r=Pt(!0),n=null,a=qu,i=null,o=s_(s);e=typeof e=="function"?e:e===void 0?f_:Pt(e),t=typeof t=="function"?t:t===void 0?c_:Pt(t);function s(u){var l,f=(u=u_(u)).length,c,d=!1,h;for(n==null&&(i=a(h=o())),l=0;l<=f;++l)!(l<f&&r(c=u[l],l,u))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(c,l,u),+t(c,l,u));if(h)return i=null,h+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:Pt(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:Pt(+u),s):t},s.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Pt(!!u),s):r},s.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),s):a},s.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),s):n},s}function j8(e,t,r){var n=null,a=Pt(!0),i=null,o=qu,s=null,u=s_(l);e=typeof e=="function"?e:e===void 0?f_:Pt(+e),t=typeof t=="function"?t:Pt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?c_:Pt(+r);function l(c){var d,h,v,p=(c=u_(c)).length,g,m=!1,y,b=new Array(p),w=new Array(p);for(i==null&&(s=o(y=u())),d=0;d<=p;++d){if(!(d<p&&a(g=c[d],d,c))===m)if(m=!m)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=d-1;v>=h;--v)s.point(b[v],w[v]);s.lineEnd(),s.areaEnd()}m&&(b[d]=+e(g,d,c),w[d]=+t(g,d,c),s.point(n?+n(g,d,c):b[d],r?+r(g,d,c):w[d]))}if(y)return s=null,y+""||null}function f(){return d_().defined(a).curve(o).context(i)}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Pt(+c),n=null,l):e},l.x0=function(c){return arguments.length?(e=typeof c=="function"?c:Pt(+c),l):e},l.x1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Pt(+c),l):n},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Pt(+c),r=null,l):t},l.y0=function(c){return arguments.length?(t=typeof c=="function"?c:Pt(+c),l):t},l.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Pt(+c),l):r},l.lineX0=l.lineY0=function(){return f().x(e).y(t)},l.lineY1=function(){return f().x(e).y(r)},l.lineX1=function(){return f().x(n).y(t)},l.defined=function(c){return arguments.length?(a=typeof c=="function"?c:Pt(!!c),l):a},l.curve=function(c){return arguments.length?(o=c,i!=null&&(s=o(i)),l):o},l.context=function(c){return arguments.length?(c==null?i=s=null:s=o(i=c),l):i},l}class h_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function J8(e){return new h_(e,!0)}function eA(e){return new h_(e,!1)}const tA=Et(3),v_={draw(e,t){const r=Et(t+ep(t/28,.75))*.59436,n=r/2,a=n*tA;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-a,-n),e.lineTo(a,n),e.moveTo(-a,n),e.lineTo(a,-n)}},tp={draw(e,t){const r=Et(t/Uf);e.moveTo(r,0),e.arc(0,0,r,0,qc)}},g_={draw(e,t){const r=Et(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},p_=Et(1/3),rA=p_*2,m_={draw(e,t){const r=Et(t/rA),n=r*p_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},y_={draw(e,t){const r=Et(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}},b_={draw(e,t){const r=Et(t-ep(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}},w_={draw(e,t){const r=Et(t),n=-r/2;e.rect(n,n,r,r)}},x_={draw(e,t){const r=Et(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}},nA=.8908130915292852,__=Wf(Uf/10)/Wf(7*Uf/10),aA=Wf(qc/10)*__,iA=-o_(qc/10)*__,S_={draw(e,t){const r=Et(t*nA),n=aA*r,a=iA*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=qc*i/5,s=o_(o),u=Wf(o);e.lineTo(u*r,-s*r),e.lineTo(s*n-u*a,u*n+s*a)}e.closePath()}},gh=Et(3),T_={draw(e,t){const r=-Et(t/(gh*3));e.moveTo(0,r*2),e.lineTo(-gh*r,-r),e.lineTo(gh*r,-r),e.closePath()}},oA=Et(3),E_={draw(e,t){const r=Et(t)*.6824,n=r/2,a=r*oA/2;e.moveTo(0,-r),e.lineTo(a,n),e.lineTo(-a,n),e.closePath()}},Mr=-.5,kr=Et(3)/2,Uv=1/Et(12),sA=(Uv/2+1)*3,M_={draw(e,t){const r=Et(t/sA),n=r/2,a=r*Uv,i=n,o=r*Uv+r,s=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,u),e.lineTo(Mr*n-kr*a,kr*n+Mr*a),e.lineTo(Mr*i-kr*o,kr*i+Mr*o),e.lineTo(Mr*s-kr*u,kr*s+Mr*u),e.lineTo(Mr*n+kr*a,Mr*a-kr*n),e.lineTo(Mr*i+kr*o,Mr*o-kr*i),e.lineTo(Mr*s+kr*u,Mr*u-kr*s),e.closePath()}},k_={draw(e,t){const r=Et(t-ep(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}},uA=[tp,g_,m_,w_,S_,T_,M_],lA=[tp,b_,k_,E_,v_,x_,y_];function qa(){}function Hf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Vc(e){this._context=e}Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fA(e){return new Vc(e)}function C_(e){this._context=e}C_.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cA(e){return new C_(e)}function D_(e){this._context=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dA(e){return new D_(e)}function A_(e,t){this._basis=new Vc(e),this._beta=t}A_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],i=e[r]-n,o=t[r]-a,s=-1,u;++s<=r;)u=s/r,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+u*i),this._beta*t[s]+(1-this._beta)*(a+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const hA=function e(t){function r(n){return t===1?new Vc(n):new A_(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Gf(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function rp(e,t){this._context=e,this._k=(1-t)/6}rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Gf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vA=function e(t){function r(n){return new rp(n,t)}return r.tension=function(n){return e(+n)},r}(0);function np(e,t){this._context=e,this._k=(1-t)/6}np.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gA=function e(t){function r(n){return new np(n,t)}return r.tension=function(n){return e(+n)},r}(0);function ap(e,t){this._context=e,this._k=(1-t)/6}ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pA=function e(t){function r(n){return new ap(n,t)}return r.tension=function(n){return e(+n)},r}(0);function ip(e,t,r){var n=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>iy){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>iy){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*l+e._x1*e._l23_2a-t*e._l12_2a)/f,o=(o*l+e._y1*e._l23_2a-r*e._l12_2a)/f}e._context.bezierCurveTo(n,a,i,o,e._x2,e._y2)}function P_(e,t){this._context=e,this._alpha=t}P_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ip(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mA=function e(t){function r(n){return t?new P_(n,t):new rp(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function N_(e,t){this._context=e,this._alpha=t}N_.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ip(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yA=function e(t){function r(n){return t?new N_(n,t):new np(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function O_(e,t){this._context=e,this._alpha=t}O_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ip(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bA=function e(t){function r(n){return t?new O_(n,t):new ap(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function L_(e){this._context=e}L_.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wA(e){return new L_(e)}function oy(e){return e<0?-1:1}function sy(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(oy(i)+oy(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function uy(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ph(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function Xf(e){this._context=e}Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ph(this,this._t0,uy(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ph(this,uy(this,r=sy(this,e,t)),r);break;default:ph(this,this._t0,r=sy(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function R_(e){this._context=new $_(e)}(R_.prototype=Object.create(Xf.prototype)).point=function(e,t){Xf.prototype.point.call(this,t,e)};function $_(e){this._context=e}$_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function xA(e){return new Xf(e)}function _A(e){return new R_(e)}function I_(e){this._context=e}I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ly(e),a=ly(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ly(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function SA(e){return new I_(e)}function Wc(e,t){this._context=e,this._t=t}Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function TA(e){return new Wc(e,.5)}function EA(e){return new Wc(e,0)}function MA(e){return new Wc(e,1)}function Fs(e,t,r){this.k=e,this.x=t,this.y=r}Fs.prototype={constructor:Fs,scale:function(e){return e===1?this:new Fs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Fs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Fs.prototype;function Va(e){return e!=null&&!Number.isNaN(e)}function rn(e,t){return+Va(t)-+Va(e)||dr(e,t)}function Kf(e,t){return+Va(t)-+Va(e)||Cu(e,t)}function op(e){return e!=null&&`${e}`!=""}function B_(e){return isFinite(e)?e:NaN}function sp(e){return e>0&&isFinite(e)?e:NaN}function F_(e){return e<0&&isFinite(e)?e:NaN}function kA(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const r=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),i=e.getUTCMilliseconds();return`${CA(e.getUTCFullYear())}-${Kn(e.getUTCMonth()+1,2)}-${Kn(e.getUTCDate(),2)}${r||n||a||i?`T${Kn(r,2)}:${Kn(n,2)}${a||i?`:${Kn(a,2)}${i?`.${Kn(i,3)}`:""}`:""}Z`:""}`}function CA(e){return e<0?`-${Kn(-e,6)}`:e>9999?`+${Kn(e,6)}`:Kn(e,4)}function Kn(e,t){return`${e}`.padStart(t,"0")}const DA=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function z_(e,t){return DA.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function Ro(e){if(e==null)return;const t=e[0],r=e[e.length-1];return Cu(t,r)}const oo=1e3,Pa=oo*60,Na=Pa*60,kn=Na*24,pn=kn*7,bi=kn*30,Da=kn*365,mh=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",oo],["5 seconds",5*oo],["15 seconds",15*oo],["30 seconds",30*oo],["minute",Pa],["5 minutes",5*Pa],["15 minutes",15*Pa],["30 minutes",30*Pa],["hour",Na],["3 hours",3*Na],["6 hours",6*Na],["12 hours",12*Na],["day",kn],["2 days",2*kn],["week",pn],["2 weeks",2*pn],["month",bi],["3 months",3*bi],["6 months",6*bi],["year",Da],["2 years",2*Da],["5 years",5*Da],["10 years",10*Da],["20 years",20*Da],["50 years",50*Da],["100 years",100*Da]],up=new Map([["second",oo],["minute",Pa],["hour",Na],["day",kn],["monday",pn],["tuesday",pn],["wednesday",pn],["thursday",pn],["friday",pn],["saturday",pn],["sunday",pn],["week",pn],["month",bi],["year",Da]]),Y_=new Map([["second",Kr],["minute",Ru],["hour",Iu],["day",Bi],["monday",ou],["tuesday",R2],["wednesday",$2],["thursday",Ci],["friday",I2],["saturday",B2],["sunday",Oo],["week",Oo],["month",Fu],["year",en]]),lp=new Map([["second",Kr],["minute",$u],["hour",Bu],["day",Bc],["monday",su],["tuesday",F2],["wednesday",z2],["thursday",Di],["friday",Y2],["saturday",q2],["sunday",Lo],["week",Lo],["month",zu],["year",tn]]),Vu=Symbol("intervalDuration"),Uc=Symbol("intervalType");for(const[e,t]of Y_)t[Vu]=up.get(e),t[Uc]="time";for(const[e,t]of lp)t[Vu]=up.get(e),t[Uc]="utc";const zs=[["year",tn,"utc"],["month",zu,"utc"],["day",Bc,"utc",6*bi],["hour",Bu,"utc",3*kn],["minute",$u,"utc",6*Na],["second",Kr,"utc",30*Pa]],tf=[["year",en,"time"],["month",Fu,"time"],["day",Bi,"time",6*bi],["hour",Iu,"time",3*kn],["minute",Ru,"time",6*Na],["second",Kr,"time",30*Pa]],AA=[zs[0],tf[0],zs[1],tf[1],zs[2],tf[2],...zs.slice(3)];function q_(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let r=1;const n=/^(?:(\d+)\s+)/.exec(t);switch(n&&(t=t.slice(n[0].length),r=+n[1]),t){case"quarter":t="month",r*=3;break;case"half":t="month",r*=6;break}let a=lp.get(t);if(!a)throw new Error(`unknown interval: ${e}`);if(r>1&&!a.every)throw new Error(`non-periodic interval: ${t}`);return[t,r]}function V_(e){return W_(q_(e),"time")}function fp(e){return W_(q_(e),"utc")}function W_([e,t],r){let n=(r==="time"?Y_:lp).get(e);return t>1&&(n=n.every(t),n[Vu]=up.get(e)*t,n[Uc]=r),n}function fy(e,t){if(!(t>1))return;const r=e[Vu];if(!mh.some(([,a])=>a===r)||r%kn===0&&kn<r&&r<bi)return;const[n]=mh[wc(([,a])=>Math.log(a)).center(mh,Math.log(r*t))];return(e[Uc]==="time"?V_:fp)(n)}function cy(e,t,r){const n=t==="time"?jg:Yu;if(r==null)return n(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const a=PA(r);switch(e){case"millisecond":return Xi(n(".%L"),n(":%M:%S"),a);case"second":return Xi(n(":%S"),n("%-I:%M"),a);case"minute":return Xi(n("%-I:%M"),n("%p"),a);case"hour":return Xi(n("%-I %p"),n("%b %-d"),a);case"day":return Xi(n("%-d"),n("%b"),a);case"month":return Xi(n("%b"),n("%Y"),a);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function PA(e){return e==="left"||e==="right"?(t,r)=>`
${t}
${r}`:e==="top"?(t,r)=>`${r}
${t}`:(t,r)=>`${t}
${r}`}function NA(e){return e==="time"?tf:e==="utc"?zs:AA}function OA(e,t,r){const n=jr(Ck(t,(a,i)=>Math.abs(i-a)));if(n<1e3)return cy("millisecond","utc",r);for(const[a,i,o,s]of NA(e)){if(n>s||a==="hour"&&!n)break;if(t.every(u=>i.floor(u)>=u))return cy(a,o,r)}}function Xi(e,t,r){return(n,a,i)=>{const o=e(n,a),s=t(n,a),u=a-Ro(i);return a!==u&&i[u]!==void 0&&s===t(i[u],u)?o:r(o,s)}}const cp=Object.getPrototypeOf(Uint8Array),LA=Object.prototype.toString;function Yi(e){return e instanceof Array||e instanceof cp}function U_(e){return e instanceof cp&&!RA(e)}function H_(e){return(e==null?void 0:e.prototype)instanceof cp&&!$A(e)}function RA(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function $A(e){return e===BigInt64Array||e===BigUint64Array}const G_=Symbol("reindex");function Lt(e,t,r){const n=typeof t;return n==="string"?oS(e)?dp(e.getChild(t),r):dy(e,X_(t),r):n==="function"?dy(e,t,r):n==="number"||t instanceof Date||n==="boolean"?yt(e,ea(t),r):typeof(t==null?void 0:t.transform)=="function"?Hv(t.transform(e),r):IA(Hv(t,r),e==null?void 0:e[G_])}function IA(e,t){return e!=null&&t?gp(e,t):e}function dy(e,t,r){return yt(e,H_(r)?(n,a)=>hp(t(n,a)):t,r)}function Hv(e,t){return t===void 0?Wa(e):sS(e)?dp(e,t):e instanceof t?e:t.from(e,H_(t)&&!U_(e)?hp:void 0)}function dp(e,t){return e==null?e:(t===void 0||t===Array)&&a7(e.type)?Z_(e.toArray()):Hv(e.toArray(),t)}const rf=[null],X_=e=>t=>{var n;const r=t[e];return r===void 0&&t.type==="Feature"?(n=t.properties)==null?void 0:n[e]:r},Hc={transform:pa},or={transform:e=>e},BA=()=>1,FA=()=>!0,ir=e=>e==null?e:`${e}`,Gt=e=>e==null?e:+e,K_=e=>e?e[0]:void 0,Gv=e=>e?e[1]:void 0,ea=e=>()=>e;function zA(e){const t=+`${e}`.slice(1)/100;return(r,n)=>Eo(r,t,n)}function $o(e){return U_(e)?e:yt(e,hp,Float64Array)}function hp(e){return e==null?NaN:Number(e)}function Z_(e){return yt(e,Q_)}function Q_(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?z_(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function fa(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Xc(e)?[void 0,e]:[e,void 0]}function yr(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function j_(e,t,r){if(e!=null)return sn(e,t,r)}function sn(e,t,r){const n=`${e}`.toLowerCase();if(!r.includes(n))throw new Error(`invalid ${t}: ${e}`);return n}function Io(e){return oS(e)?e:Wa(e)}function Wa(e){if(e==null||Yi(e))return e;if(sS(e))return dp(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function yt(e,t,r=Array){return e==null?e:e instanceof r?e.map(t):r.from(e,t)}function uu(e,t=Array){return e instanceof t?e.slice():t.from(e)}function YA({x:e,x1:t,x2:r}){return e!==void 0||t!==void 0||r!==void 0}function J_({y:e,y1:t,y2:r}){return e!==void 0||t!==void 0||r!==void 0}function qA(e){return YA(e)||J_(e)||e.interval!==void 0}function ja(e){return(e==null?void 0:e.toString)===LA}function Xv(e){return ja(e)&&(e.type!==void 0||e.domain!==void 0)}function Gc(e){return ja(e)&&typeof e.transform!="function"}function Bo(e){return Gc(e)&&e.value===void 0&&e.channel===void 0}function VA(e,t,r,n=or){return t===void 0&&r===void 0?(t=0,r=e===void 0?n:e):t===void 0?t=e===void 0?0:e:r===void 0&&(r=e===void 0?0:e),[t,r]}function eS(e,t){return e===void 0&&t===void 0?[K_,Gv]:[e,t]}function vp({z:e,fill:t,stroke:r}={}){return e===void 0&&([e]=fa(t)),e===void 0&&([e]=fa(r)),e}function lu(e){return Yi(e)?e.length:e==null?void 0:e.numRows}function pa(e){const t=lu(e),r=new Uint32Array(t);for(let n=0;n<t;++n)r[n]=n;return r}function gp(e,t){return Yi(e)?yt(t,r=>e[r],e.constructor):yt(t,r=>e.at(r))}function WA(e,t,r){return e.subarray?e.subarray(t,r):e.slice(t,r)}function ta(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UA(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Zf(e){let t;return[{transform:()=>t,label:qi(e)},r=>t=r]}function Hn(e){return e==null?[e]:Zf(e)}function qi(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Kv(e,t){return{transform(r){const n=e.transform(r),a=t.transform(r);return vr(n)||vr(a)?yt(n,(i,o)=>new Date((+n[o]+ +a[o])/2)):yt(n,(i,o)=>(+n[o]+ +a[o])/2,Float64Array)},label:e.label}}function tS(e,t){const r=rS(t==null?void 0:t.interval,t==null?void 0:t.type);return r?yt(e,r):e}function rS(e,t){const r=pp(e,t);return r&&(n=>Va(n)?r.floor(n):n)}function pp(e,t){if(e!=null){if(typeof e=="number")return HA(e);if(typeof e=="string")return(t==="time"?V_:fp)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function HA(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:r=>Math.floor(r*t)/t,offset:(r,n=1)=>(r*t+Math.floor(n))/t,range:(r,n)=>cv(Math.ceil(r*t),n*t).map(a=>a/t)}:{floor:r=>Math.floor(r/t)*t,offset:(r,n=1)=>r+t*Math.floor(n),range:(r,n)=>cv(Math.ceil(r/t),n/t).map(a=>a*t)}}function Zo(e,t){if(e=pp(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function GA(e,t){if(e=Zo(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function XA(e){return so(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function so(e){return typeof(e==null?void 0:e.range)=="function"}function Wu(e){return e===void 0||Gc(e)?e:{value:e}}function KA(e){return e==null?null:{transform:t=>Lt(t,e,Float64Array),label:qi(e)}}function Ja(e){return e&&typeof e[Symbol.iterator]=="function"}function nS(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function hy(e){for(const t of e){if(t==null)continue;const r=typeof t;return r==="string"||r==="boolean"}}function vr(e){for(const t of e)if(t!=null)return t instanceof Date}function ZA(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&z_(t)}function QA(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function jA(e){for(const t of e)if(t!=null)return typeof t=="number"}function yh(e,t){let r;for(const n of e)if(n!=null){if(!t(n))return!1;r=!0}return r}const JA=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Xc(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||JA.has(e))}function e7(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function cr(e){return e==null||fu(e)}function fu(e){return/^\s*none\s*$/i.test(e)}function t7(e){return/^\s*round\s*$/i.test(e)}function Zv(e,t){return j_(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function mp(e="middle"){return Zv(e,"frameAnchor")}function r7(e={},...t){let r=e;for(const n of t)for(const a in n)if(r[a]===void 0){const i=n[a];r===e?r={...r,[a]:i}:r[a]=i}return r}function n7(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,r=>{const{name:n}=r;if(n==null)throw new Error("missing name");const a=`${n}`;if(a==="__proto__")throw new Error(`illegal name: ${a}`);if(t.has(a))throw new Error(`duplicate name: ${a}`);return t.add(a),[n,r]}))}function aS(e){return Ja(e)?n7(e):e}function iS(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=sn(e,"clip",["frame","sphere"])),e}function oS(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function sS(e){return e&&typeof e.toArray=="function"&&e.type}function a7(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const xn=Symbol("position"),ma=Symbol("color"),Uu=Symbol("radius"),Hu=Symbol("length"),Gu=Symbol("opacity"),Kc=Symbol("symbol"),uS=Symbol("projection"),ht=new Map([["x",xn],["y",xn],["fx",xn],["fy",xn],["r",Uu],["color",ma],["opacity",Gu],["symbol",Kc],["length",Hu],["projection",uS]]);function i7(e){return e===xn||e===uS}function o7(e){return e===xn||e===Uu||e===Hu||e===Gu}const s7=Math.sqrt(3),u7=2/s7,l7={draw(e,t){const r=Math.sqrt(t/Math.PI),n=r*u7,a=n/2;e.moveTo(0,n),e.lineTo(r,a),e.lineTo(r,-a),e.lineTo(0,-n),e.lineTo(-r,-a),e.lineTo(-r,a),e.closePath()}},yp=new Map([["asterisk",v_],["circle",tp],["cross",g_],["diamond",m_],["diamond2",y_],["hexagon",l7],["plus",b_],["square",w_],["square2",x_],["star",S_],["times",k_],["triangle",T_],["triangle2",E_],["wye",M_]]);function bp(e){return e&&typeof e.draw=="function"}function f7(e){return bp(e)?!0:typeof e!="string"?!1:yp.has(e.toLowerCase())}function wp(e){if(e==null||bp(e))return e;const t=yp.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function VU(e){if(e==null||bp(e))return[void 0,e];if(typeof e=="string"){const t=yp.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function Zc({filter:e,sort:t,reverse:r,transform:n,initializer:a,...i}={},o){if(n===void 0&&(e!=null&&(n=lS(e)),t!=null&&!Bo(t)&&(n=bh(n,xp(t))),r&&(n=bh(n,fS))),o!=null&&a!=null)throw new Error("transforms cannot be applied after initializers");return{...i,...(t===null||Bo(t))&&{sort:t},transform:bh(n,o)}}function Fo({filter:e,sort:t,reverse:r,initializer:n,...a}={},i){return n===void 0&&(e!=null&&(n=lS(e)),t!=null&&!Bo(t)&&(n=wh(n,xp(t))),r&&(n=wh(n,fS))),{...a,...(t===null||Bo(t))&&{sort:t},initializer:wh(n,i)}}function bh(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(r,n,a){return{data:r,facets:n}=e.call(this,r,n,a),t.call(this,Io(r),n,a)}}function wh(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(r,n,a,...i){let o,s,u,l,f,c;return{data:s=r,facets:u=n,channels:o}=e.call(this,r,n,a,...i),{data:f=s,facets:c=u,channels:l}=t.call(this,s,u,{...a,...o},...i),{data:f,facets:c,channels:{...o,...l}}}}function c7(e,t){return(e.initializer!=null?Fo:Zc)(e,t)}function lS(e){return(t,r)=>{const n=Lt(t,e);return{data:t,facets:r.map(a=>a.filter(i=>n[i]))}}}function fS(e,t){return{data:e,facets:t.map(r=>r.slice().reverse())}}function WU(e,{sort:t,...r}={}){return{...(Gc(e)&&e.channel!==void 0?Fo:c7)(r,xp(e)),sort:Bo(t)?t:null}}function xp(e){return(typeof e=="function"&&e.length!==1?d7:h7)(e)}function d7(e){return(t,r)=>{const n=Yi(t)?(a,i)=>e(t[a],t[i]):(a,i)=>e(t.get(a),t.get(i));return{data:t,facets:r.map(a=>a.slice().sort(n))}}}function h7(e){let t,r;({channel:t,value:e,order:r}={...Wu(e)});const n=t==null?void 0:t.startsWith("-");if(n&&(t=t.slice(1)),r===void 0&&(r=n?Kf:rn),typeof r!="function")switch(`${r}`.toLowerCase()){case"ascending":r=rn;break;case"descending":r=Kf;break;default:throw new Error(`invalid order: ${r}`)}return(a,i,o)=>{let s;if(t===void 0)s=Lt(a,e);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(s=o[t],!s)return{};s=s.value}const u=(l,f)=>r(s[l],s[f]);return{data:a,facets:i.map(l=>l.slice().sort(u))}}}function xh(e,...t){for(const{name:r}of e)if(t.includes(r))return!0;return!1}function v7(e,t,r=cS){const n=Object.entries(e);return t.title!=null&&e.title===void 0&&n.push(["title",x7]),t.href!=null&&e.href===void 0&&n.push(["href",Sp]),n.filter(([,a])=>a!==void 0).map(([a,i])=>i===null?g7(a):r(a,i,t))}function cS(e,t,r,n=dS){let a;ja(t)&&"reduce"in t&&(a=t.scale,t=t.reduce);const i=n(e,t,r),[o,s]=Zf(i.label);let u;return{name:e,output:a===void 0?o:{value:o,scale:a},initialize(l){i.initialize(l),u=s([])},scope(l,f){i.scope(l,f)},reduce(l,f){u.push(i.reduce(l,f))}}}function g7(e){return{name:e,initialize(){},scope(){},reduce(){}}}function dS(e,t,r,n=_p){const a=UA(e,r),i=n(t,a);let o,s;return{label:qi(i===Qf?null:a,i.label),initialize(u){o=a===void 0?u:Lt(u,a),i.scope==="data"&&(s=i.reduceIndex(pa(u),o))},scope(u,l){i.scope===u&&(s=i.reduceIndex(l,o))},reduce(u,l){return i.scope==null?i.reduceIndex(u,o,l):i.reduceIndex(u,o,s,l)}}}function vy(e,t){return t?Sc(e,r=>t[r]):[[,e]]}function _p(e,t,r=p7){if(e==null)return r(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&ja(e))return b7(e);if(typeof e=="function")return w7(e);if(/^p\d{2}$/i.test(e))return Gn(zA(e));switch(`${e}`.toLowerCase()){case"first":return Sp;case"last":return _7;case"identity":return hS;case"count":return Qf;case"distinct":return S7;case"sum":return t==null?Qf:T7;case"proportion":return py(t,"data");case"proportion-facet":return py(t,"facet");case"deviation":return Gn(Zb);case"min":return Gn(oa);case"min-index":return Gn(_k);case"max":return Gn(jr);case"max-index":return Gn(xk);case"mean":return gy(Ek);case"median":return gy(fv);case"variance":return Gn(Kb);case"mode":return Gn(kk)}return r(e)}function p7(e){throw new Error(`invalid reduce: ${e}`)}function m7(e,t){for(const r in t){const n=t[r];if(n!==void 0&&!e.some(a=>a.name===r))return n}}function y7(e,t,r){if(t){const n=t.output.transform(),a=(i,o)=>rn(n[i],n[o]);e.forEach(i=>i.sort(a))}r&&e.forEach(n=>n.reverse())}function b7(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function w7(e){return{reduceIndex(t,r,n){return e(gp(r,t),n)}}}function Gn(e){return{reduceIndex(t,r){return e(t,n=>r[n])}}}function gy(e){return{reduceIndex(t,r){const n=e(t,a=>r[a]);return vr(r)?new Date(n):n}}}const hS={reduceIndex(e,t){return gp(t,e)}},Sp={reduceIndex(e,t){return t[e[0]]}},x7={reduceIndex(e,t){const n=mf(ho(e,i=>i.length,i=>t[i]),Gv),a=n.slice(-5).reverse();if(a.length<n.length){const i=n.slice(0,-4);a[4]=[`… ${i.length.toLocaleString("en-US")} more`,za(i,Gv)]}return a.map(([i,o])=>`${i} (${o.toLocaleString("en-US")})`).join(`
`)}},_7={reduceIndex(e,t){return t[e[e.length-1]]}},Qf={label:"Frequency",reduceIndex(e){return e.length}},S7={label:"Distinct",reduceIndex(e,t){const r=new _c;for(const n of e)r.add(t[n]);return r.size}},T7=Gn(za);function py(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(r,n,a=1)=>r.length/a}:{scope:t,reduceIndex:(r,n,a=1)=>za(r,i=>n[i])/a}}const E7={reduceIndex(e,t,{z:r}){return r}};function cu(e,{scale:t,type:r,value:n,filter:a,hint:i,label:o=qi(n)},s){return i===void 0&&typeof(n==null?void 0:n.transform)=="function"&&(i=n.hint),vS(s,{scale:t,type:r,value:Lt(e,n),label:o,filter:a,hint:i})}function M7(e,t){return Object.fromEntries(Object.entries(e).map(([r,n])=>[r,cu(t,n,r)]))}function k7(e,t){const r=Object.fromEntries(Object.entries(e).map(([n,{scale:a,value:i}])=>{const o=a==null?null:t[a];return[n,o==null?i:yt(i,o)]}));return r.channels=e,r}function vS(e,t){const{scale:r,value:n}=t;if(r===!0||r==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=r!==!0&&yh(n,Xc)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=r!==!0&&yh(n,e7)?null:"opacity",t.defaultScale="opacity";break;case"symbol":r!==!0&&yh(n,f7)?(t.scale=null,t.value=yt(n,wp)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=ht.has(e)?e:null;break}else if(r===!1)t.scale=null;else if(r!=null&&!ht.has(r))throw new Error(`unknown scale: ${r}`);return t}function C7(e,t,r,n,a){const{order:i,reverse:o,reduce:s=!0,limit:u}=a;for(const l in a){if(!ht.has(l))continue;let{value:f,order:c=i,reverse:d=o,reduce:h=s,limit:v=u}=Wu(a[l]);const p=f==null?void 0:f.startsWith("-");if(p&&(f=f.slice(1)),c=c===void 0?p!==(f==="width"||f==="height")?pS:gS:P7(c),h==null||h===!1)continue;const g=l==="fx"||l==="fy"?A7(t,n[l]):D7(r,l);if(!g)throw new Error(`missing channel for scale: ${l}`);const m=g.value,[y=0,b=1/0]=Ja(v)?v:v<0?[v]:[0,v];if(f==null)g.domain=()=>{let w=Array.from(new _c(m));return d&&(w=w.reverse()),(y!==0||b!==1/0)&&(w=w.slice(y,b)),w};else{const w=f==="data"?e:f==="height"?my(r,"y1","y2"):f==="width"?my(r,"x1","x2"):Qv(r,f,f==="y"?"y2":f==="x"?"x2":void 0),S=_p(h===!0?"max":h,w);g.domain=()=>{let _=gk(pa(m),x=>S.reduceIndex(x,w),x=>m[x]);return c&&_.sort(c),d&&_.reverse(),(y!==0||b!==1/0)&&(_=_.slice(y,b)),_.map(K_)}}}}function D7(e,t){for(const r in e){const n=e[r];if(n.scale===t)return n}}function A7(e,t){const r=e.original;if(r===e)return t;const n=t.value,a=t.value=[];for(let i=0;i<r.length;++i){const o=n[r[i][0]];for(const s of e[i])a[s]=o}return t}function my(e,t,r){const n=Qv(e,t),a=Qv(e,r);return yt(a,(i,o)=>Math.abs(i-n[o]),Float64Array)}function Qv(e,t,r){let n=e[t];if(!n&&r!==void 0&&(n=e[r]),n)return n.value;throw new Error(`missing channel: ${t}`)}function P7(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return gS;case"descending":return pS}throw new Error(`invalid order: ${e}`)}function gS([e,t],[r,n]){return rn(t,n)||rn(e,r)}function pS([e,t],[r,n]){return Kf(t,n)||rn(e,r)}function yy(e,t){let r=e[t];if(r){for(;r.source;)r=r.source;return r.source===null?null:r}}const mS=new Map([["accent",z8],["category10",F8],["dark2",Y8],["observable10",q8],["paired",V8],["pastel1",W8],["pastel2",U8],["set1",H8],["set2",G8],["set3",X8],["tableau10",K8]]);function N7(e){return e!=null&&mS.has(`${e}`.toLowerCase())}const by=new Map([...mS,["brbg",zn(J2,ex)],["prgn",zn(tx,rx)],["piyg",zn(nx,ax)],["puor",zn(ix,ox)],["rdbu",zn(Vv,qf)],["rdgy",zn(sx,ux)],["rdylbu",zn(Wv,Vf)],["rdylgn",zn(lx,fx)],["spectral",zn(cx,dx)],["burd",wy(Vv,qf)],["buylrd",wy(Wv,Vf)],["blues",At(Ix,Bx)],["greens",At(Fx,zx)],["greys",At(Yx,qx)],["oranges",At(Gx,Xx)],["purples",At(Vx,Wx)],["reds",At(Ux,Hx)],["turbo",Yn(t_)],["viridis",Yn(r_)],["magma",Yn(n_)],["inferno",Yn(a_)],["plasma",Yn(i_)],["cividis",Yn(Kx)],["cubehelix",Yn(Zx)],["warm",Yn(Qx)],["cool",Yn(jx)],["bugn",At(hx,vx)],["bupu",At(gx,px)],["gnbu",At(mx,yx)],["orrd",At(bx,wx)],["pubu",At(Sx,Tx)],["pubugn",At(xx,_x)],["purd",At(Ex,Mx)],["rdpu",At(kx,Cx)],["ylgn",At(Px,Nx)],["ylgnbu",At(Dx,Ax)],["ylorbr",At(Ox,Lx)],["ylorrd",At(Rx,$x)],["rainbow",xy(Jx)],["sinebow",xy(e_)]]);function At(e,t){return({length:r})=>r===1?[e[3][1]]:r===2?[e[3][1],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?Jr(t,r):e[r])}function zn(e,t){return({length:r})=>r===2?[e[3][0],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?Jr(t,r):e[r])}function wy(e,t){return({length:r})=>r===2?[e[3][2],e[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?Jr(n=>t(1-n),r):e[r].slice().reverse())}function Yn(e){return({length:t})=>Jr(e,Math.max(2,Math.floor(t)))}function xy(e){return({length:t})=>Jr(e,Math.floor(t)+1).slice(0,-1)}function yS(e){const t=`${e}`.toLowerCase();if(!by.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return by.get(t)}function Qc(e,t){const r=yS(e),n=typeof r=="function"?r({length:t}):r;return n.length!==t?n.slice(0,t):n}function O7(e,t="greys"){const r=new Set,[n,a]=Qc(t,2);for(const i of e)if(i!=null)if(i===!0)r.add(a);else if(i===!1)r.add(n);else return;return[...r]}const _y=new Map([["brbg",ex],["prgn",rx],["piyg",ax],["puor",ox],["rdbu",qf],["rdgy",ux],["rdylbu",Vf],["rdylgn",fx],["spectral",dx],["burd",e=>qf(1-e)],["buylrd",e=>Vf(1-e)],["blues",Bx],["greens",zx],["greys",qx],["purples",Wx],["reds",Hx],["oranges",Xx],["turbo",t_],["viridis",r_],["magma",n_],["inferno",a_],["plasma",i_],["cividis",Kx],["cubehelix",Zx],["warm",Qx],["cool",jx],["bugn",vx],["bupu",px],["gnbu",yx],["orrd",wx],["pubugn",_x],["pubu",Tx],["purd",Mx],["rdpu",Cx],["ylgnbu",Ax],["ylgn",Nx],["ylorbr",Lx],["ylorrd",$x],["rainbow",Jx],["sinebow",e_]]);function Tp(e){const t=`${e}`.toLowerCase();if(!_y.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return _y.get(t)}const L7=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function R7(e){return e!=null&&L7.has(`${e}`.toLowerCase())}const bS=e=>t=>e(1-t),_h=[0,1],Sy=new Map([["number",Ut],["rgb",Ei],["hsl",j3],["hcl",tD],["lab",J3]]);function wS(e){const t=`${e}`.toLowerCase();if(!Sy.has(t))throw new Error(`unknown interpolator: ${t}`);return Sy.get(t)}function Xu(e,t,r,{type:n,nice:a,clamp:i,zero:o,domain:s=_S(e,r),unknown:u,round:l,scheme:f,interval:c,range:d=ht.get(e)===Uu?H7(r,s):ht.get(e)===Hu?G7(r,s):ht.get(e)===Gu?_h:void 0,interpolate:h=ht.get(e)===ma?f==null&&d!==void 0?Ei:Tp(f!==void 0?f:n==="cyclical"?"rainbow":"turbo"):l?Fg:Ut,reverse:v}){if(c=Zo(c,n),(n==="cyclical"||n==="sequential")&&(n="linear"),typeof h!="function"&&(h=wS(h)),v=!!v,d!==void 0){const p=(s=Wa(s)).length,g=(d=Wa(d)).length;if(p!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Cc(h,d),d=void 0}}if(h.length===1?(v&&(h=bS(h),v=!1),d===void 0&&(d=Float64Array.from(s,(p,g)=>g/(s.length-1)),d.length===2&&(d=_h)),t.interpolate((d===_h?ea:Mp)(h))):t.interpolate(h),o){const[p,g]=Nr(s);(p>0||g<0)&&(s=uu(s),(Ro(s)||1)===Math.sign(p)?s[0]=0:s[s.length-1]=0)}return v&&(s=xf(s)),t.domain(s).unknown(u),a&&(t.nice($7(a,n)),s=t.domain()),d!==void 0&&t.range(d),i&&t.clamp(i),{type:n,domain:s,range:d,scale:t,interpolate:h,interval:c}}function $7(e,t){return e===!0?void 0:typeof e=="number"?e:GA(e,t)}function I7(e,t,r){return Xu(e,Zg(),t,r)}function B7(e,t,r){return xS(e,t,{...r,exponent:.5})}function xS(e,t,{exponent:r=1,...n}){return Xu(e,N2().exponent(r),t,{...n,type:"pow"})}function F7(e,t,{base:r=10,domain:n=X7(t),...a}){return Xu(e,C2().base(r),t,{...a,domain:n})}function z7(e,t,{constant:r=1,...n}){return Xu(e,A2().constant(r),t,n)}function Y7(e,t,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:a=n,scheme:i="rdylbu",domain:o=K7(t),unknown:s,interpolate:u,reverse:l}){return r===void 0&&(r=u!==void 0?Jr(u,a):ht.get(e)===ma?Qc(i,a):void 0),o.length>0&&(o=O2(o,r===void 0?{length:a}:r).quantiles()),Ep(e,t,{domain:o,range:r,reverse:l,unknown:s})}function q7(e,t,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:a="rdylbu",domain:i=_S(e,t),unknown:o,interpolate:s,reverse:u}){const[l,f]=Nr(i);let c;return r===void 0?(c=Js(l,f,n),c[0]<=l&&c.splice(0,1),c[c.length-1]>=f&&c.pop(),n=c.length+1,r=s!==void 0?Jr(s,n):ht.get(e)===ma?Qc(a,n):void 0):(c=Jr(Ut(l,f),n+1).slice(1,-1),l instanceof Date&&(c=c.map(d=>new Date(d)))),Ro(Wa(i))<0&&c.reverse(),Ep(e,t,{domain:c,range:r,reverse:u,unknown:o})}function Ep(e,t,{domain:r=[0],unknown:n,scheme:a="rdylbu",interpolate:i,range:o=i!==void 0?Jr(i,r.length+1):ht.get(e)===ma?Qc(a,r.length+1):void 0,reverse:s}){r=Wa(r);const u=Ro(r);if(!isNaN(u)&&!V7(r,u))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(o=xf(o)),{type:"threshold",scale:L2(u<0?xf(r):r,o===void 0?[]:o).unknown(n),domain:r,range:o}}function V7(e,t){for(let r=1,n=e.length,a=e[0];r<n;++r){const i=Cu(a,a=e[r]);if(i!==0&&i!==t)return!1}return!0}function W7(e){return{type:"identity",scale:o7(ht.get(e))?E2():t=>t}}function du(e,t=B_){return e.length?[oa(e,({value:r})=>r===void 0?r:oa(r,t)),jr(e,({value:r})=>r===void 0?r:jr(r,t))]:[0,1]}function _S(e,t){const r=ht.get(e);return(r===Uu||r===Gu||r===Hu?U7:du)(t)}function U7(e){return[0,e.length?jr(e,({value:t})=>t===void 0?t:jr(t,B_)):1]}function H7(e,t){const r=e.find(({radius:o})=>o!==void 0);if(r!==void 0)return[0,r.radius];const n=Eo(e,.5,({value:o})=>o===void 0?NaN:Eo(o,.25,sp)),a=t.map(o=>3*Math.sqrt(o/n)),i=30/jr(a);return i<1?a.map(o=>o*i):a}function G7(e,t){const r=fv(e,({value:i})=>i===void 0?NaN:fv(i,Math.abs)),n=t.map(i=>12*i/r),a=60/jr(n);return a<1?n.map(i=>i*a):n}function X7(e){for(const{value:t}of e)if(t!==void 0)for(let r of t){if(r>0)return du(e,sp);if(r<0)return du(e,F_)}return[1,10]}function K7(e){const t=[];for(const{value:r}of e)if(r!==void 0)for(const n of r)t.push(n);return t}function Mp(e){return(t,r)=>n=>e(t+n*(r-t))}let jv=0,Jv;function Z7(){const e=jv;return jv=0,Jv=void 0,e}function $a(e){e!==Jv&&(Jv=e,console.warn(e),++jv)}function jc(e,t,r,n,{type:a,nice:i,clamp:o,domain:s=du(n),unknown:u,pivot:l=0,scheme:f,range:c,symmetric:d=!0,interpolate:h=ht.get(e)===ma?f==null&&c!==void 0?Ei:Tp(f!==void 0?f:"rdbu"):Ut,reverse:v}){l=+l,s=Wa(s);let[p,g]=s;if(s.length>2&&$a(`Warning: the diverging ${e} scale domain contains extra elements.`),Cu(p,g)<0&&([p,g]=[g,p],v=!v),p=Math.min(p,l),g=Math.max(g,l),typeof h!="function"&&(h=wS(h)),c!==void 0&&(h=h.length===1?Mp(h)(...c):Cc(h,c)),v&&(h=bS(h)),d){const m=r.apply(l),y=m-r.apply(p),b=r.apply(g)-m;y<b?p=r.invert(m-b):y>b&&(g=r.invert(m+y))}return t.domain([p,l,g]).unknown(u).interpolator(h),o&&t.clamp(o),i&&t.nice(i),{type:a,domain:[p,g],pivot:l,interpolate:h,scale:t}}function Q7(e,t,r){return jc(e,K2(),t9,t,r)}function j7(e,t,r){return SS(e,t,{...r,exponent:.5})}function SS(e,t,{exponent:r=1,...n}){return jc(e,j2().exponent(r=+r),a9(r),t,{...n,type:"diverging-pow"})}function J7(e,t,{base:r=10,pivot:n=1,domain:a=du(t,n<0?F_:sp),...i}){return jc(e,Z2().base(r=+r),r9,t,{domain:a,pivot:n,...i})}function e9(e,t,{constant:r=1,...n}){return jc(e,Q2().constant(r=+r),i9(r),t,n)}const t9={apply(e){return e},invert(e){return e}},r9={apply:Math.log,invert:Math.exp},n9={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function a9(e){return e===.5?n9:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function i9(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function TS(e,t,r,n){return Xu(e,t,r,n)}function o9(e,t,r){return TS(e,I8(),t,r)}function s9(e,t,r){return TS(e,B8(),t,r)}const Ku=Symbol("ordinal");function ES(e,t,r,{type:n,interval:a,domain:i,range:o,reverse:s,hint:u}){return a=Zo(a,n),i===void 0&&(i=kS(r,a,e)),(n==="categorical"||n===Ku)&&(n="ordinal"),s&&(i=xf(i)),i=t.domain(i).domain(),o!==void 0&&(typeof o=="function"&&(o=o(i)),t.range(o)),{type:n,domain:i,range:o,scale:t,hint:u,interval:a}}function u9(e,t,{type:r,interval:n,domain:a,range:i,scheme:o,unknown:s,...u}){n=Zo(n,r),a===void 0&&(a=kS(t,n,e));let l;if(ht.get(e)===Kc)l=c9(t),i=i===void 0?d9(l):yt(i,wp);else if(ht.get(e)===ma&&(i===void 0&&(r==="ordinal"||r===Ku)&&(i=O7(a,o),i!==void 0&&(o=void 0)),o===void 0&&i===void 0&&(o=r==="ordinal"?"turbo":"observable10"),o!==void 0))if(i!==void 0){const f=Tp(o),c=i[0],d=i[1]-i[0];i=({length:h})=>Jr(v=>f(c+d*v),h)}else i=yS(o);if(s===zv)throw new Error(`implicit unknown on ${e} scale is not supported`);return ES(e,Kg().unknown(s),t,{...u,type:r,domain:a,range:i,hint:l})}function l9(e,t,{align:r=.5,padding:n=.5,...a}){return MS(y4().align(r).padding(n),t,a,e)}function f9(e,t,{align:r=.5,padding:n=.1,paddingInner:a=n,paddingOuter:i=e==="fx"||e==="fy"?0:n,...o}){return MS(Rc().align(r).paddingInner(a).paddingOuter(i),t,o,e)}function MS(e,t,r,n){let{round:a}=r;return a!==void 0&&e.round(a=!!a),e=ES(n,e,t,r),e.round=a,e}function kS(e,t,r){const n=new _c;for(const{value:a,domain:i}of e){if(i!==void 0)return i();if(a!==void 0)for(const o of a)n.add(o)}if(t!==void 0){const[a,i]=Nr(n).map(t.floor,t);return t.range(a,t.offset(i))}if(n.size>1e4&&ht.get(r)===xn)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return mf(n,rn)}function Ty(e,t){let r;for(const{hint:n}of e){const a=n==null?void 0:n[t];if(a!==void 0){if(r===void 0)r=a;else if(r!==a)return}}return r}function c9(e){return{fill:Ty(e,"fill"),stroke:Ty(e,"stroke")}}function d9(e){return cr(e.fill)?lA:uA}function eg(e,{label:t,inset:r=0,insetTop:n=r,insetRight:a=r,insetBottom:i=r,insetLeft:o=r,round:s,nice:u,clamp:l,zero:f,align:c,padding:d,projection:h,facet:{label:v=t}={},...p}={}){const g={};for(const[m,y]of e){const b=p[m],w=m9(m,y,{round:ht.get(m)===xn?s:void 0,nice:u,clamp:l,zero:f,align:c,padding:d,projection:h,...b});if(w){let{label:S=m==="fx"||m==="fy"?v:t,percent:_,transform:x,inset:E,insetTop:T=E!==void 0?E:m==="y"?n:0,insetRight:k=E!==void 0?E:m==="x"?a:0,insetBottom:M=E!==void 0?E:m==="y"?i:0,insetLeft:D=E!==void 0?E:m==="x"?o:0}=b||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");w.percent=!!_,w.label=S===void 0?v9(y,w):S,w.transform=x,m==="x"||m==="fx"?(w.insetLeft=+D,w.insetRight=+k):(m==="y"||m==="fy")&&(w.insetTop=+T,w.insetBottom=+M),g[m]=w}}return g}function Ey(e){const t={},r={scales:t};for(const[n,a]of Object.entries(e)){const{scale:i,type:o,interval:s,label:u}=a;t[n]=_9(a),r[n]=i,i.type=o,s!=null&&(i.interval=s),u!=null&&(i.label=u)}return r}function h9(e,t){const{x:r,y:n,fx:a,fy:i}=e,o=a||i?kp(t):t;a&&My(a,o),i&&ky(i,o);const s=a||i?CS(e,t):t;r&&My(r,s),n&&ky(n,s)}function v9(e=[],t){let r;for(const{label:n}of e)if(n!==void 0){if(r===void 0)r=n;else if(r!==n)return}if(r!==void 0)return!Vi(t)&&t.percent&&(r=`${r} (%)`),{inferred:!0,toString:()=>r}}function g9(e){return Math.sign(Ro(e.domain()))*Math.sign(Ro(e.range()))}function kp(e){const{marginTop:t,marginRight:r,marginBottom:n,marginLeft:a,width:i,height:o,facet:{marginTop:s,marginRight:u,marginBottom:l,marginLeft:f}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(r,u),marginBottom:Math.max(n,l),marginLeft:Math.max(a,f),width:i,height:o}}function CS({fx:e,fy:t},r){const{marginTop:n,marginRight:a,marginBottom:i,marginLeft:o,width:s,height:u}=kp(r);return{marginTop:n,marginRight:a,marginBottom:i,marginLeft:o,width:e?e.scale.bandwidth()+o+a:s,height:t?t.scale.bandwidth()+n+i:u,facet:{width:s,height:u}}}function My(e,t){if(e.range===void 0){const{insetLeft:r,insetRight:n}=e,{width:a,marginLeft:i=0,marginRight:o=0}=t,s=i+r,u=a-o-n;e.range=[s,Math.max(s,u)],Vi(e)||(e.range=AS(e)),e.scale.range(e.range)}DS(e)}function ky(e,t){if(e.range===void 0){const{insetTop:r,insetBottom:n}=e,{height:a,marginTop:i=0,marginBottom:o=0}=t,s=i+r,u=a-o-n;e.range=[Math.max(s,u),s],Vi(e)?e.range.reverse():e.range=AS(e),e.scale.range(e.range)}DS(e)}function DS(e){e.round===void 0&&b9(e)&&p9(e)<=30&&e.scale.round(!0)}function p9({scale:e}){const t=e.domain().length,[r,n]=e.range(),a=e.paddingInner?e.paddingInner():1,i=e.paddingOuter?e.paddingOuter():e.padding(),o=t-a,s=Math.abs(n-r)/Math.max(1,o+i*2);return(s-Math.floor(s))*o}function AS(e){const t=e.scale.domain().length+PS(e);if(!(t>2))return e.range;const[r,n]=e.range;return Array.from({length:t},(a,i)=>r+i/(t-1)*(n-r))}function m9(e,t=[],r={}){const n=y9(e,t,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&e!=="fx"&&e!=="fy"&&Vi({type:n})){const a=t.map(({value:i})=>i).filter(i=>i!==void 0);a.some(vr)?$a(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ki(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Ki(n)}".`):a.some(ZA)?$a(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ki(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Ki(n)}".`):a.some(QA)&&$a(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ki(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Ki(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=Sl(t,r,$o);break;case"identity":switch(ht.get(e)){case xn:r=Sl(t,r,$o);break;case Kc:r=Sl(t,r,w9);break}break;case"utc":case"time":r=Sl(t,r,Z_);break}switch(n){case"diverging":return Q7(e,t,r);case"diverging-sqrt":return j7(e,t,r);case"diverging-pow":return SS(e,t,r);case"diverging-log":return J7(e,t,r);case"diverging-symlog":return e9(e,t,r);case"categorical":case"ordinal":case Ku:return u9(e,t,r);case"cyclical":case"sequential":case"linear":return I7(e,t,r);case"sqrt":return B7(e,t,r);case"threshold":return Ep(e,t,r);case"quantile":return Y7(e,t,r);case"quantize":return q7(e,t,r);case"pow":return xS(e,t,r);case"log":return F7(e,t,r);case"symlog":return z7(e,t,r);case"utc":return s9(e,t,r);case"time":return o9(e,t,r);case"point":return l9(e,t,r);case"band":return f9(e,t,r);case"identity":return W7(e);case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function Ki(e){return typeof e=="symbol"?e.description:e}function Cy(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Dy={toString:()=>"projection"};function y9(e,t,{type:r,domain:n,range:a,scheme:i,pivot:o,projection:s}){if(r=Cy(r),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(r=Dy);for(const l of t){const f=Cy(l.type);if(f!==void 0){if(r===void 0)r=f;else if(r!==f)throw new Error(`scale incompatible with channel: ${r} !== ${f}`)}}if(r===Dy)return;if(r!==void 0)return r;if(n===void 0&&!t.some(({value:l})=>l!==void 0))return;const u=ht.get(e);if(u===Uu)return"sqrt";if(u===Gu||u===Hu)return"linear";if(u===Kc)return"ordinal";if((n||a||[]).length>2)return Sh(u);if(n!==void 0){if(hy(n))return Sh(u);if(vr(n))return"utc"}else{const l=t.map(({value:f})=>f).filter(f=>f!==void 0);if(l.some(hy))return Sh(u);if(l.some(vr))return"utc"}if(u===ma){if(o!=null||R7(i))return"diverging";if(N7(i))return"categorical"}return"linear"}function Sh(e){switch(e){case xn:return"point";case ma:return Ku;default:return"ordinal"}}function Vi({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ku}function PS({type:e}){return e==="threshold"}function b9({type:e}){return e==="point"||e==="band"}function zo(e){if(e===void 0)return!0;const t=e.domain(),r=e(t[0]);for(let n=1,a=t.length;n<a;++n)if(e(t[n])-r)return!1;return!0}function Sl(e,{domain:t,...r},n){var a;for(const i of e)i.value!==void 0&&(t===void 0&&(t=(a=i.value)==null?void 0:a.domain),i.value=n(i.value));return{domain:t===void 0?t:n(t),...r}}function w9(e){return yt(e,wp)}function x9(e){return t=>{if(!ht.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function _9({scale:e,type:t,domain:r,range:n,interpolate:a,interval:i,transform:o,percent:s,pivot:u}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const l=e.unknown?e.unknown():void 0;return{type:t,domain:uu(r),...n!==void 0&&{range:uu(n)},...o!==void 0&&{transform:o},...s&&{percent:s},...l!==void 0&&{unknown:l},...i!==void 0&&{interval:i},...a!==void 0&&{interpolate:a},...e.clamp&&{clamp:e.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:f=>e(f),...e.invert&&{invert:f=>e.invert(f)}}}function S9(e,t){const{fx:r,fy:n}=eg(e,t),a=r==null?void 0:r.scale.domain(),i=n==null?void 0:n.scale.domain();return a&&i?hk(a,i).map(([o,s],u)=>({x:o,y:s,i:u})):a?a.map((o,s)=>({x:o,i:s})):i?i.map((o,s)=>({y:o,i:s})):void 0}function T9(e,{x:t,y:r}){return t&&(t=tg(t)),r&&(r=tg(r)),e.filter(t&&r?n=>t.has(n.x)&&r.has(n.y):t?n=>t.has(n.x):n=>r.has(n.y)).sort(t&&r?(n,a)=>t.get(n.x)-t.get(a.x)||r.get(n.y)-r.get(a.y):t?(n,a)=>t.get(n.x)-t.get(a.x):(n,a)=>r.get(n.y)-r.get(a.y))}function Cp(e,{fx:t,fy:r}){const n=pa(e),a=t==null?void 0:t.value,i=r==null?void 0:r.value;return t&&r?ho(n,o=>(o.fx=a[o[0]],o.fy=i[o[0]],o),o=>a[o],o=>i[o]):t?ho(n,o=>(o.fx=a[o[0]],o),o=>a[o]):ho(n,o=>(o.fy=i[o[0]],o),o=>i[o])}function E9(e,t,{marginTop:r,marginLeft:n}){return e&&t?({x:a,y:i})=>`translate(${e(a)-n},${t(i)-r})`:e?({x:a})=>`translate(${e(a)-n},0)`:({y:a})=>`translate(0,${t(a)-r})`}function M9(e){const t=[],r=new Uint32Array(za(e,n=>n.length));for(const n of e){let a=0;for(const i of e)n!==i&&(r.set(i,a),a+=i.length);t.push(r.slice(0,a))}return t}const k9=new Map([["top",Th],["right",kh],["bottom",Eh],["left",Mh],["top-left",Tl(Th,Mh)],["top-right",Tl(Th,kh)],["bottom-left",Tl(Eh,Mh)],["bottom-right",Tl(Eh,kh)],["top-empty",A9],["right-empty",O9],["bottom-empty",P9],["left-empty",N9],["empty",L9]]);function C9(e){if(e==null)return null;const t=k9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Ay=new WeakMap;function tg(e){let t=Ay.get(e);return t||Ay.set(e,t=new _i(yt(e,(r,n)=>[r,n]))),t}function ei(e,t){return tg(e).get(t)}function D9(e,t,r){return t=ta(t),r=ta(r),e.find(n=>Object.is(ta(n.x),t)&&Object.is(ta(n.y),r))}function Jc(e,t,r){var n;return(n=D9(e,t,r))==null?void 0:n.empty}function Th(e,{y:t},{y:r}){return t?ei(t,r)===0:!0}function Eh(e,{y:t},{y:r}){return t?ei(t,r)===t.length-1:!0}function Mh(e,{x:t},{x:r}){return t?ei(t,r)===0:!0}function kh(e,{x:t},{x:r}){return t?ei(t,r)===t.length-1:!0}function A9(e,{y:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=ei(t,n);if(i>0)return Jc(e,r,t[i-1])}function P9(e,{y:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=ei(t,n);if(i<t.length-1)return Jc(e,r,t[i+1])}function N9(e,{x:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=ei(t,r);if(i>0)return Jc(e,t[i-1],n)}function O9(e,{x:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=ei(t,r);if(i<t.length-1)return Jc(e,t[i+1],n)}function L9(e,t,{empty:r}){return r}function Tl(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Ch(e,{channels:{fx:t,fy:r},groups:n}){return t&&r?e.map(({x:a,y:i})=>{var o;return((o=n.get(a))==null?void 0:o.get(i))??[]}):t?e.map(({x:a})=>n.get(a)??[]):e.map(({y:a})=>n.get(a)??[])}const NS=Math.PI,qn=2*NS,Dh=.618;function R9({projection:e,inset:t=0,insetTop:r=t,insetRight:n=t,insetBottom:a=t,insetLeft:i=t}={},o){if(e==null)return;if(typeof e.stream=="function")return e;let s,u,l="frame";if(ja(e)){let S;if({type:e,domain:u,inset:S,insetTop:r=S!==void 0?S:r,insetRight:n=S!==void 0?S:n,insetBottom:a=S!==void 0?S:a,insetLeft:i=S!==void 0?S:i,clip:l=l,...s}=e,e==null)return}typeof e!="function"&&({type:e}=rg(e));const{width:f,height:c,marginLeft:d,marginRight:h,marginTop:v,marginBottom:p}=o,g=f-d-h-i-n,m=c-v-p-r-a;if(e=e==null?void 0:e({width:g,height:m,clip:l,...s}),e==null)return;l=$9(l,d,v,f-h,c-p);let y=d+i,b=v+r,w;if(u!=null){const[[S,_],[x,E]]=Pc(e).bounds(u),T=Math.min(g/(x-S),m/(E-_));T>0?(y-=(T*(S+x)-g)/2,b-=(T*(_+E)-m)/2,w=Bv({point(k,M){this.stream.point(k*T+y,M*T+b)}})):$a("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=y===0&&b===0?OS():Bv({point(S,_){this.stream.point(S+y,_+b)}})),{stream:S=>e.stream(w.stream(l(S)))}}function rg(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Wr(n4,.7463,.4673);case"albers":return El(h2,.7463,.4673);case"azimuthal-equal-area":return Wr(a4,4,4);case"azimuthal-equidistant":return Wr(i4,qn,qn);case"conic-conformal":return El(u4,qn,qn);case"conic-equal-area":return El(Bf,6.1702,2.9781);case"conic-equidistant":return El(c4,7.312,3.6282);case"equal-earth":return Wr(h4,5.4133,2.6347);case"equirectangular":return Wr(l4,qn,NS);case"gnomonic":return Wr(v4,3.4641,3.4641);case"identity":return{type:OS};case"reflect-y":return{type:I9};case"mercator":return Wr(o4,qn,qn);case"orthographic":return Wr(g4,2,2);case"stereographic":return Wr(p4,2,2);case"transverse-mercator":return Wr(m4,qn,qn);default:throw new Error(`unknown projection type: ${e}`)}}function $9(e,t,r,n,a){if(e===!1||e==null||typeof e=="number")return i=>i;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Qw(t,r,n,a);default:throw new Error(`unknown projection clip type: ${e}`)}}function Wr(e,t,r){return{type:({width:n,height:a,rotate:i,precision:o=.15,clip:s})=>{var l,f,c;const u=e();return o!=null&&((l=u.precision)==null||l.call(u,o)),i!=null&&((f=u.rotate)==null||f.call(u,i)),typeof s=="number"&&((c=u.clipAngle)==null||c.call(u,s)),n!=null&&(u.scale(Math.min(n/t,a/r)),u.translate([n/2,a/2])),u},aspectRatio:r/t}}function El(e,t,r){const{type:n,aspectRatio:a}=Wr(e,t,r);return{type:i=>{const{parallels:o,domain:s,width:u,height:l}=i,f=n(i);return o!=null&&(f.parallels(o),s===void 0&&u!=null&&f.fitSize([u,l],{type:"Sphere"})),f},aspectRatio:a}}const OS=ea({stream:e=>e}),I9=ea(Bv({point(e,t){this.stream.point(e,-t)}}));function B9(e,t,r,n){const a=r[e],i=r[t],o=a.length,s=r[e]=new Float64Array(o).fill(NaN),u=r[t]=new Float64Array(o).fill(NaN);let l;const f=n.stream({point(c,d){s[l]=c,u[l]=d}});for(l=0;l<o;++l)f.point(a[l],i[l])}function F9({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(ja(e)&&(e=e.type),e!=null)}function z9(e){if(typeof(e==null?void 0:e.stream)=="function")return Dh;if(ja(e)){let t,r;if({domain:t,type:e,...r}=e,t!=null&&e!=null){const n=typeof e=="string"?rg(e).type:e,[[a,i],[o,s]]=Pc(n({...r,width:100,height:100})).bounds(t),u=(s-i)/(o-a);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Dh}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=rg(e);if(t)return t}return Dh}}function Y9(e){const t=[],r=[],n={scale:"x",value:t},a={scale:"y",value:r},i={point(o,s){t.push(o),r.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of e.value)di(o,i);return[n,a]}function Dp(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:r}=e;return{document:t,clip:iS(r)}}function Yt(e,{document:t}){return vo(Ec(e).call(t.documentElement))}const ng=Symbol("unset");function Ap(e){return(e.length===1?q9:V9)(e)}function q9(e){let t,r=ng;return n=>(Object.is(r,n)||(r=n,t=e(n)),t)}function V9(e){let t,r;return(...n)=>(((r==null?void 0:r.length)!==n.length||r.some((a,i)=>!Object.is(a,n[i])))&&(r=n,t=e(...n)),t)}const W9=Ap(e=>new Intl.NumberFormat(e));Ap((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));Ap((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function U9(e="en-US"){const t=W9(e);return r=>r!=null&&!isNaN(r)?t.format(r):void 0}function H9(e){return kA(e,"Invalid Date")}function G9(e="en-US"){const t=U9(e);return r=>(r instanceof Date?H9:typeof r=="number"?t:ir)(r)}const Yo=G9(),br=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let X9=0;function K9(){return`plot-clip-${++X9}`}function Z9(e,{title:t,href:r,ariaLabel:n,ariaDescription:a,ariaHidden:i,target:o,fill:s,fillOpacity:u,stroke:l,strokeWidth:f,strokeOpacity:c,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:v,strokeDasharray:p,strokeDashoffset:g,opacity:m,mixBlendMode:y,imageFilter:b,paintOrder:w,pointerEvents:S,shapeRendering:_,channels:x},{ariaLabel:E,fill:T="currentColor",fillOpacity:k,stroke:M="none",strokeOpacity:D,strokeWidth:P,strokeLinecap:C,strokeLinejoin:A,strokeMiterlimit:O,paintOrder:L}){T===null&&(s=null,u=null),M===null&&(l=null,c=null),cr(T)?!cr(M)&&(!cr(s)||x!=null&&x.fill)&&(M="none"):cr(M)&&(!cr(l)||x!=null&&x.stroke)&&(T="none");const[$,z]=fa(s,T),[F,I]=yr(u,k),[B,V]=fa(l,M),[K,j]=yr(c,D),[Q,X]=yr(m);fu(V)||(f===void 0&&(f=P),h===void 0&&(h=C),d===void 0&&(d=A),v===void 0&&!t7(d)&&(v=O),!fu(z)&&w===void 0&&(w=L));const[W,R]=yr(f);return T!==null&&(e.fill=It(z,"currentColor"),e.fillOpacity=bs(I,1)),M!==null&&(e.stroke=It(V,"none"),e.strokeWidth=bs(R,1),e.strokeOpacity=bs(j,1),e.strokeLinejoin=It(d,"miter"),e.strokeLinecap=It(h,"butt"),e.strokeMiterlimit=bs(v,4),e.strokeDasharray=It(p,"none"),e.strokeDashoffset=It(g,"0")),e.target=ir(o),e.ariaLabel=ir(E),e.ariaDescription=ir(a),e.ariaHidden=ir(i),e.opacity=bs(X,1),e.mixBlendMode=It(y,"normal"),e.imageFilter=It(b,"none"),e.paintOrder=It(w,"normal"),e.pointerEvents=It(S,"auto"),e.shapeRendering=It(_,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:r,optional:!0,filter:null},ariaLabel:{value:n,optional:!0,filter:null},fill:{value:$,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:B,scale:"auto",optional:!0},strokeOpacity:{value:K,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:Q,scale:"auto",optional:!0}}}function Q9(e,t){t&&e.filter(r=>op(t[r])).append("title").call(J9,t)}function j9(e,t){t&&e.filter(([r])=>op(t[r])).append("title").call(eP,t)}function J9(e,t){t&&e.text(r=>Yo(t[r]))}function eP(e,t){t&&e.text(([r])=>Yo(t[r]))}function Ai(e,{target:t,tip:r},{ariaLabel:n,title:a,fill:i,fillOpacity:o,stroke:s,strokeOpacity:u,strokeWidth:l,opacity:f,href:c}){n&&ke(e,"aria-label",d=>n[d]),i&&ke(e,"fill",d=>i[d]),o&&ke(e,"fill-opacity",d=>o[d]),s&&ke(e,"stroke",d=>s[d]),u&&ke(e,"stroke-opacity",d=>u[d]),l&&ke(e,"stroke-width",d=>l[d]),f&&ke(e,"opacity",d=>f[d]),c&&IS(e,d=>c[d],t),r||Q9(e,a)}function LS(e,{target:t,tip:r},{ariaLabel:n,title:a,fill:i,fillOpacity:o,stroke:s,strokeOpacity:u,strokeWidth:l,opacity:f,href:c}){n&&ke(e,"aria-label",([d])=>n[d]),i&&ke(e,"fill",([d])=>i[d]),o&&ke(e,"fill-opacity",([d])=>o[d]),s&&ke(e,"stroke",([d])=>s[d]),u&&ke(e,"stroke-opacity",([d])=>u[d]),l&&ke(e,"stroke-width",([d])=>l[d]),f&&ke(e,"opacity",([d])=>f[d]),c&&IS(e,([d])=>c[d],t),r||j9(e,a)}function tP({ariaLabel:e,title:t,fill:r,fillOpacity:n,stroke:a,strokeOpacity:i,strokeWidth:o,opacity:s,href:u},{tip:l}){return[e,l?void 0:t,r,n,a,i,o,s,u].filter(f=>f!==void 0)}function rP(e,t,r){const n=Sc(e,a=>t[a]);return r===void 0&&n.size>1+e.length>>1&&$a("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),n.values()}function*RS(e,t,r,n){const{z:a}=r,{z:i}=n,o=tP(n,r),s=[...t,...o];for(const u of i?rP(e,i,a):[e]){let l,f;e:for(const c of u){for(const d of s)if(!Va(d[c])){f&&f.push(-1);continue e}if(l===void 0){f&&(yield f),l=o.map(d=>ta(d[c])),f=[c];continue}f.push(c);for(let d=0;d<o.length;++d)if(ta(o[d][c])!==l[d]){yield f,l=o.map(v=>ta(v[c])),f=[c];continue e}}f&&(yield f)}}function nP(e,t,r,n){let a;const{clip:i=n.clip}=t;switch(i){case"frame":{e=Yt("svg:g",n).each(function(){this.appendChild(e.node()),e.node=()=>this}),a=aP(n,r);break}case"sphere":{a=iP(n);break}}ke(e,"aria-label",t.ariaLabel),ke(e,"aria-description",t.ariaDescription),ke(e,"aria-hidden",t.ariaHidden),ke(e,"clip-path",a)}function $S(e){const t=new WeakMap;return(r,n)=>{let a=t.get(r);if(!a){const i=K9();vo(r.ownerSVGElement).append("clipPath").attr("id",i).call(e,r,n),t.set(r,a=`url(#${i})`)}return a}}const aP=$S((e,t,r)=>{const{width:n,height:a,marginLeft:i,marginRight:o,marginTop:s,marginBottom:u}=r;e.append("rect").attr("x",i).attr("y",s).attr("width",n-o-i).attr("height",a-s-u)}),iP=$S((e,t)=>{const{projection:r}=t;if(!r)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",Pc(r)({type:"Sphere"}))});function ya(e,t,r,n){nP(e,t,r,n),ke(e,"class",t.className),ke(e,"fill",t.fill),ke(e,"fill-opacity",t.fillOpacity),ke(e,"stroke",t.stroke),ke(e,"stroke-width",t.strokeWidth),ke(e,"stroke-opacity",t.strokeOpacity),ke(e,"stroke-linejoin",t.strokeLinejoin),ke(e,"stroke-linecap",t.strokeLinecap),ke(e,"stroke-miterlimit",t.strokeMiterlimit),ke(e,"stroke-dasharray",t.strokeDasharray),ke(e,"stroke-dashoffset",t.strokeDashoffset),ke(e,"shape-rendering",t.shapeRendering),ke(e,"filter",t.imageFilter),ke(e,"paint-order",t.paintOrder);const{pointerEvents:a=n.pointerSticky===!1?"none":void 0}=t;ke(e,"pointer-events",a)}function Cn(e,t){oP(e,"mix-blend-mode",t.mixBlendMode),ke(e,"opacity",t.opacity)}function IS(e,t,r){e.each(function(n){const a=t(n);if(a!=null){const i=this.ownerDocument.createElementNS(Mo.svg,"a");i.setAttribute("fill","inherit"),i.setAttributeNS(Mo.xlink,"href",a),r!=null&&i.setAttribute("target",r),this.parentNode.insertBefore(i,this).appendChild(this)}})}function ke(e,t,r){r!=null&&e.attr(t,r)}function oP(e,t,r){r!=null&&e.style(t,r)}function ba(e,t,{x:r,y:n},a=br,i=br){a+=t.dx,i+=t.dy,r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),(a||i)&&e.attr("transform",`translate(${a},${i})`)}function It(e,t){if((e=ir(e))!==t)return e}function bs(e,t){if((e=Gt(e))!==t)return e}const sP=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ed(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!sP.test(e))throw new Error(`invalid class name: ${e}`);return e}function Pp(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const r of e)Object.assign(r.style,t)}function td({frameAnchor:e},{width:t,height:r,marginTop:n,marginRight:a,marginBottom:i,marginLeft:o}){return[/left$/.test(e)?o:/right$/.test(e)?t-a:(o+t-a)/2,/^top/.test(e)?n:/^bottom/.test(e)?r-i:(n+r-i)/2]}class Fr{constructor(t,r={},n={},a){const{facet:i="auto",facetAnchor:o,fx:s,fy:u,sort:l,dx:f=0,dy:c=0,margin:d=0,marginTop:h=d,marginRight:v=d,marginBottom:p=d,marginLeft:g=d,className:m,clip:y=a==null?void 0:a.clip,channels:b,tip:w,render:S}=n;if(this.data=t,this.sort=Bo(l)?l:null,this.initializer=Fo(n).initializer,this.transform=this.initializer?n.transform:Zc(n).transform,i===null||i===!1?this.facet=null:(this.facet=sn(i===!0?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===rf&&typeof s=="string"?[s]:s,this.fy=t===rf&&typeof u=="string"?[u]:u),this.facetAnchor=C9(o),r=aS(r),b!==void 0&&(r={...uP(b),...r}),a!==void 0&&(r={...Z9(this,n,a),...r}),this.channels=Object.fromEntries(Object.entries(r).map(([_,x])=>{if(Gc(x.value)){const{value:E,label:T=x.label,scale:k=x.scale}=x.value;x={...x,label:T,scale:k,value:E}}if(t===rf&&typeof x.value=="string"){const{value:E}=x;x={...x,value:[E]}}return[_,x]}).filter(([_,{value:x,optional:E}])=>{if(x!=null)return!0;if(E)return!1;throw new Error(`missing channel value: ${_}`)})),this.dx=+f,this.dy=+c,this.marginTop=+h,this.marginRight=+v,this.marginBottom=+p,this.marginLeft=+g,this.clip=iS(y),this.tip=lP(w),this.className=m?ed(m):null,this.facet==="super"){if(s||u)throw new Error("super-faceting cannot use fx or fy");for(const _ in this.channels){const{scale:x}=r[_];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}S!=null&&(this.render=BS(S,this.render))}initialize(t,r,n){let a=Io(this.data);t===void 0&&a!=null&&(t=[pa(a)]);const i=t;this.transform!=null&&({facets:t,data:a}=this.transform(a,t,n),a=Io(a)),t!==void 0&&(t.original=i);const o=M7(this.channels,a);return this.sort!=null&&C7(a,t,o,r,this.sort),{data:a,facets:t,channels:o}}filter(t,r,n){for(const a in r){const{filter:i=Va}=r[a];if(i!==null){const o=n[a];t=t.filter(s=>i(o[s]))}}return t}project(t,r,n){for(const a in t)if(t[a].scale==="x"&&/^x|x$/.test(a)){const i=a.replace(/^x|x$/,"y");i in t&&t[i].scale==="y"&&B9(a,i,r,n.projection)}}scale(t,r,n){const a=k7(t,r);return n.projection&&this.project(t,a,n),a}}function rd(...e){return e.plot=Fr.prototype.plot,e}function BS(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(r,n,a,i,o,s){return e.call(this,r,n,a,i,o,(u,l,f,c,d)=>t.call(this,u,l,f,c,d,s))}}function uP(e){return Object.fromEntries(Object.entries(aS(e)).map(([t,r])=>(r=typeof r=="string"?{value:r,label:t}:Wu(r),r.filter===void 0&&r.scale==null&&(r={...r,filter:null}),[t,r])))}function lP(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?sn(e,"tip",["x","y","xy"]):e}function nd(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:ja(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function fP(e,t,r={}){let n=.5-br,a=.5+br,i=.5+br,o=.5-br;for(const{marginTop:p,marginRight:g,marginBottom:m,marginLeft:y}of t)p>n&&(n=p),g>a&&(a=g),m>i&&(i=m),y>o&&(o=y);let{margin:s,marginTop:u=s!==void 0?s:n,marginRight:l=s!==void 0?s:a,marginBottom:f=s!==void 0?s:i,marginLeft:c=s!==void 0?s:o}=r;u=+u,l=+l,f=+f,c=+c;let{width:d=640,height:h=cP(e,r,{width:d,marginTopDefault:n,marginRightDefault:a,marginBottomDefault:i,marginLeftDefault:o})+Math.max(0,u-n+f-i)}=r;d=+d,h=+h;const v={width:d,height:h,marginTop:u,marginRight:l,marginBottom:f,marginLeft:c};if(e.fx||e.fy){let{margin:p,marginTop:g=p!==void 0?p:u,marginRight:m=p!==void 0?p:l,marginBottom:y=p!==void 0?p:f,marginLeft:b=p!==void 0?p:c}=r.facet??{};g=+g,m=+m,y=+y,b=+b,v.facet={marginTop:g,marginRight:m,marginBottom:y,marginLeft:b}}return v}function cP({x:e,y:t,fy:r,fx:n},{projection:a,aspectRatio:i},{width:o,marginTopDefault:s,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:f}){const c=r&&r.scale.domain().length||1,d=z9(a);if(d){const v=n?n.scale.domain().length:1,p=(1.1*c-.1)/(1.1*v-.1)*d,g=Math.max(.1,Math.min(10,p));return Math.round((o-f-u)*g+s+l)}const h=t?Vi(t)?t.scale.domain().length||1:Math.max(7,17/c):1;if(i!=null){if(i=+i,!(isFinite(i)&&i>0))throw new Error(`invalid aspectRatio: ${i}`);const v=Py("y",t)/(Py("x",e)*i),p=n?n.scale.bandwidth():1,g=r?r.scale.bandwidth():1,m=p*(o-f-u)-e.insetLeft-e.insetRight;return(v*m+t.insetTop+t.insetBottom)/g+s+l}return!!(t||r)*Math.max(1,Math.min(60,h*c))*20+!!n*30+60}function Py(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:r,domain:n}=t;let a;switch(r){case"linear":case"utc":case"time":a=Number;break;case"pow":{const s=t.scale.exponent();a=u=>Math.pow(u,s);break}case"log":a=Math.log;break;case"point":case"band":return n.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${r}`)}const[i,o]=Nr(n);return Math.abs(a(o)-a(i))}const Ny=new WeakMap;function Np(e,t,{x:r,y:n,px:a,py:i,maxRadius:o=40,channels:s,render:u,...l}={}){return o=+o,a!=null&&(r??(r=null),s={...s,px:{value:a,scale:"x"}}),i!=null&&(n??(n=null),s={...s,py:{value:i,scale:"y"}}),{x:r,y:n,channels:s,...l,render:BS(function(f,c,d,h,v,p){v={...v,pointerSticky:!1};const g=v.ownerSVGElement,{data:m}=v.getMarkState(this);let y=Ny.get(g);y||Ny.set(g,y={sticky:!1,roots:[],renders:[]});let b=y.renders.push(V)-1;const{x:w,y:S,fx:_,fy:x}=c;let E=_?_(f.fx)-h.marginLeft:0,T=x?x(f.fy)-h.marginTop:0;w!=null&&w.bandwidth&&(E+=w.bandwidth()/2),S!=null&&S.bandwidth&&(T+=S.bandwidth()/2);const k=f.fi!=null;let M;if(k){let X=y.facetStates;X||(y.facetStates=X=new Map),M=X.get(this),M||X.set(this,M=new Map)}const[D,P]=td(this,h),{px:C,py:A}=d,O=C?X=>C[X]:FS(d,D),L=A?X=>A[X]:zS(d,P);let $,z,F,I;function B(X,W){if(k)if(I&&(I=cancelAnimationFrame(I)),X==null)M.delete(f.fi);else{M.set(f.fi,W),I=requestAnimationFrame(()=>{I=null;for(const[R,q]of M)if(q<W||q===W&&R<f.fi){X=null;break}V(X)});return}V(X)}function V(X){if($===X&&F===y.sticky)return;$=X,F=v.pointerSticky=y.sticky;const W=$==null?[]:[$];k&&(W.fx=f.fx,W.fy=f.fy,W.fi=f.fi);const R=p(W,c,d,h,v);if(z){if(k){const q=z.parentNode,U=z.getAttribute("transform"),Y=R.getAttribute("transform");U?R.setAttribute("transform",U):R.removeAttribute("transform"),Y?q.setAttribute("transform",Y):q.removeAttribute("transform"),R.removeAttribute("aria-label"),R.removeAttribute("aria-description"),R.removeAttribute("aria-hidden")}z.replaceWith(R)}if(y.roots[b]=z=R,!($==null&&(M==null?void 0:M.size)>1)){const q=$==null?null:Yi(m)?m[$]:m.get($);v.dispatchValue(q)}return R}function K(X){if(y.sticky||X.pointerType==="mouse"&&X.buttons===1)return;let[W,R]=w3(X);W-=E,R-=T;const q=W<h.marginLeft||W>h.width-h.marginRight?1:e,U=R<h.marginTop||R>h.height-h.marginBottom?1:t;let Y=null,ie=o*o;for(const J of f){const re=q*(O(J)-W),oe=U*(L(J)-R),ue=re*re+oe*oe;ue<=ie&&(Y=J,ie=ue)}if(Y!=null&&(e!==1||t!==1)){const J=O(Y)-W,re=L(Y)-R;ie=J*J+re*re}B(Y,ie)}function j(X){X.pointerType==="mouse"&&$!=null&&(y.sticky&&y.roots.some(W=>W==null?void 0:W.contains(X.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(W=>W(null))):(y.sticky=!0,V($)),X.stopImmediatePropagation()))}function Q(X){X.pointerType==="mouse"&&(y.sticky||B(null))}return g.addEventListener("pointerenter",K),g.addEventListener("pointermove",K),g.addEventListener("pointerdown",j),g.addEventListener("pointerleave",Q),V(null)},u)}}function dP(e){return Np(1,1,e)}function hP(e){return Np(1,.01,e)}function Oy(e){return Np(.01,1,e)}function FS({x1:e,x2:t,x:r=e},n){return e&&t?a=>(e[a]+t[a])/2:r?a=>r[a]:()=>n}function zS({y1:e,y2:t,y:r=e},n){return e&&t?a=>(e[a]+t[a])/2:r?a=>r[a]:()=>n}function YS(e){return Vi(e)&&e.interval===void 0?void 0:"tabular-nums"}function vP(e,t){let{label:r=e.label,tickSize:n=6,width:a=240,height:i=44+n,marginTop:o=18,marginRight:s=0,marginBottom:u=16+n,marginLeft:l=0,style:f,ticks:c=(a-l-s)/64,tickFormat:d,fontVariant:h=YS(e),round:v=!0,opacity:p,className:g}=t;const m=Dp(t);g=ed(g),p=yr(p)[1],d===null&&(d=()=>null);const y=Yt("svg",m).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",a).attr("height",i).attr("viewBox",`0 0 ${a} ${i}`).call(D=>D.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(Pp,f);let b=D=>D.selectAll(".tick line").attr("y1",o+u-i),w;const S=v?(D,P)=>D.rangeRound(P):(D,P)=>D.range(P),{type:_,domain:x,range:E,interpolate:T,scale:k,pivot:M}=e;if(T){const D=E===void 0?T:Cc(T.length===1?Mp(T):T,E);w=S(k.copy(),Jr(Ut(l,a-s),Math.min(x.length+(M!==void 0),E===void 0?1/0:E.length)));const P=256,C=m.document.createElement("canvas");C.width=P,C.height=1;const A=C.getContext("2d");for(let O=0,L=P-1;O<P;++O)A.fillStyle=D(O/L),A.fillRect(O,0,1,1);y.append("image").attr("opacity",p).attr("x",l).attr("y",o).attr("width",a-l-s).attr("height",i-o-u).attr("preserveAspectRatio","none").attr("xlink:href",C.toDataURL())}else if(_==="threshold"){const D=x,P=d===void 0?C=>C:typeof d=="string"?Xo(d):d;w=S(Zg().domain([-1,E.length-1]),[l,a-s]),y.append("g").attr("fill-opacity",p).selectAll().data(E).enter().append("rect").attr("x",(C,A)=>w(A-1)).attr("y",o).attr("width",(C,A)=>w(A)-w(A-1)).attr("height",i-o-u).attr("fill",C=>C),c=yt(D,(C,A)=>A),d=C=>P(D[C],C)}else w=S(Rc().domain(x),[l,a-s]),y.append("g").attr("fill-opacity",p).selectAll().data(x).enter().append("rect").attr("x",w).attr("y",o).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",i-o-u).attr("fill",k),b=()=>{};return y.append("g").attr("transform",`translate(0,${i-u})`).call(Ik(w).ticks(Array.isArray(c)?null:c,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(n).tickValues(Array.isArray(c)?c:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",It(h,"normal")).call(b).call(D=>D.select(".domain").remove()),r!==void 0&&y.append("text").attr("x",l).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(r),y.node()}const qS=Math.PI/180;function Op(e,{marker:t,markerStart:r=t,markerMid:n=t,markerEnd:a=t}={}){e.markerStart=Ah(r),e.markerMid=Ah(n),e.markerEnd=Ah(a)}function Ah(e){if(e==null||e===!1)return null;if(e===!0)return Ry;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Ly("auto");case"arrow-reverse":return Ly("auto-start-reverse");case"dot":return gP;case"circle":case"circle-fill":return Ry;case"circle-stroke":return pP;case"tick":return Ph("auto");case"tick-x":return Ph(90);case"tick-y":return Ph(0)}throw new Error(`invalid marker: ${e}`)}function Ly(e){return(t,r)=>Yt("svg:marker",r).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function gP(e,t){return Yt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(r=>r.append("circle").attr("r",2.5)).node()}function Ry(e,t){return Yt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function pP(e,t){return Yt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function Ph(e){return(t,r)=>Yt("svg:marker",r).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(n=>n.append("path").attr("d","M0,-3v6")).node()}let mP=0;function VS(e,t,{stroke:r},n){return US(e,t,r&&(a=>r[a]),null,n)}function yP(e,t,{stroke:r,z:n},a){return US(e,t,r&&(([i])=>r[i]),n,a)}const ag=1,WS=2;function bP(e,t){const r=new Uint8Array(t.length),n=e.data().filter(i=>i.length>1),a=n.length;for(let i=0,o=ng;i<a;++i){const s=n[i];if(s.length>1){const u=s[0];o!==(o=ta(t[u]))&&(r[u]|=ag)}}for(let i=a-1,o=ng;i>=0;--i){const s=n[i];if(s.length>1){const u=s[0];o!==(o=ta(t[u]))&&(r[u]|=WS)}}return([i])=>r[i]}function US(e,{markerStart:t,markerMid:r,markerEnd:n,stroke:a},i=()=>a,o,s){if(!t&&!r&&!n)return;const u=new Map,l=o&&bP(e,o);function f(c,d,h){return function(v){if(h&&!h(v))return;const p=i(v);let g=u.get(d);g||u.set(d,g=new Map);let m=g.get(p);if(!m){const y=this.parentNode.insertBefore(d(p,s),this),b=`plot-marker-${++mP}`;y.setAttribute("id",b),g.set(p,m=`url(#${b})`)}this.setAttribute(c,m)}}t&&e.each(f("marker-start",t,l&&(c=>l(c)&ag))),r&&l&&e.each(f("marker-start",r,c=>!(l(c)&ag))),r&&e.each(f("marker-mid",r)),n&&e.each(f("marker-end",n,l&&(c=>l(c)&WS)))}function ad({inset:e,insetLeft:t,insetRight:r,...n}={}){return[t,r]=GS(e,t,r),{inset:e,insetLeft:t,insetRight:r,...n}}function HS({inset:e,insetTop:t,insetBottom:r,...n}={}){return[t,r]=GS(e,t,r),{inset:e,insetTop:t,insetBottom:r,...n}}function GS(e,t,r){return e===void 0&&t===void 0&&r===void 0?br?[1,0]:[.5,.5]:[t,r]}function XS(e,{interval:t}){return e={...Wu(e)},e.interval=pp(e.interval===void 0?t:e.interval),e}function Lp(e,t,r,n){const{[e]:a,[`${e}1`]:i,[`${e}2`]:o}=r,{value:s,interval:u}=XS(a,r);if(s==null||u==null&&!n)return r;const l=qi(a);if(u==null){let h;const v={transform:p=>h||(h=Lt(p,s)),label:l};return{...r,[e]:void 0,[`${e}1`]:i===void 0?v:i,[`${e}2`]:o===void 0&&!(i===o&&n)?v:o}}let f,c;function d(h){return c!==void 0&&h===f?c:c=yt(Lt(f=h,s),v=>u.floor(v))}return t({...r,[e]:void 0,[`${e}1`]:i===void 0?{transform:d,label:l}:i,[`${e}2`]:o===void 0?{transform:h=>d(h).map(v=>u.offset(v)),label:l}:o})}function KS(e,t,r){const{[e]:n}=r,{value:a,interval:i}=XS(n,r);return a==null||i==null?r:t({...r,[e]:{label:qi(n),transform:o=>{const s=yt(Lt(o,a),l=>i.floor(l)),u=s.map(l=>i.offset(l));return s.map(vr(s)?(l,f)=>l==null||isNaN(l=+l)||(f=u[f],f==null)||isNaN(f=+f)?void 0:new Date((l+f)/2):(l,f)=>l==null||(f=u[f],f==null)?NaN:(+l+ +f)/2)}}})}function wP(e={}){return Lp("x",ad,e,!0)}function xP(e={}){return Lp("x",ad,e)}function _P(e={}){return Lp("y",HS,e)}function SP(e={}){return KS("x",ad,e)}function TP(e={}){return KS("y",HS,e)}const ZS={ariaLabel:"rule",fill:null,stroke:"currentColor"};class EP extends Fr{constructor(t,r={}){const{x:n,y1:a,y2:i,inset:o=0,insetTop:s=o,insetBottom:u=o}=r;super(t,{x:{value:n,scale:"x",optional:!0},y1:{value:a,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},nd(r,"x"),ZS),this.insetTop=Gt(s),this.insetBottom=Gt(u),Op(this,r)}render(t,r,n,a,i){const{x:o,y:s}=r,{x:u,y1:l,y2:f}=n,{width:c,height:d,marginTop:h,marginRight:v,marginLeft:p,marginBottom:g}=a,{insetTop:m,insetBottom:y}=this;return Yt("svg:g",i).call(ya,this,a,i).call(ba,this,{x:u&&o},br,0).call(b=>b.selectAll().data(t).enter().append("line").call(Cn,this).attr("x1",u?w=>u[w]:(p+c-v)/2).attr("x2",u?w=>u[w]:(p+c-v)/2).attr("y1",l&&!zo(s)?w=>l[w]+m:h+m).attr("y2",f&&!zo(s)?s.bandwidth?w=>f[w]+s.bandwidth()-y:w=>f[w]-y:d-g-y).call(Ai,this,n).call(VS,this,n,i)).node()}}class MP extends Fr{constructor(t,r={}){const{x1:n,x2:a,y:i,inset:o=0,insetRight:s=o,insetLeft:u=o}=r;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:a,scale:"x",optional:!0}},nd(r,"y"),ZS),this.insetRight=Gt(s),this.insetLeft=Gt(u),Op(this,r)}render(t,r,n,a,i){const{x:o,y:s}=r,{y:u,x1:l,x2:f}=n,{width:c,height:d,marginTop:h,marginRight:v,marginLeft:p,marginBottom:g}=a,{insetLeft:m,insetRight:y}=this;return Yt("svg:g",i).call(ya,this,a,i).call(ba,this,{y:u&&s},0,br).call(b=>b.selectAll().data(t).enter().append("line").call(Cn,this).attr("x1",l&&!zo(o)?w=>l[w]+m:p+m).attr("x2",f&&!zo(o)?o.bandwidth?w=>f[w]+o.bandwidth()-y:w=>f[w]-y:c-v-y).attr("y1",u?w=>u[w]:(h+d-g)/2).attr("y2",u?w=>u[w]:(h+d-g)/2).call(Ai,this,n).call(VS,this,n,i)).node()}}function kP(e,t){let{x:r=or,y:n,y1:a,y2:i,...o}=_P(t);return[a,i]=QS(n,a,i),new EP(e,{...o,x:r,y1:a,y2:i})}function id(e,t){let{y:r=or,x:n,x1:a,x2:i,...o}=xP(t);return[a,i]=QS(n,a,i),new MP(e,{...o,y:r,x1:a,x2:i})}function QS(e,t,r){if(e==null){if(t===void 0){if(r!==void 0)return[0,r]}else if(r===void 0)return[0,t]}else{if(t===void 0)return r===void 0?[0,e]:[e,r];if(r===void 0)return[e,t]}return[t,r]}function jS(e,...t){let r=t.length;for(let n=0,a=!0;n<r;++n)typeof t[n]!="function"&&(a&&(e=e.slice(),a=!1),e.splice(n,2,e[n]+t[n]+e[n+1]),t.splice(n,1),--n,--r);return n=>{let a=e[0];for(let i=0;i<r;++i)a+=t[i](n)+e[i+1];return a}}const CP={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},JS="­";class Rp extends Fr{constructor(t,r={}){const{x:n,y:a,text:i=Ja(t)&&nS(t)?or:Hc,frameAnchor:o,textAnchor:s=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:u=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:l=1,lineWidth:f=1/0,textOverflow:c,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:v,fontStyle:p,fontVariant:g,fontWeight:m,rotate:y}=r,[b,w]=yr(y,0),[S,_]=LP(v);if(super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},fontSize:{value:S,optional:!0},rotate:{value:KA(b),optional:!0},text:{value:i,filter:op,optional:!0}},r,CP),this.rotate=w,this.textAnchor=It(s,"middle"),this.lineAnchor=sn(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+f,this.textOverflow=eT(c),this.monospace=!!d,this.fontFamily=ir(h),this.fontSize=_,this.fontStyle=ir(p),this.fontVariant=ir(g),this.fontWeight=ir(m),this.frameAnchor=mp(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=nT(this),this.clipLine=aT(this)}render(t,r,n,a,i){const{x:o,y:s}=r,{x:u,y:l,rotate:f,text:c,title:d,fontSize:h}=n,{rotate:v}=this,[p,g]=td(this,a);return Yt("svg:g",i).call(ya,this,a,i).call(rT,this,c,a).call(ba,this,{x:u&&o,y:l&&s}).call(m=>m.selectAll().data(t).enter().append("text").call(Cn,this).call(DP,this,c,d).attr("transform",jS`translate(${u?y=>u[y]:p},${l?y=>l[y]:g})${f?y=>` rotate(${f[y]})`:v?` rotate(${v})`:""}`).call(ke,"font-size",h&&(y=>h[y])).call(Ai,this,n)).node()}}function eT(e){return e==null?null:sn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function DP(e,t,r,n){if(!r)return;const{lineAnchor:a,lineHeight:i,textOverflow:o,splitLines:s,clipLine:u}=t;e.each(function(l){const f=s(Yo(r[l])??"").map(u),c=f.length,d=a==="top"?.71:a==="bottom"?1-c:(164-c*100)/200;if(c>1){let h=0;for(let v=0;v<c;++v){if(++h,!f[v])continue;const p=this.ownerDocument.createElementNS(Mo.svg,"tspan");p.setAttribute("x",0),v===h-1?p.setAttribute("y",`${(d+v)*i}em`):p.setAttribute("dy",`${h*i}em`),p.textContent=f[v],this.appendChild(p),h=0}}else d&&this.setAttribute("y",`${d*i}em`),this.textContent=f[0];if(o&&!n&&f[0]!==r[l]){const h=this.ownerDocument.createElementNS(Mo.svg,"title");h.textContent=r[l],this.appendChild(h)}})}function tT(e,{x:t,y:r,...n}={}){return n.frameAnchor===void 0&&([t,r]=eS(t,r)),new Rp(e,{...n,x:t,y:r})}function AP(e,{x:t=or,...r}={}){return new Rp(e,TP({...r,x:t}))}function PP(e,{y:t=or,...r}={}){return new Rp(e,SP({...r,y:t}))}function rT(e,t,r){ke(e,"text-anchor",t.textAnchor),ke(e,"font-family",t.fontFamily),ke(e,"font-size",t.fontSize),ke(e,"font-style",t.fontStyle),ke(e,"font-variant",t.fontVariant===void 0?NP(r):t.fontVariant),ke(e,"font-weight",t.fontWeight)}function NP(e){return e&&(jA(e)||vr(e))?"tabular-nums":void 0}const OP=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function LP(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),OP.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function RP(e,t,r){const n=[];let a,i=0;for(const[o,s,u]of $P(e)){if(a===void 0&&(a=o),i>a&&r(e,a,s)>t&&(n.push(e.slice(a,i)+(e[i-1]===JS?"-":"")),a=o),u){n.push(e.slice(a,s)),a=void 0;continue}i=s}return n}function*$P(e){let t=0,r=0;const n=e.length;for(;r<n;){let a=1;switch(e[r]){case JS:case"-":++r,yield[t,r,!1],t=r;break;case" ":for(yield[t,r,!1];e[++r]===" ";);t=r;break;case"\r":e[r+1]===`
`&&++a;case`
`:yield[t,r,!0],r+=a,t=r;break;default:++r;break}}yield[t,r,!0]}const $y={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function $p(e,t=0,r=e.length){let n=0;for(let a=t;a<r;a=Qo(e,a))n+=$y[e[a]]??(oT(e,a)?120:$y.e);return n}function Ip(e,t=0,r=e.length){let n=0;for(let a=t;a<r;a=Qo(e,a))n+=oT(e,a)?126:63;return n}function nT({monospace:e,lineWidth:t,textOverflow:r}){if(r!=null||t==1/0)return i=>i.split(/\r\n?|\n/g);const n=e?Ip:$p,a=t*100;return i=>RP(i,a,n)}function aT({monospace:e,lineWidth:t,textOverflow:r}){if(r==null||t==1/0)return i=>i;const n=e?Ip:$p,a=t*100;switch(r){case"clip-start":return i=>By(i,a,n,"");case"clip-end":return i=>Iy(i,a,n,"");case"ellipsis-start":return i=>By(i,a,n,mo);case"ellipsis-middle":return i=>IP(i,a,n,mo);case"ellipsis-end":return i=>Iy(i,a,n,mo)}}const mo="…";function qo(e,t,r,n){const a=[];let i=0;for(let o=0,s=0,u=e.length;o<u;o=s){s=Qo(e,o);const l=r(e,o,s);if(i+l>t){for(i+=n;i>t&&o>0;)s=o,o=a.pop(),i-=r(e,o,s);return[o,t-i]}i+=l,a.push(o)}return[-1,0]}function Iy(e,t,r,n){e=e.trim();const a=r(n),[i]=qo(e,t,r,a);return i<0?e:e.slice(0,i).trimEnd()+n}function IP(e,t,r,n){e=e.trim();const a=r(e);if(a<=t)return e;const i=r(n)/2,[o,s]=qo(e,t/2,r,i),[u]=qo(e,a-t/2-s+i,r,-i);return u<0?n:e.slice(0,o).trimEnd()+n+e.slice(Qo(e,u)).trimStart()}function By(e,t,r,n){e=e.trim();const a=r(e);if(a<=t)return e;const i=r(n),[o]=qo(e,a-t+i,r,-i);return o<0?n:n+e.slice(Qo(e,o)).trimStart()}const ig=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Fy=new RegExp("\\p{Extended_Pictographic}","uy");function Qo(e,t){return t+=BP(e,t)?2:1,zP(e,t)&&(t=ig.lastIndex),FP(e,t)?Qo(e,t+1):t}function iT(e,t){return e.charCodeAt(t)<128}function BP(e,t){const r=e.charCodeAt(t);if(r>=55296&&r<56320){const n=e.charCodeAt(t+1);return n>=56320&&n<57344}return!1}function FP(e,t){return e.charCodeAt(t)===8205}function zP(e,t){return iT(e,t)?!1:(ig.lastIndex=t,ig.test(e))}function oT(e,t){return iT(e,t)?!1:(Fy.lastIndex=t,Fy.test(e))}const YP={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},sT=3.5,qP=sT*5,uT={draw(e,t,r){const n=t*r/qP;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-n,n-t),e.lineTo(0,-t),e.lineTo(n,n-t)}},VP={draw(e,t,r){e.moveTo(-r,0),e.lineTo(0,-t),e.lineTo(r,0)}},WP=new Map([["arrow",uT],["spike",VP]]);function UP(e){return e&&typeof e.draw=="function"}function HP(e){if(UP(e))return e;const t=WP.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class lT extends Fr{constructor(t,r={}){const{x:n,y:a,r:i=sT,length:o,rotate:s,shape:u=uT,anchor:l="middle",frameAnchor:f}=r,[c,d]=yr(o,12),[h,v]=yr(s,0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},length:{value:c,scale:"length",optional:!0},rotate:{value:h,optional:!0}},r,YP),this.r=+i,this.length=d,this.rotate=v,this.shape=HP(u),this.anchor=sn(l,"anchor",["start","middle","end"]),this.frameAnchor=mp(f)}render(t,r,n,a,i){const{x:o,y:s}=r,{x:u,y:l,length:f,rotate:c}=n,{length:d,rotate:h,anchor:v,shape:p,r:g}=this,[m,y]=td(this,a);return Yt("svg:g",i).call(ya,this,a,i).call(ba,this,{x:u&&o,y:l&&s}).call(b=>b.selectAll().data(t).enter().append("path").call(Cn,this).attr("transform",jS`translate(${u?w=>u[w]:m},${l?w=>l[w]:y})${c?w=>` rotate(${c[w]})`:h?` rotate(${h})`:""}${v==="start"?"":v==="end"?f?w=>` translate(0,${f[w]})`:` translate(0,${d})`:f?w=>` translate(0,${f[w]/2})`:` translate(0,${d/2})`}`).attr("d",f?w=>{const S=Sv();return p.draw(S,f[w],g),S}:(()=>{const w=Sv();return p.draw(w,d,g),w})()).call(Ai,this,n)).node()}}function GP(e,t={}){const{x:r=or,...n}=t;return new lT(e,{...n,x:r})}function XP(e,t={}){const{y:r=or,...n}=t;return new lT(e,{...n,y:r})}function ti(e,t){return arguments.length<2&&!Ja(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function od({anchor:e}={},t){return e===void 0?t[0]:sn(e,"anchor",t)}function fT(e){return od(e,["left","right"])}function cT(e){return od(e,["right","left"])}function dT(e){return od(e,["bottom","top"])}function hT(e){return od(e,["top","bottom"])}function vT(){const[e,t]=ti(...arguments);return pT("y",fT(t),e,t)}function KP(){const[e,t]=ti(...arguments);return pT("fy",cT(t),e,t)}function gT(){const[e,t]=ti(...arguments);return mT("x",dT(t),e,t)}function ZP(){const[e,t]=ti(...arguments);return mT("fx",hT(t),e,t)}function pT(e,t,r,{color:n="currentColor",opacity:a=1,stroke:i=n,strokeOpacity:o=a,strokeWidth:s=1,fill:u=n,fillOpacity:l=a,textAnchor:f,textStroke:c,textStrokeOpacity:d,textStrokeWidth:h,tickSize:v=e==="y"?6:0,tickPadding:p,tickRotate:g,x:m,margin:y,marginTop:b=y===void 0?20:y,marginRight:w=y===void 0?t==="right"?40:0:y,marginBottom:S=y===void 0?20:y,marginLeft:_=y===void 0?t==="left"?40:0:y,label:x,labelAnchor:E,labelArrow:T,labelOffset:k,...M}){return v=Gt(v),p=Gt(p),g=Gt(g),E!==void 0&&(E=sn(E,"labelAnchor",["center","top","bottom"])),T=ET(T),rd(v&&!cr(i)?QP(e,t,r,{stroke:i,strokeOpacity:o,strokeWidth:s,tickSize:v,tickPadding:p,tickRotate:g,x:m,...M}):null,cr(u)?null:JP(e,t,r,{fill:u,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:h,textAnchor:f,tickSize:v,tickPadding:p,tickRotate:g,x:m,marginTop:b,marginRight:w,marginBottom:S,marginLeft:_,...M}),!cr(u)&&x!==null?tT([],xT({fill:u,fillOpacity:l,...M},function(D,P,C,A,O){const L=A[e],{marginTop:$,marginRight:z,marginBottom:F,marginLeft:I}=e==="y"&&O.inset||O,B=E??(L.bandwidth?"center":"top"),V=k??(t==="right"?z:I)-3;return B==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=B,this.frameAnchor=`${B}-${t}`,this.rotate=0),this.dy=B==="top"?3-$:B==="bottom"?F-3:0,this.dx=t==="right"?V:-V,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[TT(e,L,{anchor:t,label:x,labelAnchor:B,labelArrow:T})]}}}})):null)}function mT(e,t,r,{color:n="currentColor",opacity:a=1,stroke:i=n,strokeOpacity:o=a,strokeWidth:s=1,fill:u=n,fillOpacity:l=a,textAnchor:f,textStroke:c,textStrokeOpacity:d,textStrokeWidth:h,tickSize:v=e==="x"?6:0,tickPadding:p,tickRotate:g,y:m,margin:y,marginTop:b=y===void 0?t==="top"?30:0:y,marginRight:w=y===void 0?20:y,marginBottom:S=y===void 0?t==="bottom"?30:0:y,marginLeft:_=y===void 0?20:y,label:x,labelAnchor:E,labelArrow:T,labelOffset:k,...M}){return v=Gt(v),p=Gt(p),g=Gt(g),E!==void 0&&(E=sn(E,"labelAnchor",["center","left","right"])),T=ET(T),rd(v&&!cr(i)?jP(e,t,r,{stroke:i,strokeOpacity:o,strokeWidth:s,tickSize:v,tickPadding:p,tickRotate:g,y:m,...M}):null,cr(u)?null:eN(e,t,r,{fill:u,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:h,textAnchor:f,tickSize:v,tickPadding:p,tickRotate:g,y:m,marginTop:b,marginRight:w,marginBottom:S,marginLeft:_,...M}),!cr(u)&&x!==null?tT([],xT({fill:u,fillOpacity:l,...M},function(D,P,C,A,O){const L=A[e],{marginTop:$,marginRight:z,marginBottom:F,marginLeft:I}=e==="x"&&O.inset||O,B=E??(L.bandwidth?"center":"right"),V=k??(t==="top"?$:F)-3;return B==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${B}`,this.textAnchor=B==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-V:V,this.dx=B==="right"?z-3:B==="left"?3-I:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[TT(e,L,{anchor:t,label:x,labelAnchor:B,labelArrow:T})]}}}})):null)}function QP(e,t,r,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:i=null,facetAnchor:o=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:u,inset:l=0,insetLeft:f=l,insetRight:c=l,dx:d=0,y:h=e==="y"?void 0:null,...v}){return jo(XP,e,r,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinecap:a,strokeLinejoin:i,facetAnchor:o,frameAnchor:s,y:h,...v,dx:t==="left"?+d-br+ +f:+d+br-c,anchor:"start",length:u,shape:t==="left"?uN:lN})}function jP(e,t,r,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:i=null,facetAnchor:o=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:u,inset:l=0,insetTop:f=l,insetBottom:c=l,dy:d=0,x:h=e==="x"?void 0:null,...v}){return jo(GP,e,r,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinejoin:i,strokeLinecap:a,facetAnchor:o,frameAnchor:s,x:h,...v,dy:t==="bottom"?+d-br-c:+d+br+ +f,anchor:"start",length:u,shape:t==="bottom"?oN:sN})}function JP(e,t,r,{facetAnchor:n=t+(e==="y"?"-empty":""),frameAnchor:a=t,tickSize:i,tickRotate:o=0,tickPadding:s=Math.max(3,9-i)+(Math.abs(o)>60?4*Math.cos(o*qS):0),text:u,textAnchor:l=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:f=o>60?"top":o<-60?"bottom":"middle",fontVariant:c,inset:d=0,insetLeft:h=d,insetRight:v=d,dx:p=0,y:g=e==="y"?void 0:null,...m}){return jo(PP,e,r,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:u,textAnchor:l,lineAnchor:f,fontVariant:c,rotate:o,y:g,...m,dx:t==="left"?+p-i-s+ +h:+p+ +i+ +s-v},function(y,b,w,S,_){c===void 0&&(this.fontVariant=ST(y)),u===void 0&&(_.text=_T(y,b,w,S,t))})}function eN(e,t,r,{facetAnchor:n=t+(e==="x"?"-empty":""),frameAnchor:a=t,tickSize:i,tickRotate:o=0,tickPadding:s=Math.max(3,9-i)+(Math.abs(o)>=10?4*Math.cos(o*qS):0),text:u,textAnchor:l=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:c,inset:d=0,insetTop:h=d,insetBottom:v=d,dy:p=0,x:g=e==="x"?void 0:null,...m}){return jo(AP,e,r,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:c,rotate:o,x:g,...m,dy:t==="bottom"?+p+ +i+ +s-v:+p-i-s+ +h},function(y,b,w,S,_){c===void 0&&(this.fontVariant=ST(y)),u===void 0&&(_.text=_T(y,b,w,S,t))})}function tN(){const[e,t]=ti(...arguments);return yT("y",fT(t),e,t)}function rN(){const[e,t]=ti(...arguments);return yT("fy",cT(t),e,t)}function nN(){const[e,t]=ti(...arguments);return bT("x",dT(t),e,t)}function aN(){const[e,t]=ti(...arguments);return bT("fx",hT(t),e,t)}function yT(e,t,r,{y:n=e==="y"?void 0:null,x:a=null,x1:i=t==="left"?a:null,x2:o=t==="right"?a:null,...s}){return jo(id,e,r,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:n,x1:i,x2:o,...wT(s)})}function bT(e,t,r,{x:n=e==="x"?void 0:null,y:a=null,y1:i=t==="top"?a:null,y2:o=t==="bottom"?a:null,...s}){return jo(kP,e,r,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:n,y1:i,y2:o,...wT(s)})}function wT({color:e="currentColor",opacity:t=.1,stroke:r=e,strokeOpacity:n=t,strokeWidth:a=1,...i}){return{stroke:r,strokeOpacity:n,strokeWidth:a,...i}}function xT({fill:e,fillOpacity:t,fontFamily:r,fontSize:n,fontStyle:a,fontVariant:i,fontWeight:o,monospace:s,pointerEvents:u,shapeRendering:l,clip:f=!1},c){return[,e]=fa(e),[,t]=yr(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:r,fontSize:n,fontStyle:a,fontVariant:i,fontWeight:o,monospace:s,pointerEvents:u,shapeRendering:l,clip:f,initializer:c}}function jo(e,t,r,n,a,i){let o;function s(f,c,d,h,v,p){const g=f==null&&(t==="fx"||t==="fy"),{[t]:m}=h;if(!m)throw new Error(`missing scale: ${t}`);const y=m.domain();let{interval:b,ticks:w,tickFormat:S,tickSpacing:_=t==="x"?80:35}=a;if(typeof w=="string"&&MT(m)&&(b=w,w=void 0),w===void 0&&(w=Zo(b,m.type)??iN(m,_)),f==null){if(Ja(w))f=Wa(w);else if(so(w))f=Nh(w,...Nr(y));else if(m.interval){let E=m.interval;if(m.ticks){const[T,k]=Nr(y),M=(k-T)/E[Vu];E=fy(E,M/w)??E,f=Nh(E,T,k)}else{f=y;const T=f.length;E=fy(E,T/w)??E,E!==m.interval&&(f=Nh(E,...Nr(f)))}if(E===m.interval){const T=Math.round(f.length/w);T>1&&(f=f.filter((k,M)=>M%T===0))}}else m.ticks?f=m.ticks(w):f=y;if(!m.ticks&&f.length&&f!==y){const E=new _c(y);f=f.filter(T=>E.has(T)),f.length||$a(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?c=[pa(f)]:o[t]={scale:t,value:or}}i==null||i.call(this,m,f,w,S,o);const x=Object.fromEntries(Object.entries(o).map(([E,T])=>[E,{...T,value:Lt(f,T.value)}]));return g&&(c=p.filterFacets(f,x)),{data:f,facets:c,channels:x}}const u=Fo(a).initializer,l=e(r,Fo({...a,initializer:s},u));return r==null?(o=l.channels,l.channels={}):o={},n!==void 0&&Object.assign(l,n),l.clip===void 0&&(l.clip=!1),l}function iN(e,t){const[r,n]=Nr(e.range());return(n-r)/t}function _T(e,t,r,n,a){return{value:Bp(e,t,r,n,a)}}function Bp(e,t,r,n,a){return typeof n=="function"&&!(e.type==="log"&&e.tickFormat)?n:n===void 0&&t&&vr(t)?OA(e.type,t,a)??Yo:e.tickFormat?e.tickFormat(typeof r=="number"?r:null,n):n===void 0?Yo:typeof n=="string"?(vr(e.domain())?Yu:Xo)(n):ea(n)}function Nh(e,t,r){return e.range(t,e.offset(e.floor(r)))}const oN={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},sN={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},uN={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},lN={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function ST(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function TT(e,t,{anchor:r,label:n=t.label,labelAnchor:a,labelArrow:i}={}){if(!(n==null||n.inferred&&MT(t)&&/^(date|time|year)$/i.test(n))){if(n=String(n),i==="auto"&&(i=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(n)),!i)return n;if(i===!0){const o=g9(t);o&&(i=/x$/.test(e)||a==="center"?/x$/.test(e)===o<0?"left":"right":o<0?"up":"down")}switch(i){case"left":return`← ${n}`;case"right":return`${n} →`;case"up":return r==="right"?`${n} ↑`:`↑ ${n}`;case"down":return r==="right"?`${n} ↓`:`↓ ${n}`}return n}}function ET(e="auto"){return cr(e)?!1:typeof e=="boolean"?e:sn(e,"labelArrow",["auto","up","right","down","left"])}function MT(e){return vr(e.domain())}function zy(e,t){if(t==null)return t;const r=e(t);if(!r)throw new Error(`scale not found: ${t}`);return r}function fN(e,{opacity:t,...r}={}){if(!Vi(e)&&!PS(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return kT(e,r,(n,a,i,o)=>n.append("svg").attr("width",i).attr("height",o).attr("fill",a.scale).attr("fill-opacity",yr(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function cN(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:r=1,stroke:n=(f=>(f=e.hint)==null?void 0:f.stroke)()!==void 0?e.hint.stroke:cr(t)?"currentColor":"none",strokeOpacity:a=1,strokeWidth:i=1.5,r:o=4.5,...s}={},u){const[c,d]=fa(t),[h,v]=fa(n),p=zy(u,c),g=zy(u,h),m=o*o*Math.PI;return r=yr(r)[1],a=yr(a)[1],i=yr(i)[1],kT(e,s,(y,b,w,S)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",S).attr("fill",c==="color"?_=>p.scale(_):d).attr("fill-opacity",r).attr("stroke",h==="color"?_=>g.scale(_):v).attr("stroke-opacity",a).attr("stroke-width",i).append("path").attr("d",_=>{const x=Sv();return e.scale(_).draw(x,m),x}))}function kT(e,t={},r){let{columns:n,tickFormat:a,fontVariant:i=YS(e),swatchSize:o=15,swatchWidth:s=o,swatchHeight:u=o,marginLeft:l=0,className:f,style:c,width:d}=t;const h=Dp(t);f=ed(f),a=Bp(e.scale,e.domain,void 0,a);const v=Yt("div",h).attr("class",`${f}-swatches ${f}-swatches-${n!=null?"columns":"wrap"}`);let p;return n!=null?(p=`:where(.${f}-swatches-columns .${f}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${f}-swatches-columns .${f}-swatch::before) {
  flex-shrink: 0;
}
:where(.${f}-swatches-columns .${f}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,v.style("columns",n).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(r,e,s,u).call(g=>g.append("div").attr("class",`${f}-swatch-label`).attr("title",a).text(a))):(p=`:where(.${f}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${f}-swatches-wrap .${f}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,v.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(r,e,s,u).append(function(){return this.ownerDocument.createTextNode(a.apply(this,arguments))})),v.call(g=>g.insert("style","*").text(`:where(.${f}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${f}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${p}`)).style("margin-left",l?`${+l}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",It(i,"normal")).call(Pp,c).node()}const og=new Map([["symbol",cN],["color",DT],["opacity",hN]]);function dN(e,t,r={}){return(n,a)=>{if(!og.has(n))throw new Error(`unknown legend type: ${n}`);if(n in e)return og.get(n)(e[n],CT(t,r[n],a),i=>e[i])}}function CT({className:e,...t},{label:r,ticks:n,tickFormat:a}={},i){return r7(i,{className:e,...t},{label:r,ticks:n,tickFormat:a})}function DT(e,{legend:t=!0,...r}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return fN(e,r);case"ramp":return vP(e,r);default:throw new Error(`unknown legend type: ${t}`)}}function hN({type:e,interpolate:t,...r},{legend:n=!0,color:a=Ya(0,0,0),...i}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(n===!0&&(n="ramp"),`${n}`.toLowerCase()!=="ramp")throw new Error(`${n} opacity legends are not supported`);return DT({type:e,...r,interpolate:vN(a)},{legend:n,...i})}function vN(e){const{r:t,g:r,b:n}=Ya(e)||Ya(0,0,0);return a=>`rgba(${t},${r},${n},${a})`}function gN(e,t,r){const n=[];for(const[a,i]of og){const o=r[a];if(o!=null&&o.legend&&a in e){const s=i(e[a],CT(t,e[a],o),u=>e[u]);s!=null&&n.push(s)}}return n}function AT(e={}){return J_(e)?e:{...e,y:or}}function pN(e,t){if(t.length===1)return{data:e,facets:t};const r=lu(e),n=new Uint8Array(r);let a=0;for(const s of t)for(const u of s)n[u]&&++a,n[u]=1;if(a===0)return{data:e,facets:t};e=uu(e);const i=e[G_]=new Uint32Array(r+a);t=t.map(s=>uu(s,Uint32Array));let o=r;n.fill(0);for(const s of t)for(let u=0,l=s.length;u<l;++u){const f=s[u];n[f]?(s[u]=o,e[o]=e[f],i[o]=f,++o):i[f]=f,n[f]=1}return{data:e,facets:t}}function mN(e={},t={}){arguments.length===1&&([e,t]=yN(e));const{x1:r,x:n=r,y:a,...i}=t,[o,s,u,l]=wN(n,a,"x","y",e,i);return{...o,x1:r,x:s,y1:u,y2:l,y:Kv(u,l)}}function PT({y:e,y1:t,y2:r,...n}={}){return n=nd(n,"x"),t===void 0&&r===void 0?mN({y:e,...n}):([t,r]=VA(e,t,r),{...n,y1:t,y2:r})}function yN(e){const{offset:t,order:r,reverse:n,...a}=e;return[{offset:t,order:r,reverse:n},a]}const bN={length:!0};function wN(e,t=BA,r,n,{offset:a,order:i,reverse:o},s){if(t===null)throw new Error(`stack requires ${n}`);const u=vp(s),[l,f]=Hn(e),[c,d]=Zf(t),[h,v]=Zf(t);return c.hint=h.hint=bN,a=xN(a),i=TN(i,a,n),[Zc(s,(p,g,m)=>{({data:p,facets:g}=pN(p,g));const y=e==null?void 0:f(tS(Lt(p,e),m==null?void 0:m[r])),b=Lt(p,t,Float64Array),w=Lt(p,u),S=i&&i(p,y,b,w),_=lu(p),x=d(new Float64Array(_)),E=v(new Float64Array(_)),T=[];for(const k of g){const M=y?Array.from(Sc(k,D=>y[D]).values()):[k];if(S)for(const D of M)D.sort(S);for(const D of M){let P=0,C=0;o&&D.reverse();for(const A of D){const O=b[A];O<0?P=E[A]=(x[A]=P)+O:O>0?C=E[A]=(x[A]=C)+O:E[A]=x[A]=C}}T.push(M)}return a&&a(T,x,E,w),{data:p,facets:g}}),l,c,h]}function xN(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return _N;case"center":case"silhouette":return SN;case"wiggle":return OT}throw new Error(`unknown offset: ${e}`)}}function NT(e,t){let r=0,n=0;for(const a of e){const i=t[a];i<r&&(r=i),i>n&&(n=i)}return[r,n]}function _N(e,t,r){for(const n of e)for(const a of n){const[i,o]=NT(a,r);for(const s of a){const u=1/(o-i||1);t[s]=u*(t[s]-i),r[s]=u*(r[s]-i)}}}function SN(e,t,r){for(const n of e){for(const a of n){const[i,o]=NT(a,r);for(const s of a){const u=(o+i)/2;t[s]-=u,r[s]-=u}}LT(n,t,r)}RT(e,t,r)}function OT(e,t,r,n){for(const a of e){const i=new _i;let o=0;for(const s of a){let u=-1;const l=s.map(h=>Math.abs(r[h]-t[h])),f=s.map(h=>{u=n?n[h]:++u;const v=r[h]-t[h],p=i.has(u)?v-i.get(u):0;return i.set(u,v),p}),c=[0,...vk(f)];for(const h of s)t[h]+=o,r[h]+=o;const d=za(l);d&&(o-=za(l,(h,v)=>(f[v]/2+c[v])*h)/d)}LT(a,t,r)}RT(e,t,r)}function LT(e,t,r){const n=oa(e,a=>oa(a,i=>t[i]));for(const a of e)for(const i of a)t[i]-=n,r[i]-=n}function RT(e,t,r){const n=e.length;if(n===1)return;const a=e.map(s=>s.flat()),i=a.map(s=>(oa(s,u=>t[u])+jr(s,u=>r[u]))/2),o=oa(i);for(let s=0;s<n;s++){const u=o-i[s];for(const l of a[s])t[l]+=u,r[l]+=u}}function TN(e,t,r){if(e===void 0&&t===OT)return Yy(rn);if(e!=null){if(typeof e=="string"){const n=e.startsWith("-"),a=n?Kf:rn;switch((n?e.slice(1):e).toLowerCase()){case"value":case r:return EN(a);case"z":return MN(a);case"sum":return kN(a);case"appearance":return CN(a);case"inside-out":return Yy(a)}return qy(X_(e))}if(typeof e=="function")return(e.length===1?qy:DN)(e);if(Yi(e))return AN(e);throw new Error(`invalid order: ${e}`)}}function EN(e){return(t,r,n)=>(a,i)=>e(n[a],n[i])}function MN(e){return(t,r,n,a)=>(i,o)=>e(a[i],a[o])}function kN(e){return sd(e,(t,r,n,a)=>Ng(pa(t),i=>za(i,o=>n[o]),i=>a[i]))}function CN(e){return sd(e,(t,r,n,a)=>Ng(pa(t),i=>r[rw(i,o=>n[o])],i=>a[i]))}function Yy(e){return sd(e,(t,r,n,a)=>{const i=pa(t),o=Ng(i,c=>r[rw(c,d=>n[d])],c=>a[c]),s=ho(i,c=>za(c,d=>n[d]),c=>a[c]),u=[],l=[];let f=0;for(const c of o)f<0?(f+=s.get(c),u.push(c)):(f-=s.get(c),l.push(c));return l.reverse().concat(u)})}function qy(e){return t=>{const r=Lt(t,e);return(n,a)=>rn(r[n],r[a])}}function DN(e){return t=>Yi(t)?(r,n)=>e(t[r],t[n]):(r,n)=>e(t.get(r),t.get(n))}function AN(e){return sd(rn,()=>e)}function sd(e,t){return(r,n,a,i)=>{if(!i)throw new Error("missing channel: z");const o=new _i(t(r,n,a,i).map((s,u)=>[s,u]));return(s,u)=>e(o.get(i[s]),o.get(i[u]))}}const PN={ariaLabel:"rect"};class NN extends Fr{constructor(t,r={}){const{x1:n,y1:a,x2:i,y2:o}=r;super(t,{x1:{value:n,scale:"x",type:n!=null&&i==null?"band":void 0,optional:!0},y1:{value:a,scale:"y",type:a!=null&&o==null?"band":void 0,optional:!0},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},r,PN),$T(this,r),IT(this,r)}render(t,r,n,a,i){const{x:o,y:s}=r;let{x1:u,y1:l,x2:f,y2:c}=n;const{marginTop:d,marginRight:h,marginBottom:v,marginLeft:p,width:g,height:m}=a,{projection:y}=i,{insetTop:b,insetRight:w,insetBottom:S,insetLeft:_}=this,{rx:x,ry:E,rx1y1:T,rx1y2:k,rx2y1:M,rx2y2:D}=this;(u||f)&&!y&&zo(o)&&(u=f=null),(l||c)&&!y&&zo(s)&&(l=c=null);const P=o!=null&&o.bandwidth?o.bandwidth():0,C=s!=null&&s.bandwidth?s.bandwidth():0;return Yt("svg:g",i).call(ya,this,a,i).call(ba,this,{},0,0).call(A=>A.selectAll().data(t).enter().call(T||k||M||D?O=>O.append("path").call(Cn,this).call(BT,u&&f?L=>u[L]+(f[L]<u[L]?-w:_):u?L=>u[L]+_:p+_,l&&c?L=>l[L]+(c[L]<l[L]?-S:b):l?L=>l[L]+b:d+b,u&&f?L=>f[L]-(f[L]<u[L]?-_:w):u?L=>u[L]+P-w:g-h-w,l&&c?L=>c[L]-(c[L]<l[L]?-b:S):l?L=>l[L]+C-S:m-v-S,this).call(Ai,this,n):O=>O.append("rect").call(Cn,this).attr("x",u?f?L=>Math.min(u[L],f[L])+_:L=>u[L]+_:p+_).attr("y",l?c?L=>Math.min(l[L],c[L])+b:L=>l[L]+b:d+b).attr("width",u?f?L=>Math.max(0,Math.abs(f[L]-u[L])+P-_-w):P-_-w:g-h-p-w-_).attr("height",l?c?L=>Math.max(0,Math.abs(l[L]-c[L])+C-b-S):C-b-S:m-d-v-b-S).call(ke,"rx",x).call(ke,"ry",E).call(Ai,this,n))).node()}}function $T(e,{inset:t=0,insetTop:r=t,insetRight:n=t,insetBottom:a=t,insetLeft:i=t}={}){e.insetTop=Gt(r),e.insetRight=Gt(n),e.insetBottom=Gt(a),e.insetLeft=Gt(i)}function IT(e,{r:t,rx:r,ry:n,rx1:a=t,ry1:i=t,rx2:o=t,ry2:s=t,rx1y1:u=a!==void 0?+a:i!==void 0?+i:0,rx1y2:l=a!==void 0?+a:s!==void 0?+s:0,rx2y1:f=o!==void 0?+o:i!==void 0?+i:0,rx2y2:c=o!==void 0?+o:s!==void 0?+s:0}={}){u||l||f||c?(e.rx1y1=u,e.rx1y2=l,e.rx2y1=f,e.rx2y2=c):(e.rx=It(r,"auto"),e.ry=It(n,"auto"))}function BT(e,t,r,n,a,i){const{rx1y1:o,rx1y2:s,rx2y1:u,rx2y2:l}=i;typeof t!="function"&&(t=ea(t)),typeof r!="function"&&(r=ea(r)),typeof n!="function"&&(n=ea(n)),typeof a!="function"&&(a=ea(a));const f=Math.max(Math.abs(o+u),Math.abs(s+l)),c=Math.max(Math.abs(o+s),Math.abs(u+l));e.attr("d",d=>{const h=t(d),v=r(d),p=n(d),g=a(d),m=h>p,y=v>g,b=m?p:h,w=m?h:p,S=y?g:v,_=y?v:g,x=Math.min(1,(w-b)/f,(_-S)/c),E=x*(m?y?l:u:y?s:o),T=x*(m?y?s:o:y?l:u),k=x*(m?y?o:s:y?u:l),M=x*(m?y?u:l:y?o:s);return`M${b},${S+kl(E,M)}A${E},${E} 0 0 ${E<0?0:1} ${b+Ml(E,M)},${S}H${w-Ml(T,k)}A${T},${T} 0 0 ${T<0?0:1} ${w},${S+kl(T,k)}V${_-kl(k,T)}A${k},${k} 0 0 ${k<0?0:1} ${w-Ml(k,T)},${_}H${b+Ml(M,E)}A${M},${M} 0 0 ${M<0?0:1} ${b},${_-kl(M,E)}Z`})}function Ml(e,t){return t<0?e:Math.abs(e)}function kl(e,t){return t<0?Math.abs(e):e}function ON(e,t={}){return qA(t)||(t={...t,x:Hc,y2:or,interval:1}),new NN(e,PT(wP(AT(t))))}const LN={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},RN={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class $N extends Fr{constructor(t={}){const{anchor:r=null}=t;super(rf,void 0,t,r==null?LN:RN),this.anchor=j_(r,"anchor",["top","right","bottom","left"]),$T(this,t),r||IT(this,t)}render(t,r,n,a,i){const{marginTop:o,marginRight:s,marginBottom:u,marginLeft:l,width:f,height:c}=a,{anchor:d,insetTop:h,insetRight:v,insetBottom:p,insetLeft:g}=this,{rx:m,ry:y,rx1y1:b,rx1y2:w,rx2y1:S,rx2y2:_}=this,x=l+g,E=f-s-v,T=o+h,k=c-u-p;return Yt(d?"svg:line":b||w||S||_?"svg:path":"svg:rect",i).datum(0).call(ya,this,a,i).call(Cn,this).call(Ai,this,n).call(ba,this,{}).call(d==="left"?M=>M.attr("x1",x).attr("x2",x).attr("y1",T).attr("y2",k):d==="right"?M=>M.attr("x1",E).attr("x2",E).attr("y1",T).attr("y2",k):d==="top"?M=>M.attr("x1",x).attr("x2",E).attr("y1",T).attr("y2",T):d==="bottom"?M=>M.attr("x1",x).attr("x2",E).attr("y1",k).attr("y2",k):b||w||S||_?M=>M.call(BT,x,T,E,k,this):M=>M.attr("x",x).attr("y",T).attr("width",E-x).attr("height",k-T).attr("rx",m).attr("ry",y)).node()}}function IN(e){return new $N(e)}const Oh={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},BN=new Set(["geometry","href","src","ariaLabel","scales"]);class FN extends Fr{constructor(t,r={}){r.tip&&(r={...r,tip:!1}),r.title===void 0&&Ja(t)&&nS(t)&&(r={...r,title:or});const{x:n,y:a,x1:i,x2:o,y1:s,y2:u,anchor:l,preferredAnchor:f="bottom",monospace:c,fontFamily:d=c?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:v,fontVariant:p,fontWeight:g,lineHeight:m=1,lineWidth:y=20,frameAnchor:b,format:w,textAnchor:S="start",textOverflow:_,textPadding:x=8,title:E,pointerSize:T=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=r;super(t,{x:{value:i!=null&&o!=null?null:n,scale:"x",optional:!0},y:{value:s!=null&&u!=null?null:a,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:o==null},y1:{value:s,scale:"y",optional:u==null},x2:{value:o,scale:"x",optional:i==null},y2:{value:u,scale:"y",optional:s==null},title:{value:E,optional:!0}},r,Oh),this.anchor=Zv(l,"anchor"),this.preferredAnchor=Zv(f,"preferredAnchor"),this.frameAnchor=mp(b),this.textAnchor=It(S,"middle"),this.textPadding=+x,this.pointerSize=+T,this.pathFilter=ir(k),this.lineHeight=+m,this.lineWidth=+y,this.textOverflow=eT(_),this.monospace=!!c,this.fontFamily=ir(d),this.fontSize=Gt(h),this.fontStyle=ir(v),this.fontVariant=ir(p),this.fontWeight=ir(g);for(const M in Oh)M in this.channels&&(this[M]=Oh[M]);this.splitLines=nT(this),this.clipLine=aT(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(t,r,n,a,i){const o=this,{x:s,y:u,fx:l,fy:f}=r,{ownerSVGElement:c,document:d}=i,{anchor:h,monospace:v,lineHeight:p,lineWidth:g}=this,{textPadding:m,pointerSize:y,pathFilter:b}=this,{marginTop:w,marginLeft:S}=a,{x1:_,y1:x,x2:E,y2:T,x:k=_??E,y:M=x??T}=n,D=l?l(t.fx)-S:0,P=f?f(t.fy)-w:0,[C,A]=td(this,a),O=FS(n,C),L=zS(n,A),$=v?Ip:$p,z=$(mo);let F,I;"title"in n?(F=Vy.call(this,{title:n.channels.title},r),I=WN):(F=Vy.call(this,n.channels,r),I=UN);const B=Yt("svg:g",i).call(ya,this,a,i).call(rT,this).call(ba,this,{x:k&&s,y:M&&u}).call(j=>j.selectAll().data(t).enter().append("g").attr("transform",Q=>`translate(${Math.round(O(Q))},${Math.round(L(Q))})`).call(Cn,this).call(Q=>Q.append("path").attr("filter",b)).call(Q=>Q.append("text").each(function(X){const W=vo(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const R=I.call(o,X,t,F,r,n);if(typeof R=="string")for(const q of o.splitLines(R))V(W,{value:o.clipLine(q)});else{const q=new Set;for(const U of R){const{label:Y=""}=U;Y&&q.has(Y)||(q.add(Y),V(W,U))}}})));function V(j,{label:Q,value:X,color:W,opacity:R}){Q??(Q=""),X??(X="");const q=W!=null||R!=null;let U,Y=g*100;const[ie]=qo(Q,Y,$,z);if(ie>=0)Q=Q.slice(0,ie).trimEnd()+mo,U=X.trim(),X="";else{(Q||!X&&!q)&&(X=" "+X);const[re]=qo(X,Y-$(Q),$,z);re>=0&&(U=X.trim(),X=X.slice(0,re).trimEnd()+mo)}const J=j.append("tspan").attr("x",0).attr("dy",`${p}em`).text("​");Q&&J.append("tspan").attr("font-weight","bold").text(Q),X&&J.append(()=>d.createTextNode(X)),q&&J.append("tspan").text(" ■").attr("fill",W).attr("fill-opacity",R).style("user-select","none"),U&&J.append("title").text(U)}function K(){const{width:j,height:Q}=a.facet??a;B.selectChildren().each(function(X){let{x:W,width:R,height:q}=this.getBBox();R=Math.round(R),q=Math.round(q);let U=h;if(U===void 0){const J=O(X)+D,re=L(X)+P,oe=J+R+y+m*2<j,ue=J-R-y-m*2>0,le=re+q+y+m*2<Q,ge=re-q-y-m*2>0;U=oe&&ue?le&&ge?o.preferredAnchor:ge?"bottom":"top":le&&ge?oe?"left":"right":(oe||ue)&&(le||ge)?`${ge?"bottom":"top"}-${oe?"left":"right"}`:o.preferredAnchor}const Y=this.firstChild,ie=this.lastChild;if(Y.setAttribute("d",VN(U,y,m,R,q)),W)for(const J of ie.childNodes)J.setAttribute("x",-W);ie.setAttribute("y",`${+YN(U,ie.childNodes.length,p).toFixed(6)}em`),ie.setAttribute("transform",`translate(${qN(U,y,m,R,q)})`)}),B.attr("visibility",null)}return t.length&&(B.attr("visibility","hidden"),c.isConnected?Promise.resolve().then(K):typeof requestAnimationFrame<"u"&&requestAnimationFrame(K)),B.node()}}function zN(e,{x:t,y:r,...n}={}){return n.frameAnchor===void 0&&([t,r]=eS(t,r)),new FN(e,{...n,x:t,y:r})}function YN(e,t,r){return/^top(?:-|$)/.test(e)?.94-r:-.29-t*r}function qN(e,t,r,n,a){switch(e){case"middle":return[-n/2,a/2];case"top-left":return[r,t+r];case"top":return[-n/2,t/2+r];case"top-right":return[-n-r,t+r];case"right":return[-t/2-n-r,a/2];case"bottom-left":return[r,-t-r];case"bottom":return[-n/2,-t/2-r];case"bottom-right":return[-n-r,-t-r];case"left":return[r+t/2,a/2]}}function VN(e,t,r,n,a){const i=n+r*2,o=a+r*2;switch(e){case"middle":return`M${-i/2},${-o/2}h${i}v${o}h${-i}z`;case"top-left":return`M0,0l${t},${t}h${i-t}v${o}h${-i}z`;case"top":return`M0,0l${t/2},${t/2}h${(i-t)/2}v${o}h${-i}v${-o}h${(i-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-i}v${o}h${i}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-o/2}h${-i}v${o}h${i}v${t/2-o/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${i-t}v${-o}h${-i}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(i-t)/2}v${-o}h${-i}v${o}h${(i-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-i}v${-o}h${i}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-o/2}h${i}v${o}h${-i}v${t/2-o/2}z`}}function Vy(e,t){var a,i;const r={};let n=this.format;n=Wy(n,e,"x"),n=Wy(n,e,"y"),this.format=n;for(const o in n){const s=n[o];if(!(s===null||s===!1))if(o==="fx"||o==="fy")r[o]=!0;else{const u=yy(e,o);u&&(r[o]=u)}}for(const o in e){if(o in r||o in n||BN.has(o)||(o==="x"||o==="y")&&e.geometry)continue;const s=yy(e,o);if(s){if(s.scale==null&&s.defaultScale==="color")continue;r[o]=s}}this.facet&&(t.fx&&!("fx"in n)&&(r.fx=!0),t.fy&&!("fy"in n)&&(r.fy=!0));for(const o in r){const s=this.format[o];if(typeof s=="string"){const u=((a=r[o])==null?void 0:a.value)??((i=t[o])==null?void 0:i.domain())??[];this.format[o]=(vr(u)?Yu:Xo)(s)}else if(s===void 0||s===!0){const u=t[o];this.format[o]=u!=null&&u.bandwidth?Bp(u,u.domain()):Yo}}return r}function Wy(e,t,r){if(!(r in e))return e;const n=`${r}1`,a=`${r}2`;if((n in e||!(n in t))&&(a in e||!(a in t)))return e;const i=Object.entries(e),o=e[r];return i.splice(i.findIndex(([s])=>s===r)+1,0,[n,o],[a,o]),Object.fromEntries(i)}function WN(e,t,{title:r}){return this.format.title(r.value[e],e)}function*UN(e,t,r,n,a){for(const i in r){if(i==="fx"||i==="fy"){yield{label:jf(n,r,i),value:this.format[i](t[i],e)};continue}if(i==="x1"&&"x2"in r||i==="y1"&&"y2"in r)continue;const o=r[i];if(i==="x2"&&"x1"in r)yield{label:Hy(n,r,"x"),value:Uy(this.format.x2,r.x1,o,e)};else if(i==="y2"&&"y1"in r)yield{label:Hy(n,r,"y"),value:Uy(this.format.y2,r.y1,o,e)};else{const s=o.value[e],u=o.scale;if(!Va(s)&&u==null)continue;yield{label:jf(n,r,i),value:this.format[i](s,e),color:u==="color"?a[i][e]:null,opacity:u==="opacity"?a[i][e]:null}}}}function Uy(e,t,r,n){var a;return(a=r.hint)!=null&&a.length?`${e(r.value[n]-t.value[n],n)}`:`${e(t.value[n],n)}–${e(r.value[n],n)}`}function Hy(e,t,r){const n=jf(e,t,`${r}1`,r),a=jf(e,t,`${r}2`,r);return n===a?n:`${n}–${a}`}function jf(e,t,r,n=r){const a=t[r],i=e[(a==null?void 0:a.scale)??r];return String((i==null?void 0:i.label)??(a==null?void 0:a.label)??n)}function FT(e={}){var z;const{facet:t,style:r,title:n,subtitle:a,caption:i,ariaLabel:o,ariaDescription:s}=e,u=ed(e.className),l=e.marks===void 0?[]:Xy(e.marks);l.push(...jN(l));const f=ZN(t,e),c=new Map;for(const F of l){const I=Ky(F,f,e);I&&c.set(F,I)}const d=new Map;f&&ws(d,[f],e),ws(d,c,e);const h=Xy(JN(l,d,e));for(const F of h){const I=Ky(F,f,e);I&&c.set(F,I)}l.unshift(...h);let v=S9(d,e);if(v!==void 0){const F=f?Ch(v,f):void 0;for(const B of l){if(B.facet===null||B.facet==="super")continue;const V=c.get(B);V!==void 0&&(V.facetsIndex=B.fx!=null||B.fy!=null?Ch(v,V):F)}const I=new Set;for(const{facetsIndex:B}of c.values())B==null||B.forEach((V,K)=>{(V==null?void 0:V.length)>0&&I.add(K)});v.forEach(0<I.size&&I.size<v.length?(B,V)=>B.empty=!I.has(V):B=>B.empty=!1);for(const B of l)if(B.facet==="exclude"){const V=c.get(B);V!==void 0&&(V.facetsIndex=M9(V.facetsIndex))}}for(const F of ht.keys())Xv(e[F])&&F!=="fx"&&F!=="fy"&&d.set(F,[]);const p=new Map;for(const F of l){if(p.has(F))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:I,channels:B}=c.get(F)??{},{data:V,facets:K,channels:j}=F.initialize(I,B,e);Fp(j,e),p.set(F,{data:V,facets:K,channels:j})}const g=eg(ws(d,p,e),e),m=fP(g,l,e);h9(g,m);const y=Ey(g),{fx:b,fy:w}=y,S=b||w?CS(g,m):m,_=b||w?oO(y,m):m,x=Dp(e),E=x.document,T=Ec("svg").call(E.documentElement);let k=T;x.ownerSVGElement=T,x.className=u,x.projection=R9(e,S),x.filterFacets=(F,I)=>Ch(v,{channels:I,groups:Cp(F,I)}),x.getMarkState=F=>{const I=p.get(F),B=c.get(F);return{...I,channels:{...I.channels,...B==null?void 0:B.channels}}},x.dispatchValue=F=>{k.value!==F&&(k.value=F,k.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[F,I]of p)if(F.initializer!=null){const B=F.facet==="super"?_:S,V=F.initializer(I.data,I.facets,I.channels,y,B,x);if(V.data!==void 0&&(I.data=V.data),V.facets!==void 0&&(I.facets=V.facets),V.channels!==void 0){const{fx:K,fy:j,...Q}=V.channels;KN(Q),Object.assign(I.channels,Q);for(const X of Object.values(Q)){const{scale:W}=X;W!=null&&!i7(ht.get(W))&&(zT(X,e),M.add(W))}(K!=null||j!=null)&&c.set(F,!0)}}if(M.size){const F=new Map;ws(F,p,e,K=>M.has(K)),ws(d,p,e,K=>M.has(K));const I=iO(eg(F,e),g),{scales:B,...V}=Ey(I);Object.assign(g,I),Object.assign(y,V),Object.assign(y.scales,B)}let D,P;v!==void 0&&(D={x:b==null?void 0:b.domain(),y:w==null?void 0:w.domain()},v=T9(v,D),P=E9(b,w,m));for(const[F,I]of p)I.values=F.scale(I.channels,y,x);const{width:C,height:A}=m;vo(T).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",C).attr("height",A).attr("viewBox",`0 0 ${C} ${A}`).attr("aria-label",o).attr("aria-description",s).call(F=>F.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Pp,r);for(const F of l){const{channels:I,values:B,facets:V}=p.get(F);if(v===void 0||F.facet==="super"){let K=null;if(V&&(K=V[0],K=F.filter(K,I,B),K.length===0))continue;const j=F.render(K,y,B,_,x);if(j==null)continue;T.appendChild(j)}else{let K;for(const j of v){if(!(((z=F.facetAnchor)==null?void 0:z.call(F,v,D,j))??!j.empty))continue;let Q=null;if(V){const W=c.has(F);if(Q=V[W?j.i:0],Q=F.filter(Q,I,B),Q.length===0)continue;!W&&Q===V[0]&&(Q=WA(Q)),Q.fx=j.x,Q.fy=j.y,Q.fi=j.i}const X=F.render(Q,y,B,S,x);if(X!=null){(K??(K=vo(T).append("g"))).append(()=>X).datum(j);for(const W of["aria-label","aria-description","aria-hidden","transform"])X.hasAttribute(W)&&(K.attr(W,X.getAttribute(W)),X.removeAttribute(W))}}K==null||K.selectChildren().attr("transform",P)}}const O=gN(g,x,e),{figure:L=n!=null||a!=null||i!=null||O.length>0}=e;L&&(k=E.createElement("figure"),k.className=`${u}-figure`,k.style.maxWidth="initial",n!=null&&k.append(Gy(E,n,"h2")),a!=null&&k.append(Gy(E,a,"h3")),k.append(...O,T),i!=null&&k.append(HN(E,i)),"value"in T&&(k.value=T.value,delete T.value)),k.scale=x9(y.scales),k.legend=dN(g,x,e);const $=Z7();return $>0&&vo(T).append("text").attr("x",C).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${$.toLocaleString("en-US")} warning${$===1?"":"s"}. Please check the console.`),k}function Gy(e,t,r){if(t.ownerDocument)return t;const n=e.createElement(r);return n.append(t),n}function HN(e,t){const r=e.createElement("figcaption");return r.append(t),r}function Xy(e){return e.flat(1/0).filter(t=>t!=null).map(GN)}function GN(e){return typeof e.render=="function"?e:new XN(e)}class XN extends Fr{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Fp(e,t){for(const r in e)zT(e[r],t);return e}function zT(e,t){const{scale:r,transform:n=!0}=e;if(r==null||!n)return;const{type:a,percent:i,interval:o,transform:s=i?u=>u==null?NaN:u*100:rS(o,a)}=t[r]??{};s!=null&&(e.value=yt(e.value,s),e.transform=!1)}function KN(e){for(const t in e)vS(t,e[t])}function ws(e,t,r,n=FA){var a,i;for(const{channels:o}of t.values())for(const s in o){const u=o[s],{scale:l}=u;if(l!=null&&n(l))if(l==="projection"){if(!F9(r)){const f=((a=r.x)==null?void 0:a.domain)===void 0,c=((i=r.y)==null?void 0:i.domain)===void 0;if(f||c){const[d,h]=Y9(u);f&&Lh(e,"x",d),c&&Lh(e,"y",h)}}}else Lh(e,l,u)}return e}function Lh(e,t,r){const n=e.get(t);n!==void 0?n.push(r):e.set(t,[r])}function ZN(e,t){if(e==null)return;const{x:r,y:n}=e;if(r==null&&n==null)return;const a=Io(e.data);if(a==null)throw new Error("missing facet data");const i={};r!=null&&(i.fx=cu(a,{value:r,scale:"fx"})),n!=null&&(i.fy=cu(a,{value:n,scale:"fy"})),Fp(i,t);const o=Cp(a,i);return{channels:i,groups:o,data:e.data}}function Ky(e,t,r){if(e.facet===null||e.facet==="super")return;const{fx:n,fy:a}=e;if(n!=null||a!=null){const u=Io(e.data??n??a);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const l={};return n!=null&&(l.fx=cu(u,{value:n,scale:"fx"})),a!=null&&(l.fy=cu(u,{value:a,scale:"fy"})),Fp(l,r),{channels:l,groups:Cp(u,l)}}if(t===void 0)return;const{channels:i,groups:o,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:i,groups:o};s.length>0&&(o.size>1||o.size===1&&i.fx&&i.fy&&[...o][0][1].size>1)&&lu(Io(e.data))===lu(s)&&$a(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function QN(e,t={}){return Fo({...t,x:null,y:null},(r,n,a,i,o,s)=>s.getMarkState(e))}function jN(e){const t=[];for(const r of e){let n=r.tip;if(n){n===!0?n={}:typeof n=="string"&&(n={pointer:n});let{pointer:a,preferredAnchor:i}=n;a=/^x$/i.test(a)?hP:/^y$/i.test(a)?Oy:dP,n=a(QN(r,n)),n.title=null,i===void 0&&(n.preferredAnchor=a===Oy?"left":"bottom");const o=zN(r.data,n);o.facet=r.facet,o.facetAnchor=r.facetAnchor,t.push(o)}}return t}function JN(e,t,r){let{projection:n,x:a={},y:i={},fx:o={},fy:s={},axis:u,grid:l,facet:f={},facet:{axis:c=u,grid:d}=f,x:{axis:h=u,grid:v=h===null?null:l}=a,y:{axis:p=u,grid:g=p===null?null:l}=i,fx:{axis:m=c,grid:y=m===null?null:d}=o,fy:{axis:b=c,grid:w=b===null?null:d}=s}=r;(n||!Xv(a)&&!Zy("x",e))&&(h=v=null),(n||!Xv(i)&&!Zy("y",e))&&(p=g=null),t.has("fx")||(m=y=null),t.has("fy")||(b=w=null),h===void 0&&(h=!Al(e,"x")),p===void 0&&(p=!Al(e,"y")),m===void 0&&(m=!Al(e,"fx")),b===void 0&&(b=!Al(e,"fy")),h===!0&&(h="bottom"),p===!0&&(p="left"),m===!0&&(m=h==="top"||h===null?"bottom":"top"),b===!0&&(b=p==="right"||p===null?"left":"right");const S=[];return Dl(S,w,rN,s),Cl(S,b,KP,"right","left",f,s),Dl(S,y,aN,o),Cl(S,m,ZP,"top","bottom",f,o),Dl(S,g,tN,i),Cl(S,p,vT,"left","right",r,i),Dl(S,v,nN,a),Cl(S,h,gT,"bottom","top",r,a),S}function Cl(e,t,r,n,a,i,o){if(!t)return;const s=eO(t);o=tO(s?n:t,i,o);const{line:u}=o;(r===vT||r===gT)&&u&&!fu(u)&&e.push(IN(rO(o))),e.push(r(o)),s&&e.push(r({...o,anchor:a,label:null}))}function Dl(e,t,r,n){!t||fu(t)||e.push(r(nO(t,n)))}function eO(e){return/^\s*both\s*$/i.test(e)}function tO(e,t,{line:r=t.line,ticks:n,tickSize:a,tickSpacing:i,tickPadding:o,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:f,ariaDescription:c,label:d=t.label,labelAnchor:h,labelArrow:v=t.labelArrow,labelOffset:p}){return{anchor:e,line:r,ticks:n,tickSize:a,tickSpacing:i,tickPadding:o,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:f,ariaDescription:c,label:d,labelAnchor:h,labelArrow:v,labelOffset:p}}function rO(e){const{anchor:t,line:r}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:r===!0?void 0:r}}function nO(e,{stroke:t=Xc(e)?e:void 0,ticks:r=aO(e)?e:void 0,tickSpacing:n,ariaLabel:a,ariaDescription:i}){return{stroke:t,ticks:r,tickSpacing:n,ariaLabel:a,ariaDescription:i}}function aO(e){switch(typeof e){case"number":return!0;case"string":return!Xc(e)}return Ja(e)||typeof(e==null?void 0:e.range)=="function"}function Al(e,t){const r=`${t}-axis `;return e.some(n=>{var a;return(a=n.ariaLabel)==null?void 0:a.startsWith(r)})}function Zy(e,t){for(const r of t)for(const n in r.channels){const{scale:a}=r.channels[n];if(a===e||a==="projection")return!0}return!1}function iO(e,t){for(const r in e){const n=e[r],a=t[r];n.label===void 0&&a&&(n.label=a.label)}return e}function oO({fx:e,fy:t},r){const{marginTop:n,marginRight:a,marginBottom:i,marginLeft:o,width:s,height:u}=kp(r),l=e&&Qy(e),f=t&&Qy(t);return{marginTop:t?f[0]:n,marginRight:e?s-l[1]:a,marginBottom:t?u-f[1]:i,marginLeft:e?l[0]:o,inset:{marginTop:r.marginTop,marginRight:r.marginRight,marginBottom:r.marginBottom,marginLeft:r.marginLeft},width:s,height:u}}function Qy(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let r=e(t[0]),n=e(t[t.length-1]);return n<r&&([r,n]=[n,r]),[r,n+e.bandwidth()]}const sO=new Map([["basis",fA],["basis-closed",cA],["basis-open",dA],["bundle",hA],["bump-x",J8],["bump-y",eA],["cardinal",vA],["cardinal-closed",gA],["cardinal-open",pA],["catmull-rom",mA],["catmull-rom-closed",yA],["catmull-rom-open",bA],["linear",qu],["linear-closed",wA],["monotone-x",xA],["monotone-y",_A],["natural",SA],["step",TA],["step-after",MA],["step-before",EA]]);function YT(e=qu,t){if(typeof e=="function")return e;const r=sO.get(`${e}`.toLowerCase());if(!r)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in r)return r.beta(t);if("tension"in r)return r.tension(t);if("alpha"in r)return r.alpha(t)}return r}function uO(e=Jf,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?Jf:YT(e,t)}function Jf(e){return qu(e)}function qT(e={y:"count"},t={}){[e,t]=cO(e,t);const{x:r,y:n}=t;return fO(dO(r,t,or),null,null,n,e,ad(t))}function lO(e,t,r={}){if((r==null?void 0:r.interval)==null)return r;const{reduce:n=Sp}=r,a={filter:null};return r[t]!=null&&(a[t]=n),r[`${t}1`]!=null&&(a[`${t}1`]=n),r[`${t}2`]!=null&&(a[`${t}2`]=n),e(a,r)}function VT(e={}){return lO(qT,"y",nd(e,"x"))}function fO(e,t,r,n,{data:a=hS,filter:i=Qf,sort:o,reverse:s,...u}={},l={}){e=jy(e),t=jy(t),u=vO(u,l),a=HT(a,or),o=o==null?void 0:WT("sort",o,l),i=i==null?void 0:UT("filter",i,l),n!=null&&xh(u,"y","y1","y2")&&(n=null);const[f,c]=Hn(e),[d,h]=Hn(e),[v,p]=Hn(t),[g,m]=Hn(t),[y,b]=n!=null?[n,"y"]:[],[w,S]=Hn(y),{x:_,y:x,z:E,fill:T,stroke:k,x1:M,x2:D,y1:P,y2:C,domain:A,cumulative:O,thresholds:L,interval:$,...z}=l,[F,I]=Hn(E),[B]=fa(T),[V]=fa(k),[K,j]=Hn(B),[Q,X]=Hn(V);return{..."z"in l&&{z:F||E},..."fill"in l&&{fill:K||T},..."stroke"in l&&{stroke:Q||k},...Zc(z,(W,R,q)=>{const U=tS(Lt(W,y),q==null?void 0:q[b]),Y=Lt(W,E),ie=Lt(W,B),J=Lt(W,V),re=m7(u,{z:Y,fill:ie,stroke:J}),oe=[],ue=[],le=U&&S([]),ge=Y&&I([]),He=ie&&j([]),$e=J&&X([]),Me=e&&c([]),Ge=e&&h([]),Ae=t&&p([]),ze=t&&m([]),ne=mO(e,t,W);let N=0;for(const G of u)G.initialize(W);o&&o.initialize(W),i&&i.initialize(W);for(const G of R){const ee=[];for(const H of u)H.scope("facet",G);o&&o.scope("facet",G),i&&i.scope("facet",G);for(const[H,Z]of vy(G,re))for(const[ce,te]of vy(Z,U))for(const[se,pe]of ne(te))if(re&&(pe.z=H),!(i&&!i.reduce(se,pe))){ee.push(N++),ue.push(a.reduceIndex(se,W,pe)),U&&le.push(ce),Y&&ge.push(re===Y?H:Y[(se.length>0?se:te)[0]]),ie&&He.push(re===ie?H:ie[(se.length>0?se:te)[0]]),J&&$e.push(re===J?H:J[(se.length>0?se:te)[0]]),Me&&(Me.push(pe.x1),Ge.push(pe.x2)),Ae&&(Ae.push(pe.y1),ze.push(pe.y2));for(const _e of u)_e.reduce(se,pe);o&&o.reduce(se,pe)}oe.push(ee)}return y7(oe,o,s),{data:ue,facets:oe}}),...!xh(u,"x")&&(f?{x1:f,x2:d,x:Kv(f,d)}:{x:_,x1:M,x2:D}),...!xh(u,"y")&&(v?{y1:v,y2:g,y:Kv(v,g)}:{y:x,y1:P,y2:C}),...w&&{[b]:w},...Object.fromEntries(u.map(({name:W,output:R})=>[W,R]))}}function cO({cumulative:e,domain:t,thresholds:r,interval:n,...a},i){return[a,{cumulative:e,domain:t,thresholds:r,interval:n,...i}]}function dO(e,{cumulative:t,domain:r,thresholds:n,interval:a},i){return e={...Wu(e)},e.domain===void 0&&(e.domain=r),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=n),e.interval===void 0&&(e.interval=a),e.value===void 0&&(e.value=i),e.thresholds=hO(e.thresholds,e.interval),e}function jy(e){if(e==null)return;const{value:t,cumulative:r,domain:n=Nr,thresholds:a}=e,i=o=>{let s=Lt(o,t),u;if(vr(s)||pO(a)){s=yt(s,Q_,Float64Array);let[f,c]=typeof n=="function"?n(s):n,d=typeof a=="function"&&!so(a)?a(s,f,c):a;typeof d=="number"&&(d=W2(f,c,d)),so(d)&&(n===Nr&&(f=d.floor(f),c=d.offset(d.floor(c))),d=d.range(f,d.offset(c))),u=d}else{s=$o(s);let[f,c]=typeof n=="function"?n(s):n,d=typeof a=="function"&&!so(a)?a(s,f,c):a;if(typeof d=="number")if(n===Nr){let h=wf(f,c,d);if(isFinite(h))if(h>0){let v=Math.round(f/h),p=Math.round(c/h);v*h<=f||--v,p*h>c||++p;let g=p-v+1;d=new Float64Array(g);for(let m=0;m<g;++m)d[m]=(v+m)*h}else if(h<0){h=-h;let v=Math.round(f*h),p=Math.round(c*h);v/h<=f||--v,p/h>c||++p;let g=p-v+1;d=new Float64Array(g);for(let m=0;m<g;++m)d[m]=(v+m)/h}else d=[f];else d=[f]}else d=Js(f,c,d);else so(d)&&(n===Nr&&(f=d.floor(f),c=d.offset(d.floor(c))),d=d.range(f,d.offset(c)));u=d}const l=[];if(u.length===1)l.push([u[0],u[0]]);else for(let f=1;f<u.length;++f)l.push([u[f-1],u[f]]);return l.bin=(r<0?bO:r>0?yO:zp)(l,u,s),l};return i.label=qi(t),i}function hO(e,t,r=Jy){if(e===void 0)return t===void 0?r:Zo(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return Tk;case"scott":return nw;case"sturges":return wk;case"auto":return Jy}return fp(e)}return e}function vO(e,t){return v7(e,t,WT)}function WT(e,t,r){return cS(e,t,r,UT)}function UT(e,t,r){return dS(e,t,r,HT)}function HT(e,t){return _p(e,t,gO)}function gO(e){switch(`${e}`.toLowerCase()){case"x":return wO;case"x1":return _O;case"x2":return SO;case"y":return xO;case"y1":return TO;case"y2":return EO;case"z":return E7}throw new Error(`invalid bin reduce: ${e}`)}function Jy(e,t,r){return Math.min(200,nw(e,t,r))}function pO(e){return XA(e)||Ja(e)&&vr(e)}function mO(e,t,r){const n=e==null?void 0:e(r),a=t==null?void 0:t(r);return n&&a?function*(i){const o=n.bin(i);for(const[s,[u,l]]of n.entries()){const f=a.bin(o[s]);for(const[c,[d,h]]of a.entries())yield[f[c],{data:r,x1:u,y1:d,x2:l,y2:h}]}}:n?function*(i){const o=n.bin(i);for(const[s,[u,l]]of n.entries())yield[o[s],{data:r,x1:u,x2:l}]}:function*(i){const o=a.bin(i);for(const[s,[u,l]]of a.entries())yield[o[s],{data:r,y1:u,y2:l}]}}function zp(e,t,r){return t=$o(t),n=>{var i;const a=e.map(()=>[]);for(const o of n)(i=a[xc(t,r[o])-1])==null||i.push(o);return a}}function yO(e,t,r){const n=zp(e,t,r);return a=>{const i=n(a);for(let o=1,s=i.length;o<s;++o){const u=i[o-1],l=i[o];for(const f of u)l.push(f)}return i}}function bO(e,t,r){const n=zp(e,t,r);return a=>{const i=n(a);for(let o=i.length-2;o>=0;--o){const s=i[o+1],u=i[o];for(const l of s)u.push(l)}return i}}function GT(e,t){const r=(+e+ +t)/2;return e instanceof Date?new Date(r):r}const wO={reduceIndex(e,t,{x1:r,x2:n}){return GT(r,n)}},xO={reduceIndex(e,t,{y1:r,y2:n}){return GT(r,n)}},_O={reduceIndex(e,t,{x1:r}){return r}},SO={reduceIndex(e,t,{x2:r}){return r}},TO={reduceIndex(e,t,{y1:r}){return r}},EO={reduceIndex(e,t,{y2:r}){return r}},MO={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class kO extends Fr{constructor(t,r={}){const{x1:n,y1:a,x2:i,y2:o,z:s,curve:u,tension:l}=r;super(t,{x1:{value:n,scale:"x"},y1:{value:a,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0},z:{value:vp(r),optional:!0}},r,MO),this.z=s,this.curve=YT(u,l)}filter(t){return t}render(t,r,n,a,i){const{x1:o,y1:s,x2:u=o,y2:l=s}=n;return Yt("svg:g",i).call(ya,this,a,i).call(ba,this,r,0,0).call(f=>f.selectAll().data(RS(t,[o,s,u,l],this,n)).enter().append("path").call(Cn,this).call(LS,this,n).attr("d",j8().curve(this.curve).defined(c=>c>=0).x0(c=>o[c]).y0(c=>s[c]).x1(c=>u[c]).y1(c=>l[c]))).node()}}function XT(e,t){const{x:r=Hc,...n}=VT(t);return new kO(e,PT(AT({...n,x1:r,x2:void 0})))}const CO={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class DO extends Fr{constructor(t,r={}){const{x:n,y:a,z:i,curve:o,tension:s}=r;super(t,{x:{value:n,scale:"x"},y:{value:a,scale:"y"},z:{value:vp(r),optional:!0}},r,CO),this.z=i,this.curve=uO(o,s),Op(this,r)}filter(t){return t}project(t,r,n){this.curve!==Jf&&super.project(t,r,n)}render(t,r,n,a,i){const{x:o,y:s}=n,{curve:u}=this;return Yt("svg:g",i).call(ya,this,a,i).call(ba,this,r).call(l=>l.selectAll().data(RS(t,[o,s],this,n)).enter().append("path").call(Cn,this).call(LS,this,n).call(yP,this,n,i).attr("d",u===Jf&&i.projection?AO(i.projection,o,s):d_().curve(u).defined(f=>f>=0).x(f=>o[f]).y(f=>s[f]))).node()}}function AO(e,t,r){const n=Pc(e);return t=$o(t),r=$o(r),a=>{let i=[];const o=[i];for(const s of a)s===-1?(i=[],o.push(i)):i.push([t[s],r[s]]);return n({type:"MultiLineString",coordinates:o})}}function KT(e,{x:t=Hc,y:r=or,...n}={}){return new DO(e,VT({...n,x:t,y:r}))}Fr.prototype.plot=function({marks:e=[],...t}={}){return FT({...t,marks:[...e,this]})};function ZT({width:e,height:t,scenarioEvents:r}){const n=fr.useRef(null);return fr.useEffect(()=>{var o;const a=r.budgetEvents.map(s=>s.events.map(u=>({date:new Date(u.date),amount:u.value,name:s.budget.name}))),i=FT({width:e,height:t,marginLeft:50,y:{grid:!0},marks:[id([0]),ON(a.flat(),qT({y:"sum"},{x:"date",y:"amount",fill:"name",interval:"month",cumulative:!0}))]});return(o=n.current)==null||o.append(i),()=>i.remove()},[t,r.budgetEvents,e]),mt.jsx("div",{ref:n,className:"h-full w-full"})}ZT.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV1",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioEvents"},description:""}}};function PO({scenarioEvents:e}){return mt.jsx(bc,{children:({width:t,height:r})=>mt.jsx(ZT,{width:t,height:r,scenarioEvents:e})})}PO.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV1",props:{scenarioEvents:{required:!0,tsType:{name:"ScenarioEvents"},description:""}}};function e1(e){const t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}function t1(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e,t}Object.assign(tc(e1,e=>{if(e.firstChild===null)return null;if(e.firstChild===e.lastChild)return e.removeChild(e.firstChild);const t=document.createElement("span");return t.appendChild(e),t}),{fragment:tc(e1,e=>e)});const NO=Object.assign(tc(t1,e=>e.firstChild===null?null:e.firstChild===e.lastChild?e.removeChild(e.firstChild):e),{fragment:tc(t1,e=>{const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t})}),OO=9,LO=10,RO=12,$O=13,IO=32,BO=65,FO=90,zO=97,YO=122,Pl=60,rr=62,Ta=47,dn=45,Rh=33,$h=61,r1=34,n1=39,qO=63,$t=1,a1=2,i1=3,Ih=4,Nl=5,Ea=6,Bh=7,Ol=8,Ll=9,Fh=10,zh=11,Rl=12,Yh=13,xs=14,o1=15,s1=16,Vn=17,u1=18,l1=19,f1=20,c1=21,qh=22,_s=23,d1=24,h1=25,hn=26,v1=27,g1=28,p1=29,VO=128,m1=1,WO=8,UO=1,QT="http://www.w3.org/2000/svg",ai="http://www.w3.org/1999/xlink",y1="http://www.w3.org/XML/1998/namespace",b1="http://www.w3.org/2000/xmlns/",jT=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),ec=new Map([["xlink:actuate",ai],["xlink:arcrole",ai],["xlink:href",ai],["xlink:role",ai],["xlink:show",ai],["xlink:title",ai],["xlink:type",ai],["xml:lang",y1],["xml:space",y1],["xmlns",b1],["xmlns:xlink",b1]]);function tc(e,t){return function({raw:r}){let n=$t,a="",i,o,s,u,l=0;for(let h=0,v=arguments.length;h<v;++h){const p=r[h];if(h>0){const g=arguments[h];switch(n){case hn:{if(g!=null){const m=`${g}`;if(JT(o))a+=m.replace(/[<]/g,Zi);else{if(new RegExp(`</${o}[\\s>/]`,"i").test(a.slice(-o.length-2)+m))throw new Error("unsafe raw text");a+=m}}break}case $t:{g==null||(g instanceof Node||typeof g!="string"&&g[Symbol.iterator]||/(?:^|>)$/.test(r[h-1])&&/^(?:<|$)/.test(p)?(a+="<!--::"+h+"-->",l|=VO):a+=`${g}`.replace(/[<&]/g,Zi));break}case Ll:{n=Rl;let m;if(/^[\s>]/.test(p)){if(g==null||g===!1){a=a.slice(0,s-r[h-1].length);break}if(g===!0||(m=`${g}`)==""){a+="''";break}if(r[h-1].slice(s,u)==="style"&&Vh(g)||typeof g=="function"){a+="::"+h,l|=m1;break}}if(m===void 0&&(m=`${g}`),m==="")throw new Error("unsafe unquoted empty string");a+=m.replace(/^['"]|[\s>&]/g,Zi);break}case Rl:{a+=`${g}`.replace(/[\s>&]/g,Zi);break}case zh:{a+=`${g}`.replace(/['&]/g,Zi);break}case Fh:{a+=`${g}`.replace(/["&]/g,Zi);break}case Ea:{if(Vh(g)){a+="::"+h+"=''",l|=m1;break}throw new Error("invalid binding")}case Vn:break;default:throw new Error("invalid binding")}}for(let g=0,m=p.length;g<m;++g){const y=p.charCodeAt(g);switch(n){case $t:{y===Pl&&(n=a1);break}case a1:{y===Rh?n=h1:y===Ta?n=i1:$l(y)?(i=g,o=void 0,n=Ih,--g):y===qO?(n=Nl,--g):(n=$t,--g);break}case i1:{$l(y)?(n=Ih,--g):y===rr?n=$t:(n=Nl,--g);break}case Ih:{Ma(y)?(n=Ea,o=Ts(p,i,g)):y===Ta?n=xs:y===rr&&(o=Ts(p,i,g),n=Ss(o)?hn:$t);break}case Ea:{Ma(y)||(y===Ta||y===rr?(n=Bh,--g):y===$h?(n=Ol,s=g+1,u=void 0):(n=Ol,--g,s=g+1,u=void 0));break}case Ol:{Ma(y)||y===Ta||y===rr?(n=Bh,--g,u=g):y===$h&&(n=Ll,u=g);break}case Bh:{Ma(y)||(y===Ta?n=xs:y===$h?n=Ll:y===rr?n=Ss(o)?hn:$t:(n=Ol,--g,s=g+1,u=void 0));break}case Ll:{Ma(y)||(y===r1?n=Fh:y===n1?n=zh:y===rr?n=Ss(o)?hn:$t:(n=Rl,--g));break}case Fh:{y===r1&&(n=Yh);break}case zh:{y===n1&&(n=Yh);break}case Rl:{Ma(y)?n=Ea:y===rr&&(n=Ss(o)?hn:$t);break}case Yh:{Ma(y)?n=Ea:y===Ta?n=xs:y===rr?n=Ss(o)?hn:$t:(n=Ea,--g);break}case xs:{y===rr?n=$t:(n=Ea,--g);break}case Nl:{y===rr&&(n=$t);break}case o1:{y===dn?n=s1:y===rr?n=$t:(n=Vn,--g);break}case s1:{y===dn?n=_s:y===rr?n=$t:(n=Vn,--g);break}case Vn:{y===Pl?n=u1:y===dn&&(n=qh);break}case u1:{y===Rh?n=l1:y!==Pl&&(n=Vn,--g);break}case l1:{y===dn?n=f1:(n=Vn,--g);break}case f1:{y===dn?n=c1:(n=_s,--g);break}case c1:{n=_s,--g;break}case qh:{y===dn?n=_s:(n=Vn,--g);break}case _s:{y===rr?n=$t:y===Rh?n=d1:y!==dn&&(n=Vn,--g);break}case d1:{y===dn?n=qh:y===rr?n=$t:(n=Vn,--g);break}case h1:{y===dn&&p.charCodeAt(g+1)===dn?(n=o1,++g):(n=Nl,--g);break}case hn:{y===Pl&&(n=v1);break}case v1:{y===Ta?n=g1:(n=hn,--g);break}case g1:{$l(y)?(i=g,n=p1,--g):(n=hn,--g);break}case p1:{Ma(y)&&o===Ts(p,i,g)?n=Ea:y===Ta&&o===Ts(p,i,g)?n=xs:y===rr&&o===Ts(p,i,g)?n=$t:$l(y)||(n=hn,--g);break}default:{n=void 0;break}}}a+=p}const f=e(a),c=document.createTreeWalker(f,l,null,!1),d=[];for(;c.nextNode();){const h=c.currentNode;switch(h.nodeType){case UO:{const v=h.attributes;for(let p=0,g=v.length;p<g;++p){const{name:m,value:y}=v[p];if(/^::/.test(m)){const b=arguments[+m.slice(2)];w1(h,m),--p,--g;for(const w in b){const S=b[w];S==null||S===!1||(typeof S=="function"?h[w]=S:w==="style"&&Vh(S)?x1(h[w],S):HO(h,w,S===!0?"":S))}}else if(/^::/.test(y)){const b=arguments[+y.slice(2)];w1(h,m),--p,--g,typeof b=="function"?h[m]=b:x1(h[m],b)}}break}case WO:{if(/^::/.test(h.data)){const v=h.parentNode,p=arguments[+h.data.slice(2)];if(p instanceof Node)v.insertBefore(p,h);else if(typeof p!="string"&&p[Symbol.iterator])if(p instanceof NodeList||p instanceof HTMLCollection)for(let g=p.length-1,m=h;g>=0;--g)m=v.insertBefore(p[g],m);else for(const g of p)g!=null&&v.insertBefore(g instanceof Node?g:document.createTextNode(g),h);else v.insertBefore(document.createTextNode(p),h);d.push(h)}break}}}for(const h of d)h.parentNode.removeChild(h);return t(f)}}function Zi(e){return`&#${e.charCodeAt(0).toString()};`}function $l(e){return BO<=e&&e<=FO||zO<=e&&e<=YO}function Ma(e){return e===OO||e===LO||e===RO||e===IO||e===$O}function Vh(e){return e&&e.toString===Object.prototype.toString}function Ss(e){return e==="script"||e==="style"||JT(e)}function JT(e){return e==="textarea"||e==="title"}function Ts(e,t,r){return e.slice(t,r).toLowerCase()}function HO(e,t,r){if(e.namespaceURI===QT&&(t=t.toLowerCase(),t=jT.get(t)||t,ec.has(t))){e.setAttributeNS(ec.get(t),t,r);return}e.setAttribute(t,r)}function w1(e,t){if(e.namespaceURI===QT&&(t=t.toLowerCase(),t=jT.get(t)||t,ec.has(t))){e.removeAttributeNS(ec.get(t),t);return}e.removeAttribute(t)}function x1(e,t){for(const r in t){const n=t[r];r.startsWith("--")?e.setProperty(r,n):e[r]=n}}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var eE;function de(){return eE.apply(null,arguments)}function GO(e){eE=e}function nn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function wi(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yp(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ve(e,t))return!1;return!0}function ur(e){return e===void 0}function ca(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Zu(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function tE(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function Oa(e,t){for(var r in t)Ve(t,r)&&(e[r]=t[r]);return Ve(t,"toString")&&(e.toString=t.toString),Ve(t,"valueOf")&&(e.valueOf=t.valueOf),e}function On(e,t,r,n){return TE(e,t,r,n,!0).utc()}function XO(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Pe(e){return e._pf==null&&(e._pf=XO()),e._pf}var sg;Array.prototype.some?sg=Array.prototype.some:sg=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function qp(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Pe(e),r=sg.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function ud(e){var t=On(NaN);return e!=null?Oa(Pe(t),e):Pe(t).userInvalidated=!0,t}var _1=de.momentProperties=[],Wh=!1;function Vp(e,t){var r,n,a,i=_1.length;if(ur(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ur(t._i)||(e._i=t._i),ur(t._f)||(e._f=t._f),ur(t._l)||(e._l=t._l),ur(t._strict)||(e._strict=t._strict),ur(t._tzm)||(e._tzm=t._tzm),ur(t._isUTC)||(e._isUTC=t._isUTC),ur(t._offset)||(e._offset=t._offset),ur(t._pf)||(e._pf=Pe(t)),ur(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)n=_1[r],a=t[n],ur(a)||(e[n]=a);return e}function Qu(e){Vp(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Wh===!1&&(Wh=!0,de.updateOffset(this),Wh=!1)}function an(e){return e instanceof Qu||e!=null&&e._isAMomentObject!=null}function rE(e){de.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function zr(e,t){var r=!0;return Oa(function(){if(de.deprecationHandler!=null&&de.deprecationHandler(null,e),r){var n=[],a,i,o,s=arguments.length;for(i=0;i<s;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(o in arguments[0])Ve(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[i];n.push(a)}rE(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var S1={};function nE(e,t){de.deprecationHandler!=null&&de.deprecationHandler(e,t),S1[e]||(rE(t),S1[e]=!0)}de.suppressDeprecationWarnings=!1;de.deprecationHandler=null;function Ln(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function KO(e){var t,r;for(r in e)Ve(e,r)&&(t=e[r],Ln(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ug(e,t){var r=Oa({},e),n;for(n in t)Ve(t,n)&&(wi(e[n])&&wi(t[n])?(r[n]={},Oa(r[n],e[n]),Oa(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Ve(e,n)&&!Ve(t,n)&&wi(e[n])&&(r[n]=Oa({},r[n]));return r}function Wp(e){e!=null&&this.set(e)}var lg;Object.keys?lg=Object.keys:lg=function(e){var t,r=[];for(t in e)Ve(e,t)&&r.push(t);return r};var ZO={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function QO(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Ln(n)?n.call(t,r):n}function Dn(e,t,r){var n=""+Math.abs(e),a=t-n.length,i=e>=0;return(i?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var Up=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Il=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Uh={},yo={};function be(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(yo[e]=a),t&&(yo[t[0]]=function(){return Dn(a.apply(this,arguments),t[1],t[2])}),r&&(yo[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function jO(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function JO(e){var t=e.match(Up),r,n;for(r=0,n=t.length;r<n;r++)yo[t[r]]?t[r]=yo[t[r]]:t[r]=jO(t[r]);return function(a){var i="",o;for(o=0;o<n;o++)i+=Ln(t[o])?t[o].call(a,e):t[o];return i}}function nf(e,t){return e.isValid()?(t=aE(t,e.localeData()),Uh[t]=Uh[t]||JO(t),Uh[t](e)):e.localeData().invalidDate()}function aE(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for(Il.lastIndex=0;r>=0&&Il.test(e);)e=e.replace(Il,n),Il.lastIndex=0,r-=1;return e}var eL={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function tL(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Up).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var rL="Invalid date";function nL(){return this._invalidDate}var aL="%d",iL=/\d{1,2}/;function oL(e){return this._ordinal.replace("%d",e)}var sL={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function uL(e,t,r,n){var a=this._relativeTime[r];return Ln(a)?a(e,t,r,n):a.replace(/%d/i,e)}function lL(e,t){var r=this._relativeTime[e>0?"future":"past"];return Ln(r)?r(t):r.replace(/%s/i,t)}var T1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Yr(e){return typeof e=="string"?T1[e]||T1[e.toLowerCase()]:void 0}function Hp(e){var t={},r,n;for(n in e)Ve(e,n)&&(r=Yr(n),r&&(t[r]=e[n]));return t}var fL={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function cL(e){var t=[],r;for(r in e)Ve(e,r)&&t.push({unit:r,priority:fL[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var iE=/\d/,Sr=/\d\d/,oE=/\d{3}/,Gp=/\d{4}/,ld=/[+-]?\d{6}/,st=/\d\d?/,sE=/\d\d\d\d?/,uE=/\d\d\d\d\d\d?/,fd=/\d{1,3}/,Xp=/\d{1,4}/,cd=/[+-]?\d{1,6}/,Jo=/\d+/,dd=/[+-]?\d+/,dL=/Z|[+-]\d\d:?\d\d/gi,hd=/Z|[+-]\d\d(?::?\d\d)?/gi,hL=/[+-]?\d+(\.\d{1,3})?/,ju=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,es=/^[1-9]\d?/,Kp=/^([1-9]\d|\d)/,rc;rc={};function he(e,t,r){rc[e]=Ln(t)?t:function(n,a){return n&&r?r:t}}function vL(e,t){return Ve(rc,e)?rc[e](t._strict,t._locale):new RegExp(gL(e))}function gL(e){return aa(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,i){return r||n||a||i}))}function aa(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Dr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Re(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Dr(t)),r}var fg={};function je(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),ca(t)&&(n=function(i,o){o[t]=Re(i)}),a=e.length,r=0;r<a;r++)fg[e[r]]=n}function Ju(e,t){je(e,function(r,n,a,i){a._w=a._w||{},t(r,a._w,a,i)})}function pL(e,t,r){t!=null&&Ve(fg,e)&&fg[e](t,r._a,r,e)}function vd(e){return e%4===0&&e%100!==0||e%400===0}var Xt=0,ra=1,wn=2,xt=3,Zr=4,na=5,gi=6,mL=7,yL=8;be("Y",0,0,function(){var e=this.year();return e<=9999?Dn(e,4):"+"+e});be(0,["YY",2],0,function(){return this.year()%100});be(0,["YYYY",4],0,"year");be(0,["YYYYY",5],0,"year");be(0,["YYYYYY",6,!0],0,"year");he("Y",dd);he("YY",st,Sr);he("YYYY",Xp,Gp);he("YYYYY",cd,ld);he("YYYYYY",cd,ld);je(["YYYYY","YYYYYY"],Xt);je("YYYY",function(e,t){t[Xt]=e.length===2?de.parseTwoDigitYear(e):Re(e)});je("YY",function(e,t){t[Xt]=de.parseTwoDigitYear(e)});je("Y",function(e,t){t[Xt]=parseInt(e,10)});function Zs(e){return vd(e)?366:365}de.parseTwoDigitYear=function(e){return Re(e)+(Re(e)>68?1900:2e3)};var lE=ts("FullYear",!0);function bL(){return vd(this.year())}function ts(e,t){return function(r){return r!=null?(fE(this,e,r),de.updateOffset(this,t),this):hu(this,e)}}function hu(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function fE(e,t,r){var n,a,i,o,s;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}i=r,o=e.month(),s=e.date(),s=s===29&&o===1&&!vd(i)?28:s,a?n.setUTCFullYear(i,o,s):n.setFullYear(i,o,s)}}function wL(e){return e=Yr(e),Ln(this[e])?this[e]():this}function xL(e,t){if(typeof e=="object"){e=Hp(e);var r=cL(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=Yr(e),Ln(this[e]))return this[e](t);return this}function _L(e,t){return(e%t+t)%t}var pt;Array.prototype.indexOf?pt=Array.prototype.indexOf:pt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Zp(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=_L(t,12);return e+=(t-r)/12,r===1?vd(e)?29:28:31-r%7%2}be("M",["MM",2],"Mo",function(){return this.month()+1});be("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});be("MMMM",0,0,function(e){return this.localeData().months(this,e)});he("M",st,es);he("MM",st,Sr);he("MMM",function(e,t){return t.monthsShortRegex(e)});he("MMMM",function(e,t){return t.monthsRegex(e)});je(["M","MM"],function(e,t){t[ra]=Re(e)-1});je(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[ra]=a:Pe(r).invalidMonth=e});var SL="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,TL=ju,EL=ju;function ML(e,t){return e?nn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||dE).test(t)?"format":"standalone"][e.month()]:nn(this._months)?this._months:this._months.standalone}function kL(e,t){return e?nn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[dE.test(t)?"format":"standalone"][e.month()]:nn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function CL(e,t,r){var n,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=On([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?t==="MMM"?(a=pt.call(this._shortMonthsParse,o),a!==-1?a:null):(a=pt.call(this._longMonthsParse,o),a!==-1?a:null):t==="MMM"?(a=pt.call(this._shortMonthsParse,o),a!==-1?a:(a=pt.call(this._longMonthsParse,o),a!==-1?a:null)):(a=pt.call(this._longMonthsParse,o),a!==-1?a:(a=pt.call(this._shortMonthsParse,o),a!==-1?a:null))}function DL(e,t,r){var n,a,i;if(this._monthsParseExact)return CL.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=On([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function hE(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Re(t);else if(t=e.localeData().monthsParse(t),!ca(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,Zp(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function vE(e){return e!=null?(hE(this,e),de.updateOffset(this,!0),this):hu(this,"Month")}function AL(){return Zp(this.year(),this.month())}function PL(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||gE.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ve(this,"_monthsShortRegex")||(this._monthsShortRegex=TL),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function NL(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||gE.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ve(this,"_monthsRegex")||(this._monthsRegex=EL),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function gE(){function e(u,l){return l.length-u.length}var t=[],r=[],n=[],a,i,o,s;for(a=0;a<12;a++)i=On([2e3,a]),o=aa(this.monthsShort(i,"")),s=aa(this.months(i,"")),t.push(o),r.push(s),n.push(s),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function OL(e,t,r,n,a,i,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,a,i,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,a,i,o),s}function vu(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function nc(e,t,r){var n=7+t-r,a=(7+vu(e,0,n).getUTCDay()-t)%7;return-a+n-1}function pE(e,t,r,n,a){var i=(7+r-n)%7,o=nc(e,n,a),s=1+7*(t-1)+i+o,u,l;return s<=0?(u=e-1,l=Zs(u)+s):s>Zs(e)?(u=e+1,l=s-Zs(e)):(u=e,l=s),{year:u,dayOfYear:l}}function gu(e,t,r){var n=nc(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,i,o;return a<1?(o=e.year()-1,i=a+ia(o,t,r)):a>ia(e.year(),t,r)?(i=a-ia(e.year(),t,r),o=e.year()+1):(o=e.year(),i=a),{week:i,year:o}}function ia(e,t,r){var n=nc(e,t,r),a=nc(e+1,t,r);return(Zs(e)-n+a)/7}be("w",["ww",2],"wo","week");be("W",["WW",2],"Wo","isoWeek");he("w",st,es);he("ww",st,Sr);he("W",st,es);he("WW",st,Sr);Ju(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Re(e)});function LL(e){return gu(e,this._week.dow,this._week.doy).week}var RL={dow:0,doy:6};function $L(){return this._week.dow}function IL(){return this._week.doy}function BL(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function FL(e){var t=gu(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}be("d",0,"do","day");be("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});be("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});be("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});be("e",0,0,"weekday");be("E",0,0,"isoWeekday");he("d",st);he("e",st);he("E",st);he("dd",function(e,t){return t.weekdaysMinRegex(e)});he("ddd",function(e,t){return t.weekdaysShortRegex(e)});he("dddd",function(e,t){return t.weekdaysRegex(e)});Ju(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:Pe(r).invalidWeekday=e});Ju(["d","e","E"],function(e,t,r,n){t[n]=Re(e)});function zL(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function YL(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Qp(e,t){return e.slice(t,7).concat(e.slice(0,t))}var qL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),VL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),WL=ju,UL=ju,HL=ju;function GL(e,t){var r=nn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Qp(r,this._week.dow):e?r[e.day()]:r}function XL(e){return e===!0?Qp(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function KL(e){return e===!0?Qp(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function ZL(e,t,r){var n,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=On([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?t==="dddd"?(a=pt.call(this._weekdaysParse,o),a!==-1?a:null):t==="ddd"?(a=pt.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=pt.call(this._minWeekdaysParse,o),a!==-1?a:null):t==="dddd"?(a=pt.call(this._weekdaysParse,o),a!==-1||(a=pt.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=pt.call(this._minWeekdaysParse,o),a!==-1?a:null)):t==="ddd"?(a=pt.call(this._shortWeekdaysParse,o),a!==-1||(a=pt.call(this._weekdaysParse,o),a!==-1)?a:(a=pt.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=pt.call(this._minWeekdaysParse,o),a!==-1||(a=pt.call(this._weekdaysParse,o),a!==-1)?a:(a=pt.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function QL(e,t,r){var n,a,i;if(this._weekdaysParseExact)return ZL.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=On([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function jL(e){if(!this.isValid())return e!=null?this:NaN;var t=hu(this,"Day");return e!=null?(e=zL(e,this.localeData()),this.add(e-t,"d")):t}function JL(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function eR(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=YL(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function tR(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||jp.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ve(this,"_weekdaysRegex")||(this._weekdaysRegex=WL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function rR(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||jp.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ve(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=UL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function nR(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||jp.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ve(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=HL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jp(){function e(f,c){return c.length-f.length}var t=[],r=[],n=[],a=[],i,o,s,u,l;for(i=0;i<7;i++)o=On([2e3,1]).day(i),s=aa(this.weekdaysMin(o,"")),u=aa(this.weekdaysShort(o,"")),l=aa(this.weekdays(o,"")),t.push(s),r.push(u),n.push(l),a.push(s),a.push(u),a.push(l);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Jp(){return this.hours()%12||12}function aR(){return this.hours()||24}be("H",["HH",2],0,"hour");be("h",["hh",2],0,Jp);be("k",["kk",2],0,aR);be("hmm",0,0,function(){return""+Jp.apply(this)+Dn(this.minutes(),2)});be("hmmss",0,0,function(){return""+Jp.apply(this)+Dn(this.minutes(),2)+Dn(this.seconds(),2)});be("Hmm",0,0,function(){return""+this.hours()+Dn(this.minutes(),2)});be("Hmmss",0,0,function(){return""+this.hours()+Dn(this.minutes(),2)+Dn(this.seconds(),2)});function yE(e,t){be(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}yE("a",!0);yE("A",!1);function bE(e,t){return t._meridiemParse}he("a",bE);he("A",bE);he("H",st,Kp);he("h",st,es);he("k",st,es);he("HH",st,Sr);he("hh",st,Sr);he("kk",st,Sr);he("hmm",sE);he("hmmss",uE);he("Hmm",sE);he("Hmmss",uE);je(["H","HH"],xt);je(["k","kk"],function(e,t,r){var n=Re(e);t[xt]=n===24?0:n});je(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});je(["h","hh"],function(e,t,r){t[xt]=Re(e),Pe(r).bigHour=!0});je("hmm",function(e,t,r){var n=e.length-2;t[xt]=Re(e.substr(0,n)),t[Zr]=Re(e.substr(n)),Pe(r).bigHour=!0});je("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[xt]=Re(e.substr(0,n)),t[Zr]=Re(e.substr(n,2)),t[na]=Re(e.substr(a)),Pe(r).bigHour=!0});je("Hmm",function(e,t,r){var n=e.length-2;t[xt]=Re(e.substr(0,n)),t[Zr]=Re(e.substr(n))});je("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[xt]=Re(e.substr(0,n)),t[Zr]=Re(e.substr(n,2)),t[na]=Re(e.substr(a))});function iR(e){return(e+"").toLowerCase().charAt(0)==="p"}var oR=/[ap]\.?m?\.?/i,sR=ts("Hours",!0);function uR(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var wE={calendar:ZO,longDateFormat:eL,invalidDate:rL,ordinal:aL,dayOfMonthOrdinalParse:iL,relativeTime:sL,months:SL,monthsShort:cE,week:RL,weekdays:qL,weekdaysMin:VL,weekdaysShort:mE,meridiemParse:oR},ut={},Es={},pu;function lR(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function E1(e){return e&&e.toLowerCase().replace("_","-")}function fR(e){for(var t=0,r,n,a,i;t<e.length;){for(i=E1(e[t]).split("-"),r=i.length,n=E1(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=gd(i.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&lR(i,n)>=r-1)break;r--}t++}return pu}function cR(e){return!!(e&&e.match("^[^/\\\\]*$"))}function gd(e){var t=null,r;if(ut[e]===void 0&&typeof module<"u"&&module&&module.exports&&cR(e))try{t=pu._abbr,r=require,r("./locale/"+e),Ia(t)}catch{ut[e]=null}return ut[e]}function Ia(e,t){var r;return e&&(ur(t)?r=wa(e):r=e0(e,t),r?pu=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),pu._abbr}function e0(e,t){if(t!==null){var r,n=wE;if(t.abbr=e,ut[e]!=null)nE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ut[e]._config;else if(t.parentLocale!=null)if(ut[t.parentLocale]!=null)n=ut[t.parentLocale]._config;else if(r=gd(t.parentLocale),r!=null)n=r._config;else return Es[t.parentLocale]||(Es[t.parentLocale]=[]),Es[t.parentLocale].push({name:e,config:t}),null;return ut[e]=new Wp(ug(n,t)),Es[e]&&Es[e].forEach(function(a){e0(a.name,a.config)}),Ia(e),ut[e]}else return delete ut[e],null}function dR(e,t){if(t!=null){var r,n,a=wE;ut[e]!=null&&ut[e].parentLocale!=null?ut[e].set(ug(ut[e]._config,t)):(n=gd(e),n!=null&&(a=n._config),t=ug(a,t),n==null&&(t.abbr=e),r=new Wp(t),r.parentLocale=ut[e],ut[e]=r),Ia(e)}else ut[e]!=null&&(ut[e].parentLocale!=null?(ut[e]=ut[e].parentLocale,e===Ia()&&Ia(e)):ut[e]!=null&&delete ut[e]);return ut[e]}function wa(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return pu;if(!nn(e)){if(t=gd(e),t)return t;e=[e]}return fR(e)}function hR(){return lg(ut)}function t0(e){var t,r=e._a;return r&&Pe(e).overflow===-2&&(t=r[ra]<0||r[ra]>11?ra:r[wn]<1||r[wn]>Zp(r[Xt],r[ra])?wn:r[xt]<0||r[xt]>24||r[xt]===24&&(r[Zr]!==0||r[na]!==0||r[gi]!==0)?xt:r[Zr]<0||r[Zr]>59?Zr:r[na]<0||r[na]>59?na:r[gi]<0||r[gi]>999?gi:-1,Pe(e)._overflowDayOfYear&&(t<Xt||t>wn)&&(t=wn),Pe(e)._overflowWeeks&&t===-1&&(t=mL),Pe(e)._overflowWeekday&&t===-1&&(t=yL),Pe(e).overflow=t),e}var vR=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gR=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pR=/Z|[+-]\d\d(?::?\d\d)?/,Bl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Hh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mR=/^\/?Date\((-?\d+)/i,yR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xE(e){var t,r,n=e._i,a=vR.exec(n)||gR.exec(n),i,o,s,u,l=Bl.length,f=Hh.length;if(a){for(Pe(e).iso=!0,t=0,r=l;t<r;t++)if(Bl[t][1].exec(a[1])){o=Bl[t][0],i=Bl[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(a[3]){for(t=0,r=f;t<r;t++)if(Hh[t][1].exec(a[3])){s=(a[2]||" ")+Hh[t][0];break}if(s==null){e._isValid=!1;return}}if(!i&&s!=null){e._isValid=!1;return}if(a[4])if(pR.exec(a[4]))u="Z";else{e._isValid=!1;return}e._f=o+(s||"")+(u||""),n0(e)}else e._isValid=!1}function wR(e,t,r,n,a,i){var o=[xR(e),cE.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return i&&o.push(parseInt(i,10)),o}function xR(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function _R(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function SR(e,t,r){if(e){var n=mE.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return Pe(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function TR(e,t,r){if(e)return bR[e];if(t)return 0;var n=parseInt(r,10),a=n%100,i=(n-a)/100;return i*60+a}function _E(e){var t=yR.exec(_R(e._i)),r;if(t){if(r=wR(t[4],t[3],t[2],t[5],t[6],t[7]),!SR(t[1],r,e))return;e._a=r,e._tzm=TR(t[8],t[9],t[10]),e._d=vu.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Pe(e).rfc2822=!0}else e._isValid=!1}function ER(e){var t=mR.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(xE(e),e._isValid===!1)delete e._isValid;else return;if(_E(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:de.createFromInputFallback(e)}de.createFromInputFallback=zr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ao(e,t,r){return e??t??r}function MR(e){var t=new Date(de.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function r0(e){var t,r,n=[],a,i,o;if(!e._d){for(a=MR(e),e._w&&e._a[wn]==null&&e._a[ra]==null&&kR(e),e._dayOfYear!=null&&(o=ao(e._a[Xt],a[Xt]),(e._dayOfYear>Zs(o)||e._dayOfYear===0)&&(Pe(e)._overflowDayOfYear=!0),r=vu(o,0,e._dayOfYear),e._a[ra]=r.getUTCMonth(),e._a[wn]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[xt]===24&&e._a[Zr]===0&&e._a[na]===0&&e._a[gi]===0&&(e._nextDay=!0,e._a[xt]=0),e._d=(e._useUTC?vu:OL).apply(null,n),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[xt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Pe(e).weekdayMismatch=!0)}}function kR(e){var t,r,n,a,i,o,s,u,l;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,r=ao(t.GG,e._a[Xt],gu(ot(),1,4).year),n=ao(t.W,1),a=ao(t.E,1),(a<1||a>7)&&(u=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,l=gu(ot(),i,o),r=ao(t.gg,e._a[Xt],l.year),n=ao(t.w,l.week),t.d!=null?(a=t.d,(a<0||a>6)&&(u=!0)):t.e!=null?(a=t.e+i,(t.e<0||t.e>6)&&(u=!0)):a=i),n<1||n>ia(r,i,o)?Pe(e)._overflowWeeks=!0:u!=null?Pe(e)._overflowWeekday=!0:(s=pE(r,n,a,i,o),e._a[Xt]=s.year,e._dayOfYear=s.dayOfYear)}de.ISO_8601=function(){};de.RFC_2822=function(){};function n0(e){if(e._f===de.ISO_8601){xE(e);return}if(e._f===de.RFC_2822){_E(e);return}e._a=[],Pe(e).empty=!0;var t=""+e._i,r,n,a,i,o,s=t.length,u=0,l,f;for(a=aE(e._f,e._locale).match(Up)||[],f=a.length,r=0;r<f;r++)i=a[r],n=(t.match(vL(i,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&Pe(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),u+=n.length),yo[i]?(n?Pe(e).empty=!1:Pe(e).unusedTokens.push(i),pL(i,n,e)):e._strict&&!n&&Pe(e).unusedTokens.push(i);Pe(e).charsLeftOver=s-u,t.length>0&&Pe(e).unusedInput.push(t),e._a[xt]<=12&&Pe(e).bigHour===!0&&e._a[xt]>0&&(Pe(e).bigHour=void 0),Pe(e).parsedDateParts=e._a.slice(0),Pe(e).meridiem=e._meridiem,e._a[xt]=CR(e._locale,e._a[xt],e._meridiem),l=Pe(e).era,l!==null&&(e._a[Xt]=e._locale.erasConvertYear(l,e._a[Xt])),r0(e),t0(e)}function CR(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function DR(e){var t,r,n,a,i,o,s=!1,u=e._f.length;if(u===0){Pe(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<u;a++)i=0,o=!1,t=Vp({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],n0(t),qp(t)&&(o=!0),i+=Pe(t).charsLeftOver,i+=Pe(t).unusedTokens.length*10,Pe(t).score=i,s?i<n&&(n=i,r=t):(n==null||i<n||o)&&(n=i,r=t,o&&(s=!0));Oa(e,r||t)}function AR(e){if(!e._d){var t=Hp(e._i),r=t.day===void 0?t.date:t.day;e._a=tE([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),r0(e)}}function PR(e){var t=new Qu(t0(SE(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function SE(e){var t=e._i,r=e._f;return e._locale=e._locale||wa(e._l),t===null||r===void 0&&t===""?ud({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),an(t)?new Qu(t0(t)):(Zu(t)?e._d=t:nn(r)?DR(e):r?n0(e):NR(e),qp(e)||(e._d=null),e))}function NR(e){var t=e._i;ur(t)?e._d=new Date(de.now()):Zu(t)?e._d=new Date(t.valueOf()):typeof t=="string"?ER(e):nn(t)?(e._a=tE(t.slice(0),function(r){return parseInt(r,10)}),r0(e)):wi(t)?AR(e):ca(t)?e._d=new Date(t):de.createFromInputFallback(e)}function TE(e,t,r,n,a){var i={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(wi(e)&&Yp(e)||nn(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=r,i._i=e,i._f=t,i._strict=n,PR(i)}function ot(e,t,r,n){return TE(e,t,r,n,!1)}var OR=zr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ud()}),LR=zr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ud()});function EE(e,t){var r,n;if(t.length===1&&nn(t[0])&&(t=t[0]),!t.length)return ot();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function RR(){var e=[].slice.call(arguments,0);return EE("isBefore",e)}function $R(){var e=[].slice.call(arguments,0);return EE("isAfter",e)}var IR=function(){return Date.now?Date.now():+new Date},Ms=["year","quarter","month","week","day","hour","minute","second","millisecond"];function BR(e){var t,r=!1,n,a=Ms.length;for(t in e)if(Ve(e,t)&&!(pt.call(Ms,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[Ms[n]]){if(r)return!1;parseFloat(e[Ms[n]])!==Re(e[Ms[n]])&&(r=!0)}return!0}function FR(){return this._isValid}function zR(){return un(NaN)}function pd(e){var t=Hp(e),r=t.year||0,n=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,f=t.millisecond||0;this._isValid=BR(t),this._milliseconds=+f+l*1e3+u*6e4+s*1e3*60*60,this._days=+o+i*7,this._months=+a+n*3+r*12,this._data={},this._locale=wa(),this._bubble()}function af(e){return e instanceof pd}function cg(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function YR(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,o;for(o=0;o<n;o++)Re(e[o])!==Re(t[o])&&i++;return i+a}function ME(e,t){be(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Dn(~~(r/60),2)+t+Dn(~~r%60,2)})}ME("Z",":");ME("ZZ","");he("Z",hd);he("ZZ",hd);je(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=a0(hd,e)});var qR=/([\+\-]|\d\d)/gi;function a0(e,t){var r=(t||"").match(e),n,a,i;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(qR)||["-",0,0],i=+(a[1]*60)+Re(a[2]),i===0?0:a[0]==="+"?i:-i)}function i0(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(an(e)||Zu(e)?e.valueOf():ot(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),de.updateOffset(r,!1),r):ot(e).local()}function dg(e){return-Math.round(e._d.getTimezoneOffset())}de.updateOffset=function(){};function VR(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=a0(hd,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=dg(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?DE(this,un(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,de.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:dg(this)}function WR(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function UR(e){return this.utcOffset(0,e)}function HR(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dg(this),"m")),this}function GR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=a0(dL,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function XR(e){return this.isValid()?(e=e?ot(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function KR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ZR(){if(!ur(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Vp(e,this),e=SE(e),e._a?(t=e._isUTC?On(e._a):ot(e._a),this._isDSTShifted=this.isValid()&&YR(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function QR(){return this.isValid()?!this._isUTC:!1}function jR(){return this.isValid()?this._isUTC:!1}function kE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var JR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,e$=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function un(e,t){var r=e,n=null,a,i,o;return af(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:ca(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=JR.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:Re(n[wn])*a,h:Re(n[xt])*a,m:Re(n[Zr])*a,s:Re(n[na])*a,ms:Re(cg(n[gi]*1e3))*a}):(n=e$.exec(e))?(a=n[1]==="-"?-1:1,r={y:ii(n[2],a),M:ii(n[3],a),w:ii(n[4],a),d:ii(n[5],a),h:ii(n[6],a),m:ii(n[7],a),s:ii(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=t$(ot(r.from),ot(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new pd(r),af(e)&&Ve(e,"_locale")&&(i._locale=e._locale),af(e)&&Ve(e,"_isValid")&&(i._isValid=e._isValid),i}un.fn=pd.prototype;un.invalid=zR;function ii(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function M1(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function t$(e,t){var r;return e.isValid()&&t.isValid()?(t=i0(t,e),e.isBefore(t)?r=M1(e,t):(r=M1(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function CE(e,t){return function(r,n){var a,i;return n!==null&&!isNaN(+n)&&(nE(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),a=un(r,n),DE(this,a,e),this}}function DE(e,t,r,n){var a=t._milliseconds,i=cg(t._days),o=cg(t._months);e.isValid()&&(n=n??!0,o&&hE(e,hu(e,"Month")+o*r),i&&fE(e,"Date",hu(e,"Date")+i*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&de.updateOffset(e,i||o))}var r$=CE(1,"add"),n$=CE(-1,"subtract");function AE(e){return typeof e=="string"||e instanceof String}function a$(e){return an(e)||Zu(e)||AE(e)||ca(e)||o$(e)||i$(e)||e===null||e===void 0}function i$(e){var t=wi(e)&&!Yp(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,o=n.length;for(a=0;a<o;a+=1)i=n[a],r=r||Ve(e,i);return t&&r}function o$(e){var t=nn(e),r=!1;return t&&(r=e.filter(function(n){return!ca(n)&&AE(e)}).length===0),t&&r}function s$(e){var t=wi(e)&&!Yp(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<n.length;a+=1)i=n[a],r=r||Ve(e,i);return t&&r}function u$(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function l$(e,t){arguments.length===1&&(arguments[0]?a$(arguments[0])?(e=arguments[0],t=void 0):s$(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||ot(),n=i0(r,this).startOf("day"),a=de.calendarFormat(this,n)||"sameElse",i=t&&(Ln(t[a])?t[a].call(this,r):t[a]);return this.format(i||this.localeData().calendar(a,this,ot(r)))}function f$(){return new Qu(this)}function c$(e,t){var r=an(e)?e:ot(e);return this.isValid()&&r.isValid()?(t=Yr(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function d$(e,t){var r=an(e)?e:ot(e);return this.isValid()&&r.isValid()?(t=Yr(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function h$(e,t,r,n){var a=an(e)?e:ot(e),i=an(t)?t:ot(t);return this.isValid()&&a.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(i,r):!this.isAfter(i,r))):!1}function v$(e,t){var r=an(e)?e:ot(e),n;return this.isValid()&&r.isValid()?(t=Yr(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function g$(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function p$(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function m$(e,t,r){var n,a,i;if(!this.isValid())return NaN;if(n=i0(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=Yr(t),t){case"year":i=of(this,n)/12;break;case"month":i=of(this,n);break;case"quarter":i=of(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-a)/864e5;break;case"week":i=(this-n-a)/6048e5;break;default:i=this-n}return r?i:Dr(i)}function of(e,t){if(e.date()<t.date())return-of(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,i;return t-n<0?(a=e.clone().add(r-1,"months"),i=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),i=(t-n)/(a-n)),-(r+i)||0}de.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";de.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function y$(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function b$(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?nf(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ln(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",nf(r,"Z")):nf(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function w$(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(r+n+a+i)}function x$(e){e||(e=this.isUtc()?de.defaultFormatUtc:de.defaultFormat);var t=nf(this,e);return this.localeData().postformat(t)}function _$(e,t){return this.isValid()&&(an(e)&&e.isValid()||ot(e).isValid())?un({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function S$(e){return this.from(ot(),e)}function T$(e,t){return this.isValid()&&(an(e)&&e.isValid()||ot(e).isValid())?un({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function E$(e){return this.to(ot(),e)}function PE(e){var t;return e===void 0?this._locale._abbr:(t=wa(e),t!=null&&(this._locale=t),this)}var NE=zr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function OE(){return this._locale}var ac=1e3,bo=60*ac,ic=60*bo,LE=(365*400+97)*24*ic;function wo(e,t){return(e%t+t)%t}function RE(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-LE:new Date(e,t,r).valueOf()}function $E(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-LE:Date.UTC(e,t,r)}function M$(e){var t,r;if(e=Yr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?$E:RE,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wo(t+(this._isUTC?0:this.utcOffset()*bo),ic);break;case"minute":t=this._d.valueOf(),t-=wo(t,bo);break;case"second":t=this._d.valueOf(),t-=wo(t,ac);break}return this._d.setTime(t),de.updateOffset(this,!0),this}function k$(e){var t,r;if(e=Yr(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?$E:RE,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ic-wo(t+(this._isUTC?0:this.utcOffset()*bo),ic)-1;break;case"minute":t=this._d.valueOf(),t+=bo-wo(t,bo)-1;break;case"second":t=this._d.valueOf(),t+=ac-wo(t,ac)-1;break}return this._d.setTime(t),de.updateOffset(this,!0),this}function C$(){return this._d.valueOf()-(this._offset||0)*6e4}function D$(){return Math.floor(this.valueOf()/1e3)}function A$(){return new Date(this.valueOf())}function P$(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function N$(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function O$(){return this.isValid()?this.toISOString():null}function L$(){return qp(this)}function R$(){return Oa({},Pe(this))}function $$(){return Pe(this).overflow}function I$(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}be("N",0,0,"eraAbbr");be("NN",0,0,"eraAbbr");be("NNN",0,0,"eraAbbr");be("NNNN",0,0,"eraName");be("NNNNN",0,0,"eraNarrow");be("y",["y",1],"yo","eraYear");be("y",["yy",2],0,"eraYear");be("y",["yyy",3],0,"eraYear");be("y",["yyyy",4],0,"eraYear");he("N",o0);he("NN",o0);he("NNN",o0);he("NNNN",X$);he("NNNNN",K$);je(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?Pe(r).era=a:Pe(r).invalidEra=e});he("y",Jo);he("yy",Jo);he("yyy",Jo);he("yyyy",Jo);he("yo",Z$);je(["y","yy","yyy","yyyy"],Xt);je(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Xt]=r._locale.eraYearOrdinalParse(e,a):t[Xt]=parseInt(e,10)});function B$(e,t){var r,n,a,i=this._eras||wa("en")._eras;for(r=0,n=i.length;r<n;++r){switch(typeof i[r].since){case"string":a=de(i[r].since).startOf("day"),i[r].since=a.valueOf();break}switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":a=de(i[r].until).startOf("day").valueOf(),i[r].until=a.valueOf();break}}return i}function F$(e,t,r){var n,a,i=this.eras(),o,s,u;for(e=e.toUpperCase(),n=0,a=i.length;n<a;++n)if(o=i[n].name.toUpperCase(),s=i[n].abbr.toUpperCase(),u=i[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(s===e)return i[n];break;case"NNNN":if(o===e)return i[n];break;case"NNNNN":if(u===e)return i[n];break}else if([o,s,u].indexOf(e)>=0)return i[n]}function z$(e,t){var r=e.since<=e.until?1:-1;return t===void 0?de(e.since).year():de(e.since).year()+(t-e.offset)*r}function Y$(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function q$(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function V$(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function W$(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-de(a[e].since).year())*r+a[e].offset;return this.year()}function U$(e){return Ve(this,"_erasNameRegex")||s0.call(this),e?this._erasNameRegex:this._erasRegex}function H$(e){return Ve(this,"_erasAbbrRegex")||s0.call(this),e?this._erasAbbrRegex:this._erasRegex}function G$(e){return Ve(this,"_erasNarrowRegex")||s0.call(this),e?this._erasNarrowRegex:this._erasRegex}function o0(e,t){return t.erasAbbrRegex(e)}function X$(e,t){return t.erasNameRegex(e)}function K$(e,t){return t.erasNarrowRegex(e)}function Z$(e,t){return t._eraYearOrdinalRegex||Jo}function s0(){var e=[],t=[],r=[],n=[],a,i,o,s,u,l=this.eras();for(a=0,i=l.length;a<i;++a)o=aa(l[a].name),s=aa(l[a].abbr),u=aa(l[a].narrow),t.push(o),e.push(s),r.push(u),n.push(o),n.push(s),n.push(u);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}be(0,["gg",2],0,function(){return this.weekYear()%100});be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function md(e,t){be(0,[e,e.length],0,t)}md("gggg","weekYear");md("ggggg","weekYear");md("GGGG","isoWeekYear");md("GGGGG","isoWeekYear");he("G",dd);he("g",dd);he("GG",st,Sr);he("gg",st,Sr);he("GGGG",Xp,Gp);he("gggg",Xp,Gp);he("GGGGG",cd,ld);he("ggggg",cd,ld);Ju(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Re(e)});Ju(["gg","GG"],function(e,t,r,n){t[n]=de.parseTwoDigitYear(e)});function Q$(e){return IE.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function j$(e){return IE.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function J$(){return ia(this.year(),1,4)}function eI(){return ia(this.isoWeekYear(),1,4)}function tI(){var e=this.localeData()._week;return ia(this.year(),e.dow,e.doy)}function rI(){var e=this.localeData()._week;return ia(this.weekYear(),e.dow,e.doy)}function IE(e,t,r,n,a){var i;return e==null?gu(this,n,a).year:(i=ia(e,n,a),t>i&&(t=i),nI.call(this,e,t,r,n,a))}function nI(e,t,r,n,a){var i=pE(e,t,r,n,a),o=vu(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}be("Q",0,"Qo","quarter");he("Q",iE);je("Q",function(e,t){t[ra]=(Re(e)-1)*3});function aI(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}be("D",["DD",2],"Do","date");he("D",st,es);he("DD",st,Sr);he("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});je(["D","DD"],wn);je("Do",function(e,t){t[wn]=Re(e.match(st)[0])});var BE=ts("Date",!0);be("DDD",["DDDD",3],"DDDo","dayOfYear");he("DDD",fd);he("DDDD",oE);je(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Re(e)});function iI(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}be("m",["mm",2],0,"minute");he("m",st,Kp);he("mm",st,Sr);je(["m","mm"],Zr);var oI=ts("Minutes",!1);be("s",["ss",2],0,"second");he("s",st,Kp);he("ss",st,Sr);je(["s","ss"],na);var sI=ts("Seconds",!1);be("S",0,0,function(){return~~(this.millisecond()/100)});be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});be(0,["SSS",3],0,"millisecond");be(0,["SSSS",4],0,function(){return this.millisecond()*10});be(0,["SSSSS",5],0,function(){return this.millisecond()*100});be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});he("S",fd,iE);he("SS",fd,Sr);he("SSS",fd,oE);var La,FE;for(La="SSSS";La.length<=9;La+="S")he(La,Jo);function uI(e,t){t[gi]=Re(("0."+e)*1e3)}for(La="S";La.length<=9;La+="S")je(La,uI);FE=ts("Milliseconds",!1);be("z",0,0,"zoneAbbr");be("zz",0,0,"zoneName");function lI(){return this._isUTC?"UTC":""}function fI(){return this._isUTC?"Coordinated Universal Time":""}var ae=Qu.prototype;ae.add=r$;ae.calendar=l$;ae.clone=f$;ae.diff=m$;ae.endOf=k$;ae.format=x$;ae.from=_$;ae.fromNow=S$;ae.to=T$;ae.toNow=E$;ae.get=wL;ae.invalidAt=$$;ae.isAfter=c$;ae.isBefore=d$;ae.isBetween=h$;ae.isSame=v$;ae.isSameOrAfter=g$;ae.isSameOrBefore=p$;ae.isValid=L$;ae.lang=NE;ae.locale=PE;ae.localeData=OE;ae.max=LR;ae.min=OR;ae.parsingFlags=R$;ae.set=xL;ae.startOf=M$;ae.subtract=n$;ae.toArray=P$;ae.toObject=N$;ae.toDate=A$;ae.toISOString=b$;ae.inspect=w$;typeof Symbol<"u"&&Symbol.for!=null&&(ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ae.toJSON=O$;ae.toString=y$;ae.unix=D$;ae.valueOf=C$;ae.creationData=I$;ae.eraName=Y$;ae.eraNarrow=q$;ae.eraAbbr=V$;ae.eraYear=W$;ae.year=lE;ae.isLeapYear=bL;ae.weekYear=Q$;ae.isoWeekYear=j$;ae.quarter=ae.quarters=aI;ae.month=vE;ae.daysInMonth=AL;ae.week=ae.weeks=BL;ae.isoWeek=ae.isoWeeks=FL;ae.weeksInYear=tI;ae.weeksInWeekYear=rI;ae.isoWeeksInYear=J$;ae.isoWeeksInISOWeekYear=eI;ae.date=BE;ae.day=ae.days=jL;ae.weekday=JL;ae.isoWeekday=eR;ae.dayOfYear=iI;ae.hour=ae.hours=sR;ae.minute=ae.minutes=oI;ae.second=ae.seconds=sI;ae.millisecond=ae.milliseconds=FE;ae.utcOffset=VR;ae.utc=UR;ae.local=HR;ae.parseZone=GR;ae.hasAlignedHourOffset=XR;ae.isDST=KR;ae.isLocal=QR;ae.isUtcOffset=jR;ae.isUtc=kE;ae.isUTC=kE;ae.zoneAbbr=lI;ae.zoneName=fI;ae.dates=zr("dates accessor is deprecated. Use date instead.",BE);ae.months=zr("months accessor is deprecated. Use month instead",vE);ae.years=zr("years accessor is deprecated. Use year instead",lE);ae.zone=zr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",WR);ae.isDSTShifted=zr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ZR);function cI(e){return ot(e*1e3)}function dI(){return ot.apply(null,arguments).parseZone()}function zE(e){return e}var Ue=Wp.prototype;Ue.calendar=QO;Ue.longDateFormat=tL;Ue.invalidDate=nL;Ue.ordinal=oL;Ue.preparse=zE;Ue.postformat=zE;Ue.relativeTime=uL;Ue.pastFuture=lL;Ue.set=KO;Ue.eras=B$;Ue.erasParse=F$;Ue.erasConvertYear=z$;Ue.erasAbbrRegex=H$;Ue.erasNameRegex=U$;Ue.erasNarrowRegex=G$;Ue.months=ML;Ue.monthsShort=kL;Ue.monthsParse=DL;Ue.monthsRegex=NL;Ue.monthsShortRegex=PL;Ue.week=LL;Ue.firstDayOfYear=IL;Ue.firstDayOfWeek=$L;Ue.weekdays=GL;Ue.weekdaysMin=KL;Ue.weekdaysShort=XL;Ue.weekdaysParse=QL;Ue.weekdaysRegex=tR;Ue.weekdaysShortRegex=rR;Ue.weekdaysMinRegex=nR;Ue.isPM=iR;Ue.meridiem=uR;function oc(e,t,r,n){var a=wa(),i=On().set(n,t);return a[r](i,e)}function YE(e,t,r){if(ca(e)&&(t=e,e=void 0),e=e||"",t!=null)return oc(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=oc(e,n,r,"month");return a}function u0(e,t,r,n){typeof e=="boolean"?(ca(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,ca(t)&&(r=t,t=void 0),t=t||"");var a=wa(),i=e?a._week.dow:0,o,s=[];if(r!=null)return oc(t,(r+i)%7,n,"day");for(o=0;o<7;o++)s[o]=oc(t,(o+i)%7,n,"day");return s}function hI(e,t){return YE(e,t,"months")}function vI(e,t){return YE(e,t,"monthsShort")}function gI(e,t,r){return u0(e,t,r,"weekdays")}function pI(e,t,r){return u0(e,t,r,"weekdaysShort")}function mI(e,t,r){return u0(e,t,r,"weekdaysMin")}Ia("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Re(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});de.lang=zr("moment.lang is deprecated. Use moment.locale instead.",Ia);de.langData=zr("moment.langData is deprecated. Use moment.localeData instead.",wa);var Wn=Math.abs;function yI(){var e=this._data;return this._milliseconds=Wn(this._milliseconds),this._days=Wn(this._days),this._months=Wn(this._months),e.milliseconds=Wn(e.milliseconds),e.seconds=Wn(e.seconds),e.minutes=Wn(e.minutes),e.hours=Wn(e.hours),e.months=Wn(e.months),e.years=Wn(e.years),this}function qE(e,t,r,n){var a=un(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function bI(e,t){return qE(this,e,t,1)}function wI(e,t){return qE(this,e,t,-1)}function k1(e){return e<0?Math.floor(e):Math.ceil(e)}function xI(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,i,o,s,u;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=k1(hg(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=Dr(e/1e3),n.seconds=a%60,i=Dr(a/60),n.minutes=i%60,o=Dr(i/60),n.hours=o%24,t+=Dr(o/24),u=Dr(VE(t)),r+=u,t-=k1(hg(u)),s=Dr(r/12),r%=12,n.days=t,n.months=r,n.years=s,this}function VE(e){return e*4800/146097}function hg(e){return e*146097/4800}function _I(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=Yr(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+VE(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(hg(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function xa(e){return function(){return this.as(e)}}var WE=xa("ms"),SI=xa("s"),TI=xa("m"),EI=xa("h"),MI=xa("d"),kI=xa("w"),CI=xa("M"),DI=xa("Q"),AI=xa("y"),PI=WE;function NI(){return un(this)}function OI(e){return e=Yr(e),this.isValid()?this[e+"s"]():NaN}function Wi(e){return function(){return this.isValid()?this._data[e]:NaN}}var LI=Wi("milliseconds"),RI=Wi("seconds"),$I=Wi("minutes"),II=Wi("hours"),BI=Wi("days"),FI=Wi("months"),zI=Wi("years");function YI(){return Dr(this.days()/7)}var Xn=Math.round,uo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qI(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function VI(e,t,r,n){var a=un(e).abs(),i=Xn(a.as("s")),o=Xn(a.as("m")),s=Xn(a.as("h")),u=Xn(a.as("d")),l=Xn(a.as("M")),f=Xn(a.as("w")),c=Xn(a.as("y")),d=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||u<=1&&["d"]||u<r.d&&["dd",u];return r.w!=null&&(d=d||f<=1&&["w"]||f<r.w&&["ww",f]),d=d||l<=1&&["M"]||l<r.M&&["MM",l]||c<=1&&["y"]||["yy",c],d[2]=t,d[3]=+e>0,d[4]=n,qI.apply(null,d)}function WI(e){return e===void 0?Xn:typeof e=="function"?(Xn=e,!0):!1}function UI(e,t){return uo[e]===void 0?!1:t===void 0?uo[e]:(uo[e]=t,e==="s"&&(uo.ss=t-1),!0)}function HI(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=uo,a,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},uo,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),i=VI(this,!r,n,a),r&&(i=a.pastFuture(+this,i)),a.postformat(i)}var Gh=Math.abs;function Qi(e){return(e>0)-(e<0)||+e}function yd(){if(!this.isValid())return this.localeData().invalidDate();var e=Gh(this._milliseconds)/1e3,t=Gh(this._days),r=Gh(this._months),n,a,i,o,s=this.asSeconds(),u,l,f,c;return s?(n=Dr(e/60),a=Dr(n/60),e%=60,n%=60,i=Dr(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=s<0?"-":"",l=Qi(this._months)!==Qi(s)?"-":"",f=Qi(this._days)!==Qi(s)?"-":"",c=Qi(this._milliseconds)!==Qi(s)?"-":"",u+"P"+(i?l+i+"Y":"")+(r?l+r+"M":"")+(t?f+t+"D":"")+(a||n||e?"T":"")+(a?c+a+"H":"")+(n?c+n+"M":"")+(e?c+o+"S":"")):"P0D"}var Ie=pd.prototype;Ie.isValid=FR;Ie.abs=yI;Ie.add=bI;Ie.subtract=wI;Ie.as=_I;Ie.asMilliseconds=WE;Ie.asSeconds=SI;Ie.asMinutes=TI;Ie.asHours=EI;Ie.asDays=MI;Ie.asWeeks=kI;Ie.asMonths=CI;Ie.asQuarters=DI;Ie.asYears=AI;Ie.valueOf=PI;Ie._bubble=xI;Ie.clone=NI;Ie.get=OI;Ie.milliseconds=LI;Ie.seconds=RI;Ie.minutes=$I;Ie.hours=II;Ie.days=BI;Ie.weeks=YI;Ie.months=FI;Ie.years=zI;Ie.humanize=HI;Ie.toISOString=yd;Ie.toString=yd;Ie.toJSON=yd;Ie.locale=PE;Ie.localeData=OE;Ie.toIsoString=zr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yd);Ie.lang=NE;be("X",0,0,"unix");be("x",0,0,"valueOf");he("x",dd);he("X",hL);je("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});je("x",function(e,t,r){r._d=new Date(Re(e))});//! moment.js
de.version="2.30.1";GO(ot);de.fn=ae;de.min=RR;de.max=$R;de.now=IR;de.utc=On;de.unix=cI;de.months=hI;de.isDate=Zu;de.locale=Ia;de.invalid=ud;de.duration=un;de.isMoment=an;de.weekdays=gI;de.parseZone=dI;de.localeData=wa;de.isDuration=af;de.monthsShort=vI;de.weekdaysMin=mI;de.defineLocale=e0;de.updateLocale=dR;de.locales=hR;de.weekdaysShort=pI;de.normalizeUnits=Yr;de.relativeTimeRounding=WI;de.relativeTimeThreshold=UI;de.calendarFormat=u$;de.prototype=ae;de.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function UE({width:e,height:t,data:r,color:n=mn.violet[700],opacity:a=.5}){const i=fr.useRef(null);return fr.useEffect(()=>{var s;const o=rd([()=>NO`<defs>
        <linearGradient id="gradient" gradientTransform="rotate(90)">
          <stop offset="20%" stop-color="${n}" stop-opacity="0.5" />
          <stop offset="100%" stop-color="${n}" stop-opacity="0" />
        </linearGradient>
      </defs>`,id([0]),XT(r,{x:u=>new Date(u.date),y:"amount",fill:"url(#gradient)",opacity:a}),KT(r,{x:u=>new Date(u.date),y:"amount",stroke:n,marker:"dot",channels:{amount:{label:"Amount",value:"amount"},date:{label:"",value:"date"}},tip:{stroke:mn.slate[700],fill:mn.slate[800],fillOpacity:.9,format:{x:!1,y:!1,date:u=>de(u).format("D MMMM, YYYY"),amount:u=>u.toLocaleString("en-AU",{style:"currency",currency:"AUD"})}}})]).plot({width:e,height:t,marginLeft:50,y:{grid:!0}});return(s=i.current)==null||s.append(o),()=>o.remove()},[n,r,t,a,e]),mt.jsx("div",{ref:i,className:"h-full w-full"})}UE.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV2",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Plot.Data"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"twColors.violet[700]",computed:!0}},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};function GI({data:e}){return mt.jsx(bc,{children:({width:t,height:r})=>mt.jsx(UE,{width:t,height:r,data:e})})}GI.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV2",props:{data:{required:!0,tsType:{name:"Plot.Data"},description:""}}};function St(e){"@babel/helpers - typeof";return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(e)}function l0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f0(e,t,r){return t&&XI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ur(e,t){return KI(e)||ZI(e,t)||GE(e,t)||QI()}function KI(e){if(Array.isArray(e))return e}function ZI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function GE(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XE(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=GE(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var wt=typeof window>"u"?null:window,D1=wt?wt.navigator:null;wt&&wt.document;var jI=St(""),KE=St({}),JI=St(function(){}),eB=typeof HTMLElement>"u"?"undefined":St(HTMLElement),el=function(t){return t&&t.instanceString&&ft(t.instanceString)?t.instanceString():null},ye=function(t){return t!=null&&St(t)==jI},ft=function(t){return t!=null&&St(t)===JI},Je=function(t){return!wr(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Fe=function(t){return t!=null&&St(t)===KE&&!Je(t)&&t.constructor===Object},tB=function(t){return t!=null&&St(t)===KE},fe=function(t){return t!=null&&St(t)===St(1)&&!isNaN(t)},rB=function(t){return fe(t)&&Math.floor(t)===t},sc=function(t){if(eB!=="undefined")return t!=null&&t instanceof HTMLElement},wr=function(t){return tl(t)||ZE(t)},tl=function(t){return el(t)==="collection"&&t._private.single},ZE=function(t){return el(t)==="collection"&&!t._private.single},c0=function(t){return el(t)==="core"},QE=function(t){return el(t)==="stylesheet"},nB=function(t){return el(t)==="event"},Ua=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},aB=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},iB=function(t){return Fe(t)&&fe(t.x1)&&fe(t.x2)&&fe(t.y1)&&fe(t.y2)},oB=function(t){return tB(t)&&ft(t.then)},sB=function(){return D1&&D1.userAgent.match(/msie|trident|edge/i)},mu=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var i=this,o=arguments,s,u=r.apply(i,o),l=a.cache;return(s=l[u])||(s=l[u]=t.apply(i,o)),s};return n.cache={},n},d0=mu(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),bd=mu(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),jE=mu(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),A1=function(t){return Ua(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},_t="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",uB="rgb[a]?\\(("+_t+"[%]?)\\s*,\\s*("+_t+"[%]?)\\s*,\\s*("+_t+"[%]?)(?:\\s*,\\s*("+_t+"))?\\)",lB="rgb[a]?\\((?:"+_t+"[%]?)\\s*,\\s*(?:"+_t+"[%]?)\\s*,\\s*(?:"+_t+"[%]?)(?:\\s*,\\s*(?:"+_t+"))?\\)",fB="hsl[a]?\\(("+_t+")\\s*,\\s*("+_t+"[%])\\s*,\\s*("+_t+"[%])(?:\\s*,\\s*("+_t+"))?\\)",cB="hsl[a]?\\((?:"+_t+")\\s*,\\s*(?:"+_t+"[%])\\s*,\\s*(?:"+_t+"[%])(?:\\s*,\\s*(?:"+_t+"))?\\)",dB="\\#[0-9a-fA-F]{3}",hB="\\#[0-9a-fA-F]{6}",JE=function(t,r){return t<r?-1:t>r?1:0},vB=function(t,r){return-1*JE(t,r)},we=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];e[o]=n[o]}}return e},gB=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,a,i,o=16;return r?(n=parseInt(t[1]+t[1],o),a=parseInt(t[2]+t[2],o),i=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),a=parseInt(t[3]+t[4],o),i=parseInt(t[5]+t[6],o)),[n,a,i]}},pB=function(t){var r,n,a,i,o,s,u,l;function f(v,p,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?v+(p-v)*6*g:g<1/2?p:g<2/3?v+(p-v)*(2/3-g)*6:v}var c=new RegExp("^"+fB+"$").exec(t);if(c){if(n=parseInt(c[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(c[2]),a<0||a>100||(a=a/100,i=parseFloat(c[3]),i<0||i>100)||(i=i/100,o=c[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=u=l=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,h=2*i-d;s=Math.round(255*f(h,d,n+1/3)),u=Math.round(255*f(h,d,n)),l=Math.round(255*f(h,d,n-1/3))}r=[s,u,l,o]}return r},mB=function(t){var r,n=new RegExp("^"+uB+"$").exec(t);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},yB=function(t){return wB[t.toLowerCase()]},bB=function(t){return(Je(t)?t:null)||yB(t)||gB(t)||mB(t)||pB(t)},wB={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},e5=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Fe(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},t5=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Fe(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r};function xB(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pi=xB,Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _B(e,t){return t={exports:{}},e(t,t.exports),t.exports}var SB=typeof Ys=="object"&&Ys&&Ys.Object===Object&&Ys,TB=SB,EB=typeof self=="object"&&self&&self.Object===Object&&self,MB=TB||EB||Function("return this")(),wd=MB,kB=function(){return wd.Date.now()},Xh=kB,CB=/\s/;function DB(e){for(var t=e.length;t--&&CB.test(e.charAt(t)););return t}var AB=DB,PB=/^\s+/;function NB(e){return e&&e.slice(0,AB(e)+1).replace(PB,"")}var OB=NB,LB=wd.Symbol,Vo=LB,r5=Object.prototype,RB=r5.hasOwnProperty,$B=r5.toString,ks=Vo?Vo.toStringTag:void 0;function IB(e){var t=RB.call(e,ks),r=e[ks];try{e[ks]=void 0;var n=!0}catch{}var a=$B.call(e);return n&&(t?e[ks]=r:delete e[ks]),a}var BB=IB,FB=Object.prototype,zB=FB.toString;function YB(e){return zB.call(e)}var qB=YB,VB="[object Null]",WB="[object Undefined]",P1=Vo?Vo.toStringTag:void 0;function UB(e){return e==null?e===void 0?WB:VB:P1&&P1 in Object(e)?BB(e):qB(e)}var n5=UB;function HB(e){return e!=null&&typeof e=="object"}var GB=HB,XB="[object Symbol]";function KB(e){return typeof e=="symbol"||GB(e)&&n5(e)==XB}var rl=KB,N1=NaN,ZB=/^[-+]0x[0-9a-f]+$/i,QB=/^0b[01]+$/i,jB=/^0o[0-7]+$/i,JB=parseInt;function eF(e){if(typeof e=="number")return e;if(rl(e))return N1;if(Pi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=OB(e);var r=QB.test(e);return r||jB.test(e)?JB(e.slice(2),r?2:8):ZB.test(e)?N1:+e}var O1=eF,tF="Expected a function",rF=Math.max,nF=Math.min;function aF(e,t,r){var n,a,i,o,s,u,l=0,f=!1,c=!1,d=!0;if(typeof e!="function")throw new TypeError(tF);t=O1(t)||0,Pi(r)&&(f=!!r.leading,c="maxWait"in r,i=c?rF(O1(r.maxWait)||0,t):i,d="trailing"in r?!!r.trailing:d);function h(_){var x=n,E=a;return n=a=void 0,l=_,o=e.apply(E,x),o}function v(_){return l=_,s=setTimeout(m,t),f?h(_):o}function p(_){var x=_-u,E=_-l,T=t-x;return c?nF(T,i-E):T}function g(_){var x=_-u,E=_-l;return u===void 0||x>=t||x<0||c&&E>=i}function m(){var _=Xh();if(g(_))return y(_);s=setTimeout(m,p(_))}function y(_){return s=void 0,d&&n?h(_):(n=a=void 0,o)}function b(){s!==void 0&&clearTimeout(s),l=0,n=u=a=s=void 0}function w(){return s===void 0?o:y(Xh())}function S(){var _=Xh(),x=g(_);if(n=arguments,a=this,u=_,x){if(s===void 0)return v(u);if(c)return clearTimeout(s),s=setTimeout(m,t),h(u)}return s===void 0&&(s=setTimeout(m,t)),o}return S.cancel=b,S.flush=w,S}var xd=aF,Kh=wt?wt.performance:null,a5=Kh&&Kh.now?function(){return Kh.now()}:function(){return Date.now()},iF=function(){if(wt){if(wt.requestAnimationFrame)return function(e){wt.requestAnimationFrame(e)};if(wt.mozRequestAnimationFrame)return function(e){wt.mozRequestAnimationFrame(e)};if(wt.webkitRequestAnimationFrame)return function(e){wt.webkitRequestAnimationFrame(e)};if(wt.msRequestAnimationFrame)return function(e){wt.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(a5())},1e3/60)}}(),uc=function(t){return iF(t)},da=a5,lo=9261,i5=65599,qs=5381,o5=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lo,n=r,a;a=t.next(),!a.done;)n=n*i5+a.value|0;return n},yu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lo;return r*i5+t|0},bu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qs;return(r<<5)+r+t|0},oF=function(t,r){return t*2097152+r},ka=function(t){return t[0]*2097152+t[1]},Fl=function(t,r){return[yu(t[0],r[0]),bu(t[1],r[1])]},sF=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t[a++]:n.done=!0,n}};return o5(o,r)},Ni=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t.charCodeAt(a++):n.done=!0,n}};return o5(o,r)},s5=function(){return uF(arguments)},uF=function(t){for(var r,n=0;n<t.length;n++){var a=t[n];n===0?r=Ni(a):r=Ni(a,r)}return r},L1=!0,lF=console.warn!=null,fF=console.trace!=null,h0=Number.MAX_SAFE_INTEGER||9007199254740991,u5=function(){return!0},lc=function(){return!1},R1=function(){return 0},v0=function(){},vt=function(t){throw new Error(t)},l5=function(t){if(t!==void 0)L1=!!t;else return L1},Ke=function(t){l5()&&(lF?console.warn(t):(console.log(t),fF&&console.trace()))},cF=function(t){return we({},t)},_n=function(t){return t==null?t:Je(t)?t.slice():Fe(t)?cF(t):t},dF=function(t){return t.slice()},f5=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},hF={},c5=function(){return hF},qt=function(t){var r=Object.keys(t);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],s=n==null?void 0:n[o];a[o]=s===void 0?t[o]:s}return a}},Ha=function(t,r,n){for(var a=t.length-1;a>=0;a--)t[a]===r&&t.splice(a,1)},g0=function(t){t.splice(0,t.length)},vF=function(t,r){for(var n=0;n<r.length;n++){var a=r[n];t.push(a)}},Gr=function(t,r,n){return n&&(r=jE(n,r)),t[r]},Aa=function(t,r,n,a){n&&(r=jE(n,r)),t[r]=a},gF=function(){function e(){l0(this,e),this._obj={}}return f0(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),e}(),Sn=typeof Map<"u"?Map:gF,pF="undefined",mF=function(){function e(t){if(l0(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return f0(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),e}(),rs=(typeof Set>"u"?"undefined":St(Set))!==pF?Set:mF,_d=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!c0(t)){vt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){vt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new rs,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=t.pan(),u=t.zoom();i.position={x:(o.x-s.x)/u,y:(o.y-s.y)/u}}var l=[];Je(r.classes)?l=r.classes:ye(r.classes)&&(l=r.classes.split(/\s+/));for(var f=0,c=l.length;f<c;f++){var d=l[f];!d||d===""||i.classes.add(d)}this.createEmitter();var h=r.style||r.css;h&&(Ke("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h)),(n===void 0||n)&&this.restore()},$1=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,a,i){var o;Fe(n)&&!wr(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!ft(a)?a:i,a=ft(a)?a:function(){};for(var s=this._private.cy,u=n=ye(n)?this.filter(n):n,l=[],f=[],c={},d={},h={},v=0,p,g=this.byGroup(),m=g.nodes,y=g.edges,b=0;b<u.length;b++){var w=u[b],S=w.id();w.isNode()&&(l.unshift(w),t.bfs&&(h[S]=!0,f.push(w)),d[S]=0)}for(var _=function(){var P=t.bfs?l.shift():l.pop(),C=P.id();if(t.dfs){if(h[C])return"continue";h[C]=!0,f.push(P)}var A=d[C],O=c[C],L=O!=null?O.source():null,$=O!=null?O.target():null,z=O==null?void 0:P.same(L)?$[0]:L[0],F=void 0;if(F=a(P,O,z,v++,A),F===!0)return p=P,"break";if(F===!1)return"break";for(var I=P.connectedEdges().filter(function(Q){return(!i||Q.source().same(P))&&y.has(Q)}),B=0;B<I.length;B++){var V=I[B],K=V.connectedNodes().filter(function(Q){return!Q.same(P)&&m.has(Q)}),j=K.id();K.length!==0&&!h[j]&&(K=K[0],l.push(K),t.bfs&&(h[j]=!0,f.push(K)),c[j]=V,d[j]=d[C]+1)}};l.length!==0;){var x=_();if(x!=="continue"&&x==="break")break}for(var E=s.collection(),T=0;T<f.length;T++){var k=f[T],M=c[k.id()];M!=null&&E.push(M),E.push(k)}return{path:s.collection(E),found:s.collection(p)}}},wu={breadthFirstSearch:$1({bfs:!0}),depthFirstSearch:$1({dfs:!0})};wu.bfs=wu.breadthFirstSearch;wu.dfs=wu.depthFirstSearch;var yF=_B(function(e,t){(function(){var r,n,a,i,o,s,u,l,f,c,d,h,v,p,g;a=Math.floor,c=Math.min,n=function(m,y){return m<y?-1:m>y?1:0},f=function(m,y,b,w,S){var _;if(b==null&&(b=0),S==null&&(S=n),b<0)throw new Error("lo must be non-negative");for(w==null&&(w=m.length);b<w;)_=a((b+w)/2),S(y,m[_])<0?w=_:b=_+1;return[].splice.apply(m,[b,b-b].concat(y)),y},s=function(m,y,b){return b==null&&(b=n),m.push(y),p(m,0,m.length-1,b)},o=function(m,y){var b,w;return y==null&&(y=n),b=m.pop(),m.length?(w=m[0],m[0]=b,g(m,0,y)):w=b,w},l=function(m,y,b){var w;return b==null&&(b=n),w=m[0],m[0]=y,g(m,0,b),w},u=function(m,y,b){var w;return b==null&&(b=n),m.length&&b(m[0],y)<0&&(w=[m[0],y],y=w[0],m[0]=w[1],g(m,0,b)),y},i=function(m,y){var b,w,S,_,x,E;for(y==null&&(y=n),_=(function(){E=[];for(var T=0,k=a(m.length/2);0<=k?T<k:T>k;0<=k?T++:T--)E.push(T);return E}).apply(this).reverse(),x=[],w=0,S=_.length;w<S;w++)b=_[w],x.push(g(m,b,y));return x},v=function(m,y,b){var w;if(b==null&&(b=n),w=m.indexOf(y),w!==-1)return p(m,0,w,b),g(m,w,b)},d=function(m,y,b){var w,S,_,x,E;if(b==null&&(b=n),S=m.slice(0,y),!S.length)return S;for(i(S,b),E=m.slice(y),_=0,x=E.length;_<x;_++)w=E[_],u(S,w,b);return S.sort(b).reverse()},h=function(m,y,b){var w,S,_,x,E,T,k,M,D;if(b==null&&(b=n),y*10<=m.length){if(_=m.slice(0,y).sort(b),!_.length)return _;for(S=_[_.length-1],k=m.slice(y),x=0,T=k.length;x<T;x++)w=k[x],b(w,S)<0&&(f(_,w,0,null,b),_.pop(),S=_[_.length-1]);return _}for(i(m,b),D=[],E=0,M=c(y,m.length);0<=M?E<M:E>M;0<=M?++E:--E)D.push(o(m,b));return D},p=function(m,y,b,w){var S,_,x;for(w==null&&(w=n),S=m[b];b>y;){if(x=b-1>>1,_=m[x],w(S,_)<0){m[b]=_,b=x;continue}break}return m[b]=S},g=function(m,y,b){var w,S,_,x,E;for(b==null&&(b=n),S=m.length,E=y,_=m[y],w=2*y+1;w<S;)x=w+1,x<S&&!(b(m[w],m[x])<0)&&(w=x),m[y]=m[w],y=w,w=2*y+1;return m[y]=_,p(m,E,y,b)},r=function(){m.push=s,m.pop=o,m.replace=l,m.pushpop=u,m.heapify=i,m.updateItem=v,m.nlargest=d,m.nsmallest=h;function m(y){this.cmp=y??n,this.nodes=[]}return m.prototype.push=function(y){return s(this.nodes,y,this.cmp)},m.prototype.pop=function(){return o(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},m.prototype.replace=function(y){return l(this.nodes,y,this.cmp)},m.prototype.pushpop=function(y){return u(this.nodes,y,this.cmp)},m.prototype.heapify=function(){return i(this.nodes,this.cmp)},m.prototype.updateItem=function(y){return v(this.nodes,y,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var y;return y=new m,y.nodes=this.nodes.slice(0),y},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),function(m,y){return e.exports=y()}(this,function(){return r})}).call(Ys)}),nl=yF,bF=qt({root:null,weight:function(t){return 1},directed:!1}),wF={dijkstra:function(t){if(!Fe(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=bF(t),a=n.root,i=n.weight,o=n.directed,s=this,u=i,l=ye(a)?this.filter(a)[0]:a[0],f={},c={},d={},h=this.byGroup(),v=h.nodes,p=h.edges;p.unmergeBy(function(A){return A.isLoop()});for(var g=function(O){return f[O.id()]},m=function(O,L){f[O.id()]=L,y.updateItem(O)},y=new nl(function(A,O){return g(A)-g(O)}),b=0;b<v.length;b++){var w=v[b];f[w.id()]=w.same(l)?0:1/0,y.push(w)}for(var S=function(O,L){for(var $=(o?O.edgesTo(L):O.edgesWith(L)).intersect(p),z=1/0,F,I=0;I<$.length;I++){var B=$[I],V=u(B);(V<z||!F)&&(z=V,F=B)}return{edge:F,dist:z}};y.size()>0;){var _=y.pop(),x=g(_),E=_.id();if(d[E]=x,x!==1/0)for(var T=_.neighborhood().intersect(v),k=0;k<T.length;k++){var M=T[k],D=M.id(),P=S(_,M),C=x+P.dist;C<g(M)&&(m(M,C),c[D]={node:_,edge:P.edge})}}return{distanceTo:function(O){var L=ye(O)?v.filter(O)[0]:O[0];return d[L.id()]},pathTo:function(O){var L=ye(O)?v.filter(O)[0]:O[0],$=[],z=L,F=z.id();if(L.length>0)for($.unshift(L);c[F];){var I=c[F];$.unshift(I.edge),$.unshift(I.node),z=I.node,F=z.id()}return s.spawn($)}}}},xF={kruskal:function(t){t=t||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),s=n,u=function(w){for(var S=0;S<o.length;S++){var _=o[S];if(_.has(w))return S}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var f=a.sort(function(b,w){return t(b)-t(w)}),c=0;c<f.length;c++){var d=f[c],h=d.source()[0],v=d.target()[0],p=u(h),g=u(v),m=o[p],y=o[g];p!==g&&(s.merge(d),m.merge(y),o.splice(g,1))}return s}},_F=qt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),SF={aStar:function(t){var r=this.cy(),n=_F(t),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),f=i.id(),c={},d={},h={},v=new nl(function(F,I){return d[F.id()]-d[I.id()]}),p=new rs,g={},m={},y=function(I,B){v.push(I),p.add(B)},b,w,S=function(){b=v.pop(),w=b.id(),p.delete(w)},_=function(I){return p.has(I)};y(a,l),c[l]=0,d[l]=o(a);for(var x=0;v.size()>0;){if(S(),x++,w===f){for(var E=[],T=i,k=f,M=m[k];E.unshift(T),M!=null&&E.unshift(M),T=g[k],T!=null;)k=T.id(),M=m[k];return{found:!0,distance:c[w],path:this.spawn(E),steps:x}}h[w]=!0;for(var D=b._private.edges,P=0;P<D.length;P++){var C=D[P];if(this.hasElementWithId(C.id())&&!(s&&C.data("source")!==w)){var A=C.source(),O=C.target(),L=A.id()!==w?A:O,$=L.id();if(this.hasElementWithId($)&&!h[$]){var z=c[w]+u(C);if(!_($)){c[$]=z,d[$]=z+o(L),y(L,$),g[$]=b,m[$]=C;continue}z<c[$]&&(c[$]=z,d[$]=z+o(L),g[$]=b,m[$]=C)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},TF=qt({weight:function(t){return 1},directed:!1}),EF={floydWarshall:function(t){for(var r=this.cy(),n=TF(t),a=n.weight,i=n.directed,o=a,s=this.byGroup(),u=s.nodes,l=s.edges,f=u.length,c=f*f,d=function(V){return u.indexOf(V)},h=function(V){return u[V]},v=new Array(c),p=0;p<c;p++){var g=p%f,m=(p-g)/f;m===g?v[p]=0:v[p]=1/0}for(var y=new Array(c),b=new Array(c),w=0;w<l.length;w++){var S=l[w],_=S.source()[0],x=S.target()[0];if(_!==x){var E=d(_),T=d(x),k=E*f+T,M=o(S);if(v[k]>M&&(v[k]=M,y[k]=T,b[k]=S),!i){var D=T*f+E;!i&&v[D]>M&&(v[D]=M,y[D]=E,b[D]=S)}}}for(var P=0;P<f;P++)for(var C=0;C<f;C++)for(var A=C*f+P,O=0;O<f;O++){var L=C*f+O,$=P*f+O;v[A]+v[$]<v[L]&&(v[L]=v[A]+v[$],y[L]=y[A])}var z=function(V){return(ye(V)?r.filter(V):V)[0]},F=function(V){return d(z(V))},I={distance:function(V,K){var j=F(V),Q=F(K);return v[j*f+Q]},path:function(V,K){var j=F(V),Q=F(K),X=h(j);if(j===Q)return X.collection();if(y[j*f+Q]==null)return r.collection();var W=r.collection(),R=j,q;for(W.merge(X);j!==Q;)R=j,j=y[j*f+Q],q=b[R*f+j],W.merge(q),W.merge(h(j));return W}};return I}},MF=qt({weight:function(t){return 1},directed:!1,root:null}),kF={bellmanFord:function(t){var r=this,n=MF(t),a=n.weight,i=n.directed,o=n.root,s=a,u=this,l=this.cy(),f=this.byGroup(),c=f.edges,d=f.nodes,h=d.length,v=new Sn,p=!1,g=[];o=l.collection(o)[0],c.unmergeBy(function(ue){return ue.isLoop()});for(var m=c.length,y=function(le){var ge=v.get(le.id());return ge||(ge={},v.set(le.id(),ge)),ge},b=function(le){return(ye(le)?l.$(le):le)[0]},w=function(le){return y(b(le)).dist},S=function(le){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,He=b(le),$e=[],Me=He;;){if(Me==null)return r.spawn();var Ge=y(Me),Ae=Ge.edge,ze=Ge.pred;if($e.unshift(Me[0]),Me.same(ge)&&$e.length>0)break;Ae!=null&&$e.unshift(Ae),Me=ze}return u.spawn($e)},_=0;_<h;_++){var x=d[_],E=y(x);x.same(o)?E.dist=0:E.dist=1/0,E.pred=null,E.edge=null}for(var T=!1,k=function(le,ge,He,$e,Me,Ge){var Ae=$e.dist+Ge;Ae<Me.dist&&!He.same($e.edge)&&(Me.dist=Ae,Me.pred=le,Me.edge=He,T=!0)},M=1;M<h;M++){T=!1;for(var D=0;D<m;D++){var P=c[D],C=P.source(),A=P.target(),O=s(P),L=y(C),$=y(A);k(C,A,P,L,$,O),i||k(A,C,P,$,L,O)}if(!T)break}if(T)for(var z=[],F=0;F<m;F++){var I=c[F],B=I.source(),V=I.target(),K=s(I),j=y(B).dist,Q=y(V).dist;if(j+K<Q||!i&&Q+K<j)if(p||(Ke("Graph contains a negative weight cycle for Bellman-Ford"),p=!0),t.findNegativeWeightCycles!==!1){var X=[];j+K<Q&&X.push(B),!i&&Q+K<j&&X.push(V);for(var W=X.length,R=0;R<W;R++){var q=X[R],U=[q];U.push(y(q).edge);for(var Y=y(q).pred;U.indexOf(Y)===-1;)U.push(Y),U.push(y(Y).edge),Y=y(Y).pred;U=U.slice(U.indexOf(Y));for(var ie=U[0].id(),J=0,re=2;re<U.length;re+=2)U[re].id()<ie&&(ie=U[re].id(),J=re);U=U.slice(J).concat(U.slice(0,J)),U.push(U[0]);var oe=U.map(function(ue){return ue.id()}).join(",");z.indexOf(oe)===-1&&(g.push(u.spawn(U)),z.push(oe))}}else break}return{distanceTo:w,pathTo:S,hasNegativeWeightCycle:p,negativeWeightCycles:g}}},CF=Math.sqrt(2),DF=function(t,r,n){n.length===0&&vt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[t],i=a[1],o=a[2],s=r[i],u=r[o],l=n,f=l.length-1;f>=0;f--){var c=l[f],d=c[1],h=c[2];(r[d]===s&&r[h]===u||r[d]===u&&r[h]===s)&&l.splice(f,1)}for(var v=0;v<l.length;v++){var p=l[v];p[1]===u?(l[v]=p.slice(),l[v][1]=s):p[2]===u&&(l[v]=p.slice(),l[v][2]=s)}for(var g=0;g<r.length;g++)r[g]===u&&(r[g]=s);return l},Zh=function(t,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=DF(i,t,r),n--}return r},AF={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function($){return $.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/CF);if(i<2){vt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<o;f++){var c=a[f];l.push([f,n.indexOf(c.source()),n.indexOf(c.target())])}for(var d=1/0,h=[],v=new Array(i),p=new Array(i),g=new Array(i),m=function(z,F){for(var I=0;I<i;I++)F[I]=z[I]},y=0;y<=s;y++){for(var b=0;b<i;b++)p[b]=b;var w=Zh(p,l.slice(),i,u),S=w.slice();m(p,g);var _=Zh(p,w,u,2),x=Zh(g,S,u,2);_.length<=x.length&&_.length<d?(d=_.length,h=_,m(p,v)):x.length<=_.length&&x.length<d&&(d=x.length,h=x,m(g,v))}for(var E=this.spawn(h.map(function($){return a[$[0]]})),T=this.spawn(),k=this.spawn(),M=v[0],D=0;D<v.length;D++){var P=v[D],C=n[D];P===M?T.merge(C):k.merge(C)}var A=function(z){var F=t.spawn();return z.forEach(function(I){F.merge(I),I.connectedEdges().forEach(function(B){t.contains(B)&&!E.contains(B)&&F.merge(B)})}),F},O=[A(T),A(k)],L={cut:E,components:O,partition1:T,partition2:k};return L}},PF=function(t){return{x:t.x,y:t.y}},Sd=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},d5=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},fo=function(t){return{x:t[0],y:t[1]}},NF=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.min(o,a))}return a},OF=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=-1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.max(o,a))}return a},LF=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=0,i=0,o=r;o<n;o++){var s=t[o];isFinite(s)&&(a+=s,i++)}return a/i},RF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var s=0,u=t.length-1;u>=0;u--){var l=t[u];o?isFinite(l)||(t[u]=-1/0,s++):t.splice(u,1)}i&&t.sort(function(d,h){return d-h});var f=t.length,c=Math.floor(f/2);return f%2!==0?t[c+1+s]:(t[c-1+s]+t[c+s])/2},$F=function(t){return Math.PI*t/180},zl=function(t,r){return Math.atan2(r,t)-Math.PI/2},p0=Math.log2||function(e){return Math.log(e)/Math.log(2)},h5=function(t){return t>0?1:t<0?-1:0},Oi=function(t,r){return Math.sqrt(li(t,r))},li=function(t,r){var n=r.x-t.x,a=r.y-t.y;return n*n+a*a},IF=function(t){for(var r=t.length,n=0,a=0;a<r;a++)n+=t[a];for(var i=0;i<r;i++)t[i]=t[i]/n;return t},Nt=function(t,r,n,a){return(1-a)*(1-a)*t+2*(1-a)*a*r+a*a*n},xo=function(t,r,n,a){return{x:Nt(t.x,r.x,n.x,a),y:Nt(t.y,r.y,n.y,a)}},BF=function(t,r,n,a){var i={x:r.x-t.x,y:r.y-t.y},o=Oi(t,r),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:t.x+s.x*a,y:t.y+s.y*a}},xu=function(t,r,n){return Math.max(t,Math.min(n,r))},gr=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},FF=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},zF=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},YF=function(t,r,n){return{x1:t.x1+r,x2:t.x2+r,y1:t.y1+n,y2:t.y2+n,w:t.w,h:t.h}},v5=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},qF=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},sf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},uf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var s=Ur(r,4);n=s[0],a=s[1],i=s[2],o=s[3]}return t.x1-=o,t.x2+=a,t.y1-=n,t.y2+=i,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},I1=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},m0=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},Wo=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},VF=function(t,r){return Wo(t,r.x,r.y)},g5=function(t,r){return Wo(t,r.x1,r.y1)&&Wo(t,r.x2,r.y2)},p5=function(t,r,n,a,i,o,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?Li(i,o):u,f=i/2,c=o/2;l=Math.min(l,f,c);var d=l!==f,h=l!==c,v;if(d){var p=n-f+l-s,g=a-c-s,m=n+f-l+s,y=g;if(v=Ra(t,r,n,a,p,g,m,y,!1),v.length>0)return v}if(h){var b=n+f+s,w=a-c+l-s,S=b,_=a+c-l+s;if(v=Ra(t,r,n,a,b,w,S,_,!1),v.length>0)return v}if(d){var x=n-f+l-s,E=a+c+s,T=n+f-l+s,k=E;if(v=Ra(t,r,n,a,x,E,T,k,!1),v.length>0)return v}if(h){var M=n-f-s,D=a-c+l-s,P=M,C=a+c-l+s;if(v=Ra(t,r,n,a,M,D,P,C,!1),v.length>0)return v}var A;{var O=n-f+l,L=a-c+l;if(A=Vs(t,r,n,a,O,L,l+s),A.length>0&&A[0]<=O&&A[1]<=L)return[A[0],A[1]]}{var $=n+f-l,z=a-c+l;if(A=Vs(t,r,n,a,$,z,l+s),A.length>0&&A[0]>=$&&A[1]<=z)return[A[0],A[1]]}{var F=n+f-l,I=a+c-l;if(A=Vs(t,r,n,a,F,I,l+s),A.length>0&&A[0]>=F&&A[1]>=I)return[A[0],A[1]]}{var B=n-f+l,V=a+c-l;if(A=Vs(t,r,n,a,B,V,l+s),A.length>0&&A[0]<=B&&A[1]>=V)return[A[0],A[1]]}return[]},WF=function(t,r,n,a,i,o,s){var u=s,l=Math.min(n,i),f=Math.max(n,i),c=Math.min(a,o),d=Math.max(a,o);return l-u<=t&&t<=f+u&&c-u<=r&&r<=d+u},UF=function(t,r,n,a,i,o,s,u,l){var f={x1:Math.min(n,s,i)-l,x2:Math.max(n,s,i)+l,y1:Math.min(a,u,o)-l,y2:Math.max(a,u,o)+l};return!(t<f.x1||t>f.x2||r<f.y1||r>f.y2)},HF=function(t,r,n,a){n-=a;var i=r*r-4*t*n;if(i<0)return[];var o=Math.sqrt(i),s=2*t,u=(-r+o)/s,l=(-r-o)/s;return[u,l]},GF=function(t,r,n,a,i){var o=1e-5;t===0&&(t=o),r/=t,n/=t,a/=t;var s,u,l,f,c,d,h,v;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,s=u*u*u+l*l,i[1]=0,h=r/3,s>0){c=l+Math.sqrt(s),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),d=l-Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-h+c+d,h+=(c+d)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-d+c)/2,i[3]=h,i[5]=-h;return}if(i[5]=i[3]=0,s===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-h+2*v,i[4]=i[2]=-(v+h);return}u=-u,f=u*u*u,f=Math.acos(l/Math.sqrt(f)),v=2*Math.sqrt(u),i[0]=-h+v*Math.cos(f/3),i[2]=-h+v*Math.cos((f+2*Math.PI)/3),i[4]=-h+v*Math.cos((f+4*Math.PI)/3)},XF=function(t,r,n,a,i,o,s,u){var l=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,f=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,c=1*3*n*n-6*n*i+n*s-n*t+2*i*i+2*i*t-s*t+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,d=1*n*i-n*n+n*t-i*t+a*o-a*a+a*r-o*r,h=[];GF(l,f,c,d,h);for(var v=1e-7,p=[],g=0;g<6;g+=2)Math.abs(h[g+1])<v&&h[g]>=0&&h[g]<=1&&p.push(h[g]);p.push(1),p.push(0);for(var m=-1,y,b,w,S=0;S<p.length;S++)y=Math.pow(1-p[S],2)*n+2*(1-p[S])*p[S]*i+p[S]*p[S]*s,b=Math.pow(1-p[S],2)*a+2*(1-p[S])*p[S]*o+p[S]*p[S]*u,w=Math.pow(y-t,2)+Math.pow(b-r,2),m>=0?w<m&&(m=w):m=w;return m},KF=function(t,r,n,a,i,o){var s=[t-n,r-a],u=[i-n,o-a],l=u[0]*u[0]+u[1]*u[1],f=s[0]*s[0]+s[1]*s[1],c=s[0]*u[0]+s[1]*u[1],d=c*c/l;return c<0?f:d>l?(t-i)*(t-i)+(r-o)*(r-o):f-d},lr=function(t,r,n){for(var a,i,o,s,u,l=0,f=0;f<n.length/2;f++)if(a=n[f*2],i=n[f*2+1],f+1<n.length/2?(o=n[(f+1)*2],s=n[(f+1)*2+1]):(o=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(a==t&&o==t))if(a>=t&&t>=o||a<=t&&t<=o)u=(t-a)/(o-a)*(s-i)+i,u>r&&l++;else continue;return l%2!==0},ha=function(t,r,n,a,i,o,s,u,l){var f=new Array(n.length),c;u[0]!=null?(c=Math.atan(u[1]/u[0]),u[0]<0?c=c+Math.PI/2:c=-c-Math.PI/2):c=u;for(var d=Math.cos(-c),h=Math.sin(-c),v=0;v<f.length/2;v++)f[v*2]=o/2*(n[v*2]*d-n[v*2+1]*h),f[v*2+1]=s/2*(n[v*2+1]*d+n[v*2]*h),f[v*2]+=a,f[v*2+1]+=i;var p;if(l>0){var g=cc(f,-l);p=fc(g)}else p=f;return lr(t,r,p)},ZF=function(t,r,n,a,i,o,s,u){for(var l=new Array(n.length*2),f=0;f<u.length;f++){var c=u[f];l[f*4+0]=c.startX,l[f*4+1]=c.startY,l[f*4+2]=c.stopX,l[f*4+3]=c.stopY;var d=Math.pow(c.cx-t,2)+Math.pow(c.cy-r,2);if(d<=Math.pow(c.radius,2))return!0}return lr(t,r,l)},fc=function(t){for(var r=new Array(t.length/2),n,a,i,o,s,u,l,f,c=0;c<t.length/4;c++){n=t[c*4],a=t[c*4+1],i=t[c*4+2],o=t[c*4+3],c<t.length/4-1?(s=t[(c+1)*4],u=t[(c+1)*4+1],l=t[(c+1)*4+2],f=t[(c+1)*4+3]):(s=t[0],u=t[1],l=t[2],f=t[3]);var d=Ra(n,a,i,o,s,u,l,f,!0);r[c*2]=d[0],r[c*2+1]=d[1]}return r},cc=function(t,r){for(var n=new Array(t.length*2),a,i,o,s,u=0;u<t.length/2;u++){a=t[u*2],i=t[u*2+1],u<t.length/2-1?(o=t[(u+1)*2],s=t[(u+1)*2+1]):(o=t[0],s=t[1]);var l=s-i,f=-(o-a),c=Math.sqrt(l*l+f*f),d=l/c,h=f/c;n[u*4]=a+d*r,n[u*4+1]=i+h*r,n[u*4+2]=o+d*r,n[u*4+3]=s+h*r}return n},QF=function(t,r,n,a,i,o){var s=n-t,u=a-r;s/=i,u/=o;var l=Math.sqrt(s*s+u*u),f=l-1;if(f<0)return[];var c=f/l;return[(n-t)*c+t,(a-r)*c+r]},pi=function(t,r,n,a,i,o,s){return t-=i,r-=o,t/=n/2+s,r/=a/2+s,t*t+r*r<=1},Vs=function(t,r,n,a,i,o,s){var u=[n-t,a-r],l=[t-i,r-o],f=u[0]*u[0]+u[1]*u[1],c=2*(l[0]*u[0]+l[1]*u[1]),d=l[0]*l[0]+l[1]*l[1]-s*s,h=c*c-4*f*d;if(h<0)return[];var v=(-c+Math.sqrt(h))/(2*f),p=(-c-Math.sqrt(h))/(2*f),g=Math.min(v,p),m=Math.max(v,p),y=[];if(g>=0&&g<=1&&y.push(g),m>=0&&m<=1&&y.push(m),y.length===0)return[];var b=y[0]*u[0]+t,w=y[0]*u[1]+r;if(y.length>1){if(y[0]==y[1])return[b,w];var S=y[1]*u[0]+t,_=y[1]*u[1]+r;return[b,w,S,_]}else return[b,w]},Qh=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},Ra=function(t,r,n,a,i,o,s,u,l){var f=t-i,c=n-t,d=s-i,h=r-o,v=a-r,p=u-o,g=d*h-p*f,m=c*h-v*f,y=p*c-d*v;if(y!==0){var b=g/y,w=m/y,S=.001,_=0-S,x=1+S;return _<=b&&b<=x&&_<=w&&w<=x?[t+b*c,r+b*v]:l?[t+b*c,r+b*v]:[]}else return g===0||m===0?Qh(t,n,s)===s?[s,u]:Qh(t,n,i)===i?[i,o]:Qh(i,s,n)===n?[n,a]:[]:[]},_u=function(t,r,n,a,i,o,s,u){var l=[],f,c=new Array(n.length),d=!0;o==null&&(d=!1);var h;if(d){for(var v=0;v<c.length/2;v++)c[v*2]=n[v*2]*o+a,c[v*2+1]=n[v*2+1]*s+i;if(u>0){var p=cc(c,-u);h=fc(p)}else h=c}else h=n;for(var g,m,y,b,w=0;w<h.length/2;w++)g=h[w*2],m=h[w*2+1],w<h.length/2-1?(y=h[(w+1)*2],b=h[(w+1)*2+1]):(y=h[0],b=h[1]),f=Ra(t,r,a,i,g,m,y,b),f.length!==0&&l.push(f[0],f[1]);return l},jF=function(t,r,n,a,i,o,s,u,l){var f=[],c,d=new Array(n.length*2);l.forEach(function(y,b){b===0?(d[d.length-2]=y.startX,d[d.length-1]=y.startY):(d[b*4-2]=y.startX,d[b*4-1]=y.startY),d[b*4]=y.stopX,d[b*4+1]=y.stopY,c=Vs(t,r,a,i,y.cx,y.cy,y.radius),c.length!==0&&f.push(c[0],c[1])});for(var h=0;h<d.length/4;h++)c=Ra(t,r,a,i,d[h*4],d[h*4+1],d[h*4+2],d[h*4+3],!1),c.length!==0&&f.push(c[0],c[1]);if(f.length>2){for(var v=[f[0],f[1]],p=Math.pow(v[0]-t,2)+Math.pow(v[1]-r,2),g=1;g<f.length/2;g++){var m=Math.pow(f[g*2]-t,2)+Math.pow(f[g*2+1]-r,2);m<=p&&(v[0]=f[g*2],v[1]=f[g*2+1],p=m)}return v}return f},Yl=function(t,r,n){var a=[t[0]-r[0],t[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},nr=function(t,r){var n=vg(t,r);return n=m5(n),n},m5=function(t){for(var r,n,a=t.length/2,i=1/0,o=1/0,s=-1/0,u=-1/0,l=0;l<a;l++)r=t[2*l],n=t[2*l+1],i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);for(var f=2/(s-i),c=2/(u-o),d=0;d<a;d++)r=t[2*d]=t[2*d]*f,n=t[2*d+1]=t[2*d+1]*c,i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var h=0;h<a;h++)n=t[2*h+1]=t[2*h+1]+(-1-o);return t},vg=function(t,r){var n=1/t*2*Math.PI,a=t%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(t*2),o,s=0;s<t;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},Li=function(t,r){return Math.min(t/4,r/4,8)},y5=function(t,r){return Math.min(t/10,r/10,8)},y0=function(){return 8},JF=function(t,r,n){return[t-2*r+n,2*(r-t),t]},gg=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},ez=qt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),tz={pageRank:function(t){for(var r=ez(t),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,f=u.edges,c=l.length,d=c*c,h=f.length,v=new Array(d),p=new Array(c),g=(1-n)/c,m=0;m<c;m++){for(var y=0;y<c;y++){var b=m*c+y;v[b]=0}p[m]=0}for(var w=0;w<h;w++){var S=f[w],_=S.data("source"),x=S.data("target");if(_!==x){var E=l.indexOfId(_),T=l.indexOfId(x),k=o(S),M=T*c+E;v[M]+=k,p[E]+=k}}for(var D=1/c+g,P=0;P<c;P++)if(p[P]===0)for(var C=0;C<c;C++){var A=C*c+P;v[A]=D}else for(var O=0;O<c;O++){var L=O*c+P;v[L]=v[L]/p[P]+g}for(var $=new Array(c),z=new Array(c),F,I=0;I<c;I++)$[I]=1;for(var B=0;B<i;B++){for(var V=0;V<c;V++)z[V]=0;for(var K=0;K<c;K++)for(var j=0;j<c;j++){var Q=K*c+j;z[K]+=v[Q]*$[j]}IF(z),F=$,$=z,z=F;for(var X=0,W=0;W<c;W++){var R=F[W]-$[W];X+=R*R}if(X<a)break}var q={rank:function(Y){return Y=s.collection(Y)[0],$[l.indexOf(Y)]}};return q}},B1=qt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),_o={degreeCentralityNormalized:function(t){t=B1(t);var r=this.cy(),n=this.nodes(),a=n.length;if(t.directed){for(var f={},c={},d=0,h=0,v=0;v<a;v++){var p=n[v],g=p.id();t.root=p;var m=this.degreeCentrality(t);d<m.indegree&&(d=m.indegree),h<m.outdegree&&(h=m.outdegree),f[g]=m.indegree,c[g]=m.outdegree}return{indegree:function(b){return d==0?0:(ye(b)&&(b=r.filter(b)),f[b.id()]/d)},outdegree:function(b){return h===0?0:(ye(b)&&(b=r.filter(b)),c[b.id()]/h)}}}else{for(var i={},o=0,s=0;s<a;s++){var u=n[s];t.root=u;var l=this.degreeCentrality(t);o<l.degree&&(o=l.degree),i[u.id()]=l.degree}return{degree:function(b){return o===0?0:(ye(b)&&(b=r.filter(b)),i[b.id()]/o)}}}},degreeCentrality:function(t){t=B1(t);var r=this.cy(),n=this,a=t,i=a.root,o=a.weight,s=a.directed,u=a.alpha;if(i=r.collection(i)[0],s){for(var h=i.connectedEdges(),v=h.filter(function(_){return _.target().same(i)&&n.has(_)}),p=h.filter(function(_){return _.source().same(i)&&n.has(_)}),g=v.length,m=p.length,y=0,b=0,w=0;w<v.length;w++)y+=o(v[w]);for(var S=0;S<p.length;S++)b+=o(p[S]);return{indegree:Math.pow(g,1-u)*Math.pow(y,u),outdegree:Math.pow(m,1-u)*Math.pow(b,u)}}else{for(var l=i.connectedEdges().intersection(n),f=l.length,c=0,d=0;d<l.length;d++)c+=o(l[d]);return{degree:Math.pow(f,1-u)*Math.pow(c,u)}}}};_o.dc=_o.degreeCentrality;_o.dcn=_o.degreeCentralityNormalised=_o.degreeCentralityNormalized;var F1=qt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),So={closenessCentralityNormalized:function(t){for(var r=F1(t),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),s={},u=0,l=this.nodes(),f=this.floydWarshall({weight:a,directed:i}),c=0;c<l.length;c++){for(var d=0,h=l[c],v=0;v<l.length;v++)if(c!==v){var p=f.distance(h,l[v]);n?d+=1/p:d+=p}n||(d=1/d),u<d&&(u=d),s[h.id()]=d}return{closeness:function(m){return u==0?0:(ye(m)?m=o.filter(m)[0].id():m=m.id(),s[m]/u)}}},closenessCentrality:function(t){var r=F1(t),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),f=0;f<l.length;f++){var c=l[f];if(!c.same(n)){var d=s.distanceTo(c);o?u+=1/d:u+=d}}return o?u:1/u}};So.cc=So.closenessCentrality;So.ccn=So.closenessCentralityNormalised=So.closenessCentralityNormalized;var rz=qt({weight:null,directed:!1}),pg={betweennessCentrality:function(t){for(var r=rz(t),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),s=this.nodes(),u={},l={},f=0,c={set:function(b,w){l[b]=w,w>f&&(f=w)},get:function(b){return l[b]}},d=0;d<s.length;d++){var h=s[d],v=h.id();n?u[v]=h.outgoers().nodes():u[v]=h.openNeighborhood().nodes(),c.set(v,0)}for(var p=function(b){for(var w=s[b].id(),S=[],_={},x={},E={},T=new nl(function(j,Q){return E[j]-E[Q]}),k=0;k<s.length;k++){var M=s[k].id();_[M]=[],x[M]=0,E[M]=1/0}for(x[w]=1,E[w]=0,T.push(w);!T.empty();){var D=T.pop();if(S.push(D),i)for(var P=0;P<u[D].length;P++){var C=u[D][P],A=o.getElementById(D),O=void 0;A.edgesTo(C).length>0?O=A.edgesTo(C)[0]:O=C.edgesTo(A)[0];var L=a(O);C=C.id(),E[C]>E[D]+L&&(E[C]=E[D]+L,T.nodes.indexOf(C)<0?T.push(C):T.updateItem(C),x[C]=0,_[C]=[]),E[C]==E[D]+L&&(x[C]=x[C]+x[D],_[C].push(D))}else for(var $=0;$<u[D].length;$++){var z=u[D][$].id();E[z]==1/0&&(T.push(z),E[z]=E[D]+1),E[z]==E[D]+1&&(x[z]=x[z]+x[D],_[z].push(D))}}for(var F={},I=0;I<s.length;I++)F[s[I].id()]=0;for(;S.length>0;){for(var B=S.pop(),V=0;V<_[B].length;V++){var K=_[B][V];F[K]=F[K]+x[K]/x[B]*(1+F[B])}B!=s[b].id()&&c.set(B,c.get(B)+F[B])}},g=0;g<s.length;g++)p(g);var m={betweenness:function(b){var w=o.collection(b).id();return c.get(w)},betweennessNormalized:function(b){if(f==0)return 0;var w=o.collection(b).id();return c.get(w)/f}};return m.betweennessNormalised=m.betweennessNormalized,m}};pg.bc=pg.betweennessCentrality;var nz=qt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),az=function(t){return nz(t)},iz=function(t,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](t);return n},oz=function(t,r,n){for(var a=0;a<r;a++)t[a*r+a]=n},b5=function(t,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=t[i*r+a];for(var o=0;o<r;o++)t[o*r+a]=t[o*r+a]/n}},sz=function(t,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)a[i*n+u]+=t[i*n+s]*r[s*n+u]}return a},uz=function(t,r,n){for(var a=t.slice(0),i=1;i<n;i++)t=sz(t,a,r);return t},lz=function(t,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(t[i],n);return b5(a,r),a},fz=function(t,r,n,a){for(var i=0;i<n;i++){var o=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},cz=function(t,r,n,a){for(var i=[],o=0;o<r;o++){for(var s=[],u=0;u<r;u++)Math.round(t[o*r+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&i.push(a.collection(s))}return i},dz=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},hz=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&dz(t[r],t[n])&&t.splice(n,1);return t},z1=function(t){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=az(t),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var u=r.length,l=u*u,f=new Array(l),c,d=0;d<l;d++)f[d]=0;for(var h=0;h<n.length;h++){var v=n[h],p=o[v.source().id()],g=o[v.target().id()],m=iz(v,i.attributes);f[p*u+g]+=m,f[g*u+p]+=m}oz(f,u,i.multFactor),b5(f,u);for(var y=!0,b=0;y&&b<i.maxIterations;)y=!1,c=uz(f,u,i.expandFactor),f=lz(c,u,i.inflateFactor),fz(f,c,l,4)||(y=!0),b++;var w=cz(f,u,r,a);return w=hz(w),w},vz={markovClustering:z1,mcl:z1},gz=function(t){return t},w5=function(t,r){return Math.abs(r-t)},Y1=function(t,r,n){return t+w5(r,n)},q1=function(t,r,n){return t+Math.pow(n-r,2)},pz=function(t){return Math.sqrt(t)},mz=function(t,r,n){return Math.max(t,w5(r,n))},Cs=function(t,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:gz,s=a,u,l,f=0;f<t;f++)u=r(f),l=n(f),s=i(s,u,l);return o(s)},Uo={euclidean:function(t,r,n){return t>=2?Cs(t,r,n,0,q1,pz):Cs(t,r,n,0,Y1)},squaredEuclidean:function(t,r,n){return Cs(t,r,n,0,q1)},manhattan:function(t,r,n){return Cs(t,r,n,0,Y1)},max:function(t,r,n){return Cs(t,r,n,-1/0,mz)}};Uo["squared-euclidean"]=Uo.squaredEuclidean;Uo.squaredeuclidean=Uo.squaredEuclidean;function Td(e,t,r,n,a,i){var o;return ft(e)?o=e:o=Uo[e]||Uo.euclidean,t===0&&ft(e)?o(a,i):o(t,r,n,a,i)}var yz=qt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),b0=function(t){return yz(t)},dc=function(t,r,n,a,i){var o=i!=="kMedoids",s=o?function(c){return n[c]}:function(c){return a[c](n)},u=function(d){return a[d](r)},l=n,f=r;return Td(t,a.length,s,u,l,f)},jh=function(t,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(r),u=null,l=0;l<a;l++)i[l]=t.min(n[l]).value,o[l]=t.max(n[l]).value;for(var f=0;f<r;f++){u=[];for(var c=0;c<a;c++)u[c]=Math.random()*(o[c]-i[c])+i[c];s[f]=u}return s},x5=function(t,r,n,a,i){for(var o=1/0,s=0,u=0;u<r.length;u++){var l=dc(n,t,r[u],a,i);l<o&&(o=l,s=u)}return s},_5=function(t,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===t&&a.push(i);return a},bz=function(t,r,n){return Math.abs(r-t)<=n},wz=function(t,r,n){for(var a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++){var o=Math.abs(t[a][i]-r[a][i]);if(o>n)return!1}return!0},xz=function(t,r,n){for(var a=0;a<n;a++)if(t===r[a])return!0;return!1},V1=function(t,r){var n=new Array(r);if(t.length<50)for(var a=0;a<r;a++){for(var i=t[Math.floor(Math.random()*t.length)];xz(i,n,a);)i=t[Math.floor(Math.random()*t.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},W1=function(t,r,n){for(var a=0,i=0;i<r.length;i++)a+=dc("manhattan",r[i],t,n,"kMedoids");return a},_z=function(t){var r=this.cy(),n=this.nodes(),a=null,i=b0(t),o=new Array(i.k),s={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=jh(n,i.k,i.attributes)):St(i.testCentroids)==="object"?u=i.testCentroids:u=jh(n,i.k,i.attributes):u=jh(n,i.k,i.attributes);for(var l=!0,f=0;l&&f<i.maxIterations;){for(var c=0;c<n.length;c++)a=n[c],s[a.id()]=x5(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var d=0;d<i.k;d++){var h=_5(d,n,s);if(h.length!==0){for(var v=i.attributes.length,p=u[d],g=new Array(v),m=new Array(v),y=0;y<v;y++){m[y]=0;for(var b=0;b<h.length;b++)a=h[b],m[y]+=i.attributes[y](a);g[y]=m[y]/h.length,bz(g[y],p[y],i.sensitivityThreshold)||(l=!0)}u[d]=g,o[d]=r.collection(h)}}f++}return o},Sz=function(t){var r=this.cy(),n=this.nodes(),a=null,i=b0(t),o=new Array(i.k),s,u={},l,f=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(St(i.testCentroids)==="object"?s=i.testCentroids:s=V1(n,i.k)):s=V1(n,i.k);for(var c=!0,d=0;c&&d<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],u[a.id()]=x5(a,s,i.distance,i.attributes,"kMedoids");c=!1;for(var v=0;v<s.length;v++){var p=_5(v,n,u);if(p.length!==0){f[v]=W1(s[v],p,i.attributes);for(var g=0;g<p.length;g++)l=W1(p[g],p,i.attributes),l<f[v]&&(f[v]=l,s[v]=p[g],c=!0);o[v]=r.collection(p)}}d++}return o},Tz=function(t,r,n,a,i){for(var o,s,u=0;u<r.length;u++)for(var l=0;l<t.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var f=0;f<t.length;f++)for(var c=0;c<i.attributes.length;c++){o=0,s=0;for(var d=0;d<r.length;d++)o+=a[d][f]*i.attributes[c](r[d]),s+=a[d][f];t[f][c]=o/s}},Ez=function(t,r,n,a,i){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var s,u,l,f=2/(i.m-1),c=0;c<n.length;c++)for(var d=0;d<a.length;d++){s=0;for(var h=0;h<n.length;h++)u=dc(i.distance,a[d],n[c],i.attributes,"cmeans"),l=dc(i.distance,a[d],n[h],i.attributes,"cmeans"),s+=Math.pow(u/l,f);t[d][c]=1/s}},Mz=function(t,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,u,l=0;l<r.length;l++){s=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[l][f]>s&&(s=r[l][f],u=f);i[u].push(t[l])}for(var c=0;c<i.length;c++)i[c]=a.collection(i[c]);return i},U1=function(t){var r=this.cy(),n=this.nodes(),a=b0(t),i,o,s,u,l;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(a.k);s=new Array(n.length);for(var c=0;c<n.length;c++)s[c]=new Array(a.k);for(var d=0;d<n.length;d++){for(var h=0,v=0;v<a.k;v++)s[d][v]=Math.random(),h+=s[d][v];for(var p=0;p<a.k;p++)s[d][p]=s[d][p]/h}o=new Array(a.k);for(var g=0;g<a.k;g++)o[g]=new Array(a.attributes.length);l=new Array(n.length);for(var m=0;m<n.length;m++)l[m]=new Array(a.k);for(var y=!0,b=0;y&&b<a.maxIterations;)y=!1,Tz(o,n,s,l,a),Ez(s,u,o,n,a),wz(s,u,a.sensitivityThreshold)||(y=!0),b++;return i=Mz(n,s,a,r),{clusters:i,degreeOfMembership:s}},kz={kMeans:_z,kMedoids:Sz,fuzzyCMeans:U1,fcm:U1},Cz=qt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Dz={single:"min",complete:"max"},Az=function(t){var r=Cz(t),n=Dz[r.linkage];return n!=null&&(r.linkage=n),r},H1=function(t,r,n,a,i){for(var o=0,s=1/0,u,l=i.attributes,f=function(T,k){return Td(i.distance,l.length,function(M){return l[M](T)},function(M){return l[M](k)},T,k)},c=0;c<t.length;c++){var d=t[c].key,h=n[d][a[d]];h<s&&(o=d,s=h)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&t.length===1)return!1;var v=r[o],p=r[a[o]],g;i.mode==="dendrogram"?g={left:v,right:p,key:v.key}:g={value:v.value.concat(p.value),key:v.key},t[v.index]=g,t.splice(p.index,1),r[v.key]=g;for(var m=0;m<t.length;m++){var y=t[m];v.key===y.key?u=1/0:i.linkage==="min"?(u=n[v.key][y.key],n[v.key][y.key]>n[p.key][y.key]&&(u=n[p.key][y.key])):i.linkage==="max"?(u=n[v.key][y.key],n[v.key][y.key]<n[p.key][y.key]&&(u=n[p.key][y.key])):i.linkage==="mean"?u=(n[v.key][y.key]*v.size+n[p.key][y.key]*p.size)/(v.size+p.size):i.mode==="dendrogram"?u=f(y.value,v.value):u=f(y.value[0],v.value[0]),n[v.key][y.key]=n[y.key][v.key]=u}for(var b=0;b<t.length;b++){var w=t[b].key;if(a[w]===v.key||a[w]===p.key){for(var S=w,_=0;_<t.length;_++){var x=t[_].key;n[w][x]<n[w][S]&&(S=x)}a[w]=S}t[b].index=b}return v.key=p.key=v.index=p.index=null,!0},ql=function e(t,r,n){t&&(t.value?r.push(t.value):(t.left&&e(t.left,r),t.right&&e(t.right,r)))},Pz=function e(t,r){if(!t)return"";if(t.left&&t.right){var n=e(t.left,r),a=e(t.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(t.value)return t.value.id()},Nz=function e(t,r,n){if(!t)return[];var a=[],i=[],o=[];return r===0?(t.left&&ql(t.left,a),t.right&&ql(t.right,i),o=a.concat(i),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&ql(t.left,a),t.right&&ql(t.right,i),[n.collection(a),n.collection(i)]):t.value?[n.collection(t.value)]:(t.left&&(a=e(t.left,r-1,n)),t.right&&(i=e(t.right,r-1,n)),a.concat(i))},G1=function(t){for(var r=this.cy(),n=this.nodes(),a=Az(t),i=a.attributes,o=function(b,w){return Td(a.distance,i.length,function(S){return i[S](b)},function(S){return i[S](w)},b,w)},s=[],u=[],l=[],f=[],c=0;c<n.length;c++){var d={value:a.mode==="dendrogram"?n[c]:[n[c]],key:c,index:c};s[c]=d,f[c]=d,u[c]=[],l[c]=0}for(var h=0;h<s.length;h++)for(var v=0;v<=h;v++){var p=void 0;a.mode==="dendrogram"?p=h===v?1/0:o(s[h].value,s[v].value):p=h===v?1/0:o(s[h].value[0],s[v].value[0]),u[h][v]=p,u[v][h]=p,p<u[h][l[h]]&&(l[h]=v)}for(var g=H1(s,f,u,l,a);g;)g=H1(s,f,u,l,a);var m;return a.mode==="dendrogram"?(m=Nz(s[0],a.dendrogramDepth,r),a.addDendrogram&&Pz(s[0],r)):(m=new Array(s.length),s.forEach(function(y,b){y.key=y.index=null,m[b]=r.collection(y.value)})),m},Oz={hierarchicalClustering:G1,hca:G1},Lz=qt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Rz=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||vt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||fe(n)||vt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Lz(t)},$z=function(t,r,n,a){var i=function(s,u){return a[u](s)};return-Td(t,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},Iz=function(t,r){var n=null;return r==="median"?n=RF(t):r==="mean"?n=LF(t):r==="min"?n=NF(t):r==="max"?n=OF(t):n=r,n},Bz=function(t,r,n){for(var a=[],i=0;i<t;i++)r[i*t+i]+n[i*t+i]>0&&a.push(i);return a},X1=function(t,r,n){for(var a=[],i=0;i<t;i++){for(var o=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*t+l]>s&&(o=l,s=r[i*t+l])}o>0&&a.push(o)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},Fz=function(t,r,n){for(var a=X1(t,r,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var u=-1,l=-1/0,f=0;f<o.length;f++){for(var c=0,d=0;d<o.length;d++)c+=r[o[d]*t+o[f]];c>l&&(u=f,l=c)}n[i]=o[u]}return a=X1(t,r,n),a},K1=function(t){for(var r=this.cy(),n=this.nodes(),a=Rz(t),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,u,l,f,c,d;s=n.length,u=s*s,l=new Array(u);for(var h=0;h<u;h++)l[h]=-1/0;for(var v=0;v<s;v++)for(var p=0;p<s;p++)v!==p&&(l[v*s+p]=$z(a.distance,n[v],n[p],a.attributes));f=Iz(l,a.preference);for(var g=0;g<s;g++)l[g*s+g]=f;c=new Array(u);for(var m=0;m<u;m++)c[m]=0;d=new Array(u);for(var y=0;y<u;y++)d[y]=0;for(var b=new Array(s),w=new Array(s),S=new Array(s),_=0;_<s;_++)b[_]=0,w[_]=0,S[_]=0;for(var x=new Array(s*a.minIterations),E=0;E<x.length;E++)x[E]=0;var T;for(T=0;T<a.maxIterations;T++){for(var k=0;k<s;k++){for(var M=-1/0,D=-1/0,P=-1,C=0,A=0;A<s;A++)b[A]=c[k*s+A],C=d[k*s+A]+l[k*s+A],C>=M?(D=M,M=C,P=A):C>D&&(D=C);for(var O=0;O<s;O++)c[k*s+O]=(1-a.damping)*(l[k*s+O]-M)+a.damping*b[O];c[k*s+P]=(1-a.damping)*(l[k*s+P]-D)+a.damping*b[P]}for(var L=0;L<s;L++){for(var $=0,z=0;z<s;z++)b[z]=d[z*s+L],w[z]=Math.max(0,c[z*s+L]),$+=w[z];$-=w[L],w[L]=c[L*s+L],$+=w[L];for(var F=0;F<s;F++)d[F*s+L]=(1-a.damping)*Math.min(0,$-w[F])+a.damping*b[F];d[L*s+L]=(1-a.damping)*($-w[L])+a.damping*b[L]}for(var I=0,B=0;B<s;B++){var V=d[B*s+B]+c[B*s+B]>0?1:0;x[T%a.minIterations*s+B]=V,I+=V}if(I>0&&(T>=a.minIterations-1||T==a.maxIterations-1)){for(var K=0,j=0;j<s;j++){S[j]=0;for(var Q=0;Q<a.minIterations;Q++)S[j]+=x[Q*s+j];(S[j]===0||S[j]===a.minIterations)&&K++}if(K===s)break}}for(var X=Bz(s,c,d),W=Fz(s,l,X),R={},q=0;q<X.length;q++)R[X[q]]=[];for(var U=0;U<n.length;U++){var Y=i[n[U].id()],ie=W[Y];ie!=null&&R[ie].push(n[U])}for(var J=new Array(X.length),re=0;re<X.length;re++)J[re]=r.collection(R[X[re]]);return J},zz={affinityPropagation:K1,ap:K1},Yz=qt({root:void 0,directed:!1}),qz={hierholzer:function(t){if(!Fe(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=Yz(t),a=n.root,i=n.directed,o=this,s=!1,u,l,f;a&&(f=ye(a)?this.filter(a)[0].id():a[0].id());var c={},d={};i?o.forEach(function(y){var b=y.id();if(y.isNode()){var w=y.indegree(!0),S=y.outdegree(!0),_=w-S,x=S-w;_==1?u?s=!0:u=b:x==1?l?s=!0:l=b:(x>1||_>1)&&(s=!0),c[b]=[],y.outgoers().forEach(function(E){E.isEdge()&&c[b].push(E.id())})}else d[b]=[void 0,y.target().id()]}):o.forEach(function(y){var b=y.id();if(y.isNode()){var w=y.degree(!0);w%2&&(u?l?s=!0:l=b:u=b),c[b]=[],y.connectedEdges().forEach(function(S){return c[b].push(S.id())})}else d[b]=[y.source().id(),y.target().id()]});var h={found:!1,trail:void 0};if(s)return h;if(l&&u)if(i){if(f&&l!=f)return h;f=l}else{if(f&&l!=f&&u!=f)return h;f||(f=l)}else f||(f=o[0].id());var v=function(b){for(var w=b,S=[b],_,x,E;c[w].length;)_=c[w].shift(),x=d[_][0],E=d[_][1],w!=E?(c[E]=c[E].filter(function(T){return T!=_}),w=E):!i&&w!=x&&(c[x]=c[x].filter(function(T){return T!=_}),w=x),S.unshift(_),S.unshift(w);return S},p=[],g=[];for(g=v(f);g.length!=1;)c[g[0]].length==0?(p.unshift(o.getElementById(g.shift())),p.unshift(o.getElementById(g.shift()))):g=v(g.shift()).concat(g);p.unshift(o.getElementById(g.shift()));for(var m in c)if(c[m].length)return h;return h.found=!0,h.trail=this.spawn(p,!0),h}},Vl=function(){var t=this,r={},n=0,a=0,i=[],o=[],s={},u=function(d,h){for(var v=o.length-1,p=[],g=t.spawn();o[v].x!=d||o[v].y!=h;)p.push(o.pop().edge),v--;p.push(o.pop().edge),p.forEach(function(m){var y=m.connectedNodes().intersection(t);g.merge(m),y.forEach(function(b){var w=b.id(),S=b.connectedEdges().intersection(t);g.merge(b),r[w].cutVertex?g.merge(S.filter(function(_){return _.isLoop()})):g.merge(S)})}),i.push(g)},l=function c(d,h,v){d===v&&(a+=1),r[h]={id:n,low:n++,cutVertex:!1};var p=t.getElementById(h).connectedEdges().intersection(t);if(p.size()===0)i.push(t.spawn(t.getElementById(h)));else{var g,m,y,b;p.forEach(function(w){g=w.source().id(),m=w.target().id(),y=g===h?m:g,y!==v&&(b=w.id(),s[b]||(s[b]=!0,o.push({x:h,y,edge:w})),y in r?r[h].low=Math.min(r[h].low,r[y].id):(c(d,y,h),r[h].low=Math.min(r[h].low,r[y].low),r[h].id<=r[y].low&&(r[h].cutVertex=!0,u(h,y))))})}};t.forEach(function(c){if(c.isNode()){var d=c.id();d in r||(a=0,l(d,d),r[d].cutVertex=a>1)}});var f=Object.keys(r).filter(function(c){return r[c].cutVertex}).map(function(c){return t.getElementById(c)});return{cut:t.spawn(f),components:i}},Vz={hopcroftTarjanBiconnected:Vl,htbc:Vl,htb:Vl,hopcroftTarjanBiconnectedComponents:Vl},Wl=function(){var t=this,r={},n=0,a=[],i=[],o=t.spawn(t),s=function u(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var f=t.getElementById(l).connectedEdges().intersection(t);if(f.forEach(function(p){var g=p.target().id();g!==l&&(g in r||u(g),r[g].explored||(r[l].low=Math.min(r[l].low,r[g].low)))}),r[l].index===r[l].low){for(var c=t.spawn();;){var d=i.pop();if(c.merge(t.getElementById(d)),r[d].low=r[l].index,r[d].explored=!0,d===l)break}var h=c.edgesWith(c),v=c.merge(h);a.push(v),o=o.difference(v)}};return t.forEach(function(u){if(u.isNode()){var l=u.id();l in r||s(l)}}),{cut:o,components:a}},Wz={tarjanStronglyConnected:Wl,tsc:Wl,tscc:Wl,tarjanStronglyConnectedComponents:Wl},S5={};[wu,wF,xF,SF,EF,kF,AF,tz,_o,So,pg,vz,kz,Oz,zz,qz,Vz,Wz].forEach(function(e){we(S5,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var T5=0,E5=1,M5=2,va=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=T5,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};va.prototype={fulfill:function(t){return Z1(this,E5,"fulfillValue",t)},reject:function(t){return Z1(this,M5,"rejectReason",t)},then:function(t,r){var n=this,a=new va;return n.onFulfilled.push(j1(t,a,"fulfill")),n.onRejected.push(j1(r,a,"reject")),k5(n),a.proxy}};var Z1=function(t,r,n,a){return t.state===T5&&(t.state=r,t[n]=a,k5(t)),t},k5=function(t){t.state===E5?Q1(t,"onFulfilled",t.fulfillValue):t.state===M5&&Q1(t,"onRejected",t.rejectReason)},Q1=function(t,r,n){if(t[r].length!==0){var a=t[r];t[r]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},j1=function(t,r,n){return function(a){if(typeof t!="function")r[n].call(r,a);else{var i;try{i=t(a)}catch(o){r.reject(o);return}Uz(r,i)}}},Uz=function e(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(St(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){t.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?t.reject(new TypeError("circular thenable chain")):e(t,i))},function(i){a||(a=!0,t.reject(i))})}catch(i){a||t.reject(i)}return}t.fulfill(r)};va.all=function(e){return new va(function(t,r){for(var n=new Array(e.length),a=0,i=function(u,l){n[u]=l,a++,a===e.length&&t(n)},o=0;o<e.length;o++)(function(s){var u=e[s],l=u!=null&&u.then!=null;if(l)u.then(function(c){i(s,c)},function(c){r(c)});else{var f=u;i(s,f)}})(o)})};va.resolve=function(e){return new va(function(t,r){t(e)})};va.reject=function(e){return new va(function(t,r){r(e)})};var ns=typeof Promise<"u"?Promise:va,mg=function(t,r,n){var a=c0(t),i=!a,o=this._private=we({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&ft(o.complete)&&o.completes.push(o.complete),i){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(a){var u=t.pan();o.startPan={x:u.x,y:u.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Ri=mg.prototype;we(Ri,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),wr(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(l,f){var c=t[l];c!=null&&(t[l]=t[f],t[f]=c)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var a=0;a<t.style.length;a++){var i=t.style[a],o=i.name,s=t.startStyle[o];t.startStyle[o]=i,t.style[a]=s}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new ns(function(a,i){n.push(function(){a()})})}});Ri.complete=Ri.completed;Ri.run=Ri.play;Ri.running=Ri.playing;var Hz={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,u=!i,l=!u;if(!s.styleEnabled())return this;var f=s.style();r=we({},r,n);var c=Object.keys(r).length===0;if(c)return new mg(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var d=r.renderedPosition,h=s.pan(),v=s.zoom();r.position=d5(d,v,h)}if(u&&r.panBy!=null){var p=r.panBy,g=s.pan();r.pan={x:g.x+p.x,y:g.y+p.y}}var m=r.center||r.centre;if(u&&m!=null){var y=s.getCenterPan(m.eles,r.zoom);y!=null&&(r.pan=y)}if(u&&r.fit!=null){var b=r.fit,w=s.getFitViewport(b.eles||b.boundingBox,b.padding);w!=null&&(r.pan=w.pan,r.zoom=w.zoom)}if(u&&Fe(r.zoom)){var S=s.getZoomedViewport(r.zoom);S!=null?(S.zoomed&&(r.zoom=S.zoom),S.panned&&(r.pan=S.pan)):r.zoom=null}return new mg(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=we({},r,n));for(var u=0;u<o.length;u++){var l=o[u],f=l.animated()&&(r.queue===void 0||r.queue),c=l.animation(r,f?{queue:!0}:void 0);c.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var l=o[u],f=l._private,c=f.animation.current,d=0;d<c.length;d++){var h=c[d],v=h._private;n&&(v.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},Gz=Array.isArray,Ed=Gz,Xz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kz=/^\w*$/;function Zz(e,t){if(Ed(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rl(e)?!0:Kz.test(e)||!Xz.test(e)||t!=null&&e in Object(t)}var Qz=Zz,jz="[object AsyncFunction]",Jz="[object Function]",eY="[object GeneratorFunction]",tY="[object Proxy]";function rY(e){if(!Pi(e))return!1;var t=n5(e);return t==Jz||t==eY||t==jz||t==tY}var nY=rY,aY=wd["__core-js_shared__"],Jh=aY,J1=function(){var e=/[^.]+$/.exec(Jh&&Jh.keys&&Jh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iY(e){return!!J1&&J1 in e}var oY=iY,sY=Function.prototype,uY=sY.toString;function lY(e){if(e!=null){try{return uY.call(e)}catch{}try{return e+""}catch{}}return""}var fY=lY,cY=/[\\^$.*+?()[\]{}|]/g,dY=/^\[object .+?Constructor\]$/,hY=Function.prototype,vY=Object.prototype,gY=hY.toString,pY=vY.hasOwnProperty,mY=RegExp("^"+gY.call(pY).replace(cY,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yY(e){if(!Pi(e)||oY(e))return!1;var t=nY(e)?mY:dY;return t.test(fY(e))}var bY=yY;function wY(e,t){return e==null?void 0:e[t]}var xY=wY;function _Y(e,t){var r=xY(e,t);return bY(r)?r:void 0}var w0=_Y,SY=w0(Object,"create"),Su=SY;function TY(){this.__data__=Su?Su(null):{},this.size=0}var EY=TY;function MY(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var kY=MY,CY="__lodash_hash_undefined__",DY=Object.prototype,AY=DY.hasOwnProperty;function PY(e){var t=this.__data__;if(Su){var r=t[e];return r===CY?void 0:r}return AY.call(t,e)?t[e]:void 0}var NY=PY,OY=Object.prototype,LY=OY.hasOwnProperty;function RY(e){var t=this.__data__;return Su?t[e]!==void 0:LY.call(t,e)}var $Y=RY,IY="__lodash_hash_undefined__";function BY(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Su&&t===void 0?IY:t,this}var FY=BY;function as(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}as.prototype.clear=EY;as.prototype.delete=kY;as.prototype.get=NY;as.prototype.has=$Y;as.prototype.set=FY;var eb=as;function zY(){this.__data__=[],this.size=0}var YY=zY;function qY(e,t){return e===t||e!==e&&t!==t}var C5=qY;function VY(e,t){for(var r=e.length;r--;)if(C5(e[r][0],t))return r;return-1}var Md=VY,WY=Array.prototype,UY=WY.splice;function HY(e){var t=this.__data__,r=Md(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():UY.call(t,r,1),--this.size,!0}var GY=HY;function XY(e){var t=this.__data__,r=Md(t,e);return r<0?void 0:t[r][1]}var KY=XY;function ZY(e){return Md(this.__data__,e)>-1}var QY=ZY;function jY(e,t){var r=this.__data__,n=Md(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var JY=jY;function is(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}is.prototype.clear=YY;is.prototype.delete=GY;is.prototype.get=KY;is.prototype.has=QY;is.prototype.set=JY;var eq=is,tq=w0(wd,"Map"),rq=tq;function nq(){this.size=0,this.__data__={hash:new eb,map:new(rq||eq),string:new eb}}var aq=nq;function iq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var oq=iq;function sq(e,t){var r=e.__data__;return oq(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kd=sq;function uq(e){var t=kd(this,e).delete(e);return this.size-=t?1:0,t}var lq=uq;function fq(e){return kd(this,e).get(e)}var cq=fq;function dq(e){return kd(this,e).has(e)}var hq=dq;function vq(e,t){var r=kd(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var gq=vq;function os(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}os.prototype.clear=aq;os.prototype.delete=lq;os.prototype.get=cq;os.prototype.has=hq;os.prototype.set=gq;var D5=os,pq="Expected a function";function x0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pq);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(x0.Cache||D5),r}x0.Cache=D5;var mq=x0,yq=500;function bq(e){var t=mq(e,function(n){return r.size===yq&&r.clear(),n}),r=t.cache;return t}var wq=bq,xq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_q=/\\(\\)?/g,Sq=wq(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xq,function(r,n,a,i){t.push(a?i.replace(_q,"$1"):n||r)}),t}),A5=Sq;function Tq(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var P5=Tq,Eq=1/0,tb=Vo?Vo.prototype:void 0,rb=tb?tb.toString:void 0;function N5(e){if(typeof e=="string")return e;if(Ed(e))return P5(e,N5)+"";if(rl(e))return rb?rb.call(e):"";var t=e+"";return t=="0"&&1/e==-Eq?"-0":t}var Mq=N5;function kq(e){return e==null?"":Mq(e)}var O5=kq;function Cq(e,t){return Ed(e)?e:Qz(e,t)?[e]:A5(O5(e))}var L5=Cq,Dq=1/0;function Aq(e){if(typeof e=="string"||rl(e))return e;var t=e+"";return t=="0"&&1/e==-Dq?"-0":t}var _0=Aq;function Pq(e,t){t=L5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_0(t[r++])];return r&&r==n?e:void 0}var Nq=Pq;function Oq(e,t,r){var n=e==null?void 0:Nq(e,t);return n===void 0?r:n}var Lq=Oq,Rq=function(){try{var e=w0(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nb=Rq;function $q(e,t,r){t=="__proto__"&&nb?nb(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Iq=$q,Bq=Object.prototype,Fq=Bq.hasOwnProperty;function zq(e,t,r){var n=e[t];(!(Fq.call(e,t)&&C5(n,r))||r===void 0&&!(t in e))&&Iq(e,t,r)}var Yq=zq,qq=9007199254740991,Vq=/^(?:0|[1-9]\d*)$/;function Wq(e,t){var r=typeof e;return t=t??qq,!!t&&(r=="number"||r!="symbol"&&Vq.test(e))&&e>-1&&e%1==0&&e<t}var Uq=Wq;function Hq(e,t,r,n){if(!Pi(e))return e;t=L5(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var u=_0(t[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=o){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=Pi(f)?f:Uq(t[a+1])?[]:{})}Yq(s,u,l),s=s[u]}return e}var Gq=Hq;function Xq(e,t,r){return e==null?e:Gq(e,t,r)}var Kq=Xq;function Zq(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Qq=Zq;function jq(e){return Ed(e)?P5(e,_0):rl(e)?[e]:Qq(A5(O5(e)))}var Jq=jq,eV={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return t=we({},r,t),function(a,i){var o=t,s=this,u=s.length!==void 0,l=u?s:[s],f=u?s[0]:s;if(ye(a)){var c=a.indexOf(".")!==-1,d=c&&Jq(a);if(o.allowGetting&&i===void 0){var h;return f&&(o.beforeGet(f),d&&f._private[o.field][a]===void 0?h=Lq(f._private[o.field],d):h=f._private[o.field][a]),h}else if(o.allowSetting&&i!==void 0){var v=!o.immutableKeys[a];if(v){var p=HE({},a,i);o.beforeSet(s,p);for(var g=0,m=l.length;g<m;g++){var y=l[g];o.canSet(y)&&(d&&f._private[o.field][a]===void 0?Kq(y._private[o.field],d,i):y._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Fe(a)){var b=a,w,S,_=Object.keys(b);o.beforeSet(s,b);for(var x=0;x<_.length;x++){w=_[x],S=b[w];var E=!o.immutableKeys[w];if(E)for(var T=0;T<l.length;T++){var k=l[T];o.canSet(k)&&(k._private[o.field][w]=S)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&ft(a)){var M=a;s.on(o.bindingEvent,M)}else if(o.allowGetting&&a===void 0){var D;return f&&(o.beforeGet(f),D=f._private[o.field]),D}return s}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=we({},r,t),function(a){var i=t,o=this,s=o.length!==void 0,u=s?o:[o];if(ye(a)){for(var l=a.split(/\s+/),f=l.length,c=0;c<f;c++){var d=l[c];if(!Ua(d)){var h=!i.immutableKeys[d];if(h)for(var v=0,p=u.length;v<p;v++)u[v]._private[i.field][d]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var g=0,m=u.length;g<m;g++)for(var y=u[g]._private[i.field],b=Object.keys(y),w=0;w<b.length;w++){var S=b[w],_=!i.immutableKeys[S];_&&(y[S]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},tV={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new ns(function(s,u){var l=function(h){i.off.apply(i,c),s(h)},f=o.concat([l]),c=f.concat([]);i.on.apply(i,f)})}}},Xe={};[Hz,eV,tV].forEach(function(e){we(Xe,e)});var rV={animate:Xe.animate(),animation:Xe.animation(),animated:Xe.animated(),clearQueue:Xe.clearQueue(),delay:Xe.delay(),delayAnimation:Xe.delayAnimation(),stop:Xe.stop()},lf={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else Je(t)||(t=(t||"").match(/\S+/g)||[]);for(var a=[],i=new rs(t),o=0;o<r.length;o++){for(var s=r[o],u=s._private,l=u.classes,f=!1,c=0;c<t.length;c++){var d=t[c],h=l.has(d);if(!h){f=!0;break}}f||(f=l.size!==t.length),f&&(u.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){Je(t)||(t=t.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,s=n.length;o<s;o++)for(var u=n[o],l=u._private.classes,f=!1,c=0;c<t.length;c++){var d=t[c],h=l.has(d),v=!1;r||a&&!h?(l.add(d),v=!0):(!r||a&&h)&&(l.delete(d),v=!0),!f&&v&&(i.push(u),f=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};lf.className=lf.classNames=lf.classes;var Be={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:_t,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Be.variable="(?:[\\w-.]|(?:\\\\"+Be.metaChar+"))+";Be.className="(?:[\\w-]|(?:\\\\"+Be.metaChar+"))+";Be.value=Be.string+"|"+Be.number;Be.id=Be.variable;(function(){var e,t,r;for(e=Be.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Be.comparatorOp+="|@"+t;for(e=Be.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Be.comparatorOp+="|\\!"+t)})();var Qe=function(){return{checks:[]}},ve={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},yg=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return vB(e.selector,t.selector)}),nV=function(){for(var e={},t,r=0;r<yg.length;r++)t=yg[r],e[t.selector]=t.matches;return e}(),aV=function(t,r){return nV[t](r)},iV="("+yg.map(function(e){return e.selector}).join("|")+")",ji=function(t){return t.replace(new RegExp("\\\\("+Be.metaChar+")","g"),function(r,n){return n})},Ca=function(t,r,n){t[t.length-1]=n},bg=[{name:"group",query:!0,regex:"("+Be.group+")",populate:function(t,r,n){var a=Ur(n,1),i=a[0];r.checks.push({type:ve.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:iV,populate:function(t,r,n){var a=Ur(n,1),i=a[0];r.checks.push({type:ve.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Be.id+")",populate:function(t,r,n){var a=Ur(n,1),i=a[0];r.checks.push({type:ve.ID,value:ji(i)})}},{name:"className",query:!0,regex:"\\.("+Be.className+")",populate:function(t,r,n){var a=Ur(n,1),i=a[0];r.checks.push({type:ve.CLASS,value:ji(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Be.variable+")\\s*\\]",populate:function(t,r,n){var a=Ur(n,1),i=a[0];r.checks.push({type:ve.DATA_EXIST,field:ji(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Be.variable+")\\s*("+Be.comparatorOp+")\\s*("+Be.value+")\\s*\\]",populate:function(t,r,n){var a=Ur(n,3),i=a[0],o=a[1],s=a[2],u=new RegExp("^"+Be.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:ve.DATA_COMPARE,field:ji(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Be.boolOp+")\\s*("+Be.variable+")\\s*\\]",populate:function(t,r,n){var a=Ur(n,2),i=a[0],o=a[1];r.checks.push({type:ve.DATA_BOOL,field:ji(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Be.meta+")\\s*("+Be.comparatorOp+")\\s*("+Be.number+")\\s*\\]\\]",populate:function(t,r,n){var a=Ur(n,3),i=a[0],o=a[1],s=a[2];r.checks.push({type:ve.META_COMPARE,field:ji(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Be.separator,populate:function(t,r){var n=t.currentSubject,a=t.edgeCount,i=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=a,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=Qe();return s}},{name:"directedEdge",separator:!0,regex:Be.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=r,i=Qe();return n.checks.push({type:ve.DIRECTED_EDGE,source:a,target:i}),Ca(t,r,n),t.edgeCount++,i}else{var o=Qe(),s=r,u=Qe();return o.checks.push({type:ve.NODE_SOURCE,source:s,target:u}),Ca(t,r,o),t.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Be.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=r,i=Qe();return n.checks.push({type:ve.UNDIRECTED_EDGE,nodes:[a,i]}),Ca(t,r,n),t.edgeCount++,i}else{var o=Qe(),s=r,u=Qe();return o.checks.push({type:ve.NODE_NEIGHBOR,node:s,neighbor:u}),Ca(t,r,o),u}}},{name:"child",separator:!0,regex:Be.child,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=Qe(),i=t[t.length-1];return n.checks.push({type:ve.CHILD,parent:i,child:a}),Ca(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Qe(),s=t[t.length-1],u=Qe(),l=Qe(),f=Qe(),c=Qe();return o.checks.push({type:ve.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ve.TRUE}],c.checks.push({type:ve.TRUE}),u.checks.push({type:ve.PARENT,parent:c,child:f}),Ca(t,s,o),t.currentSubject=l,t.compoundCount++,f}else{var d=Qe(),h=Qe(),v=[{type:ve.PARENT,parent:d,child:h}];return d.checks=r.checks,r.checks=v,t.compoundCount++,h}}},{name:"descendant",separator:!0,regex:Be.descendant,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=Qe(),i=t[t.length-1];return n.checks.push({type:ve.DESCENDANT,ancestor:i,descendant:a}),Ca(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Qe(),s=t[t.length-1],u=Qe(),l=Qe(),f=Qe(),c=Qe();return o.checks.push({type:ve.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ve.TRUE}],c.checks.push({type:ve.TRUE}),u.checks.push({type:ve.ANCESTOR,ancestor:c,descendant:f}),Ca(t,s,o),t.currentSubject=l,t.compoundCount++,f}else{var d=Qe(),h=Qe(),v=[{type:ve.ANCESTOR,ancestor:d,descendant:h}];return d.checks=r.checks,r.checks=v,t.compoundCount++,h}}},{name:"subject",modifier:!0,regex:Be.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return Ke("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],a=n.checks[0],i=a==null?null:a.type;i===ve.DIRECTED_EDGE?a.type=ve.NODE_TARGET:i===ve.UNDIRECTED_EDGE&&(a.type=ve.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];bg.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var oV=function(t){for(var r,n,a,i=0;i<bg.length;i++){var o=bg[i],s=o.name,u=t.match(o.regexObj);if(u!=null){n=u,r=o,a=s;var l=u[0];t=t.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:t}},sV=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},uV=function(t){var r=this,n=r.inputText=t,a=r[0]=Qe();for(r.length=1,n=sV(n);;){var i=oV(n);if(i.expr==null)return Ke("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(r,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var f=r[l];if(f.compoundCount>0&&f.edgeCount>0)return Ke("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return Ke("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&Ke("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},lV=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(f){return f??""},r=function(f){return ye(f)?'"'+f+'"':t(f)},n=function(f){return" "+f+" "},a=function(f,c){var d=f.type,h=f.value;switch(d){case ve.GROUP:{var v=t(h);return v.substring(0,v.length-1)}case ve.DATA_COMPARE:{var p=f.field,g=f.operator;return"["+p+n(t(g))+r(h)+"]"}case ve.DATA_BOOL:{var m=f.operator,y=f.field;return"["+t(m)+y+"]"}case ve.DATA_EXIST:{var b=f.field;return"["+b+"]"}case ve.META_COMPARE:{var w=f.operator,S=f.field;return"[["+S+n(t(w))+r(h)+"]]"}case ve.STATE:return h;case ve.ID:return"#"+h;case ve.CLASS:return"."+h;case ve.PARENT:case ve.CHILD:return i(f.parent,c)+n(">")+i(f.child,c);case ve.ANCESTOR:case ve.DESCENDANT:return i(f.ancestor,c)+" "+i(f.descendant,c);case ve.COMPOUND_SPLIT:{var _=i(f.left,c),x=i(f.subject,c),E=i(f.right,c);return _+(_.length>0?" ":"")+x+E}case ve.TRUE:return""}},i=function(f,c){return f.checks.reduce(function(d,h,v){return d+(c===f&&v===0?"$":"")+a(h,c)},"")},o="",s=0;s<this.length;s++){var u=this[s];o+=i(u,u.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},fV={parse:uV,toString:lV},R5=function(t,r,n){var a,i=ye(t),o=fe(t),s=ye(n),u,l,f=!1,c=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),c=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(i||s||f)&&(u=!i&&!o?"":""+t,l=""+n),f&&(t=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=t===n;break;case">":d=!0,a=t>n;break;case">=":d=!0,a=t>=n;break;case"<":d=!0,a=t<n;break;case"<=":d=!0,a=t<=n;break;default:a=!1;break}return c&&(t!=null||!d)&&(a=!a),a},cV=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},dV=function(t){return t!==void 0},S0=function(t,r){return t.data(r)},hV=function(t,r){return t[r]()},gt=[],at=function(t,r){return t.checks.every(function(n){return gt[n.type](n,r)})};gt[ve.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};gt[ve.STATE]=function(e,t){var r=e.value;return aV(r,t)};gt[ve.ID]=function(e,t){var r=e.value;return t.id()===r};gt[ve.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};gt[ve.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return R5(hV(t,r),n,a)};gt[ve.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return R5(S0(t,r),n,a)};gt[ve.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return cV(S0(t,r),n)};gt[ve.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,dV(S0(t,r))};gt[ve.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],a=t.source(),i=t.target();return at(r,a)&&at(n,i)||at(n,a)&&at(r,i)};gt[ve.NODE_NEIGHBOR]=function(e,t){return at(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&at(e.neighbor,r)})};gt[ve.DIRECTED_EDGE]=function(e,t){return at(e.source,t.source())&&at(e.target,t.target())};gt[ve.NODE_SOURCE]=function(e,t){return at(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&at(e.target,r)})};gt[ve.NODE_TARGET]=function(e,t){return at(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&at(e.source,r)})};gt[ve.CHILD]=function(e,t){return at(e.child,t)&&at(e.parent,t.parent())};gt[ve.PARENT]=function(e,t){return at(e.parent,t)&&t.children().some(function(r){return at(e.child,r)})};gt[ve.DESCENDANT]=function(e,t){return at(e.descendant,t)&&t.ancestors().some(function(r){return at(e.ancestor,r)})};gt[ve.ANCESTOR]=function(e,t){return at(e.ancestor,t)&&t.descendants().some(function(r){return at(e.descendant,r)})};gt[ve.COMPOUND_SPLIT]=function(e,t){return at(e.subject,t)&&at(e.left,t)&&at(e.right,t)};gt[ve.TRUE]=function(){return!0};gt[ve.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};gt[ve.FILTER]=function(e,t){var r=e.value;return r(t)};var vV=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ve.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var s=r[o];if(at(s,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},gV=function(t){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(at(a,t))return!0}return!1},pV={matches:gV,filter:vV},Ga=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||ye(t)&&t.match(/^\s*$/)||(wr(t)?this.addQuery({checks:[{type:ve.COLLECTION,value:t.collection()}]}):ft(t)?this.addQuery({checks:[{type:ve.FILTER,value:t}]}):ye(t)?this.parse(t)||(this.invalid=!0):vt("A selector must be created from a string; found "))},Xa=Ga.prototype;[fV,pV].forEach(function(e){return we(Xa,e)});Xa.text=function(){return this.inputText};Xa.size=function(){return this.length};Xa.eq=function(e){return this[e]};Xa.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};Xa.addQuery=function(e){this[this.length++]=e};Xa.selector=Xa.toString;var Ba={allAre:function(t){var r=new Ga(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new Ga(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(a)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!a)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(a){return t.hasElementWithId(a.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};Ba.allAreNeighbours=Ba.allAreNeighbors;Ba.has=Ba.contains;Ba.equal=Ba.equals=Ba.same;var Ir=function(t,r){return function(a,i,o,s){var u=a,l=this,f;if(u==null?f="":wr(u)&&u.length===1&&(f=u.id()),l.length===1&&f){var c=l[0]._private,d=c.traversalCache=c.traversalCache||{},h=d[r]=d[r]||[],v=Ni(f),p=h[v];return p||(h[v]=t.call(l,a,i,o,s))}else return t.call(l,a,i,o,s)}},Ho={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:Ir(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)t.push(a[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function T0(e,t,r,n){for(var a=[],i=new rs,o=e.cy(),s=o.hasCompoundNodes(),u=0;u<e.length;u++){var l=e[u];r?a.push(l):s&&n(a,i,l)}for(;a.length>0;){var f=a.shift();t(f),i.add(f.id()),s&&n(a,i,f)}return e}function $5(e,t,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];t.has(i.id())||e.push(i)}}Ho.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return T0(this,e,t,$5)};function I5(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}Ho.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return T0(this,e,t,I5)};function mV(e,t,r){I5(e,t,r),$5(e,t,r)}Ho.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return T0(this,e,t,mV)};Ho.ancestors=Ho.parents;var Tu,B5;Tu=B5={data:Xe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Xe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Xe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Xe.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Xe.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};Tu.attr=Tu.data;Tu.removeAttr=Tu.removeData;var yV=B5,Cd={};function ev(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!t&&s.isLoop()||(n+=e(a,s))}return n}else return}}we(Cd,{degree:ev(function(e,t){return t.source().same(t.target())?2:1}),indegree:ev(function(e,t){return t.target().same(e)?1:0}),outdegree:ev(function(e,t){return t.source().same(e)?1:0})});function Ji(e,t){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[e](r);s!==void 0&&(n===void 0||t(s,n))&&(n=s)}return n}}we(Cd,{minDegree:Ji("degree",function(e,t){return e<t}),maxDegree:Ji("degree",function(e,t){return e>t}),minIndegree:Ji("indegree",function(e,t){return e<t}),maxIndegree:Ji("indegree",function(e,t){return e>t}),minOutdegree:Ji("outdegree",function(e,t){return e<t}),maxOutdegree:Ji("outdegree",function(e,t){return e>t})});we(Cd,{totalDegree:function(t){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(t);return r}});var Qr,F5,z5=function(t,r,n){for(var a=0;a<t.length;a++){var i=t[a];if(!i.locked()){var o=i._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},ab={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){z5(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};Qr=F5={position:Xe.data(ab),silentPosition:Xe.data(we({},ab,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){z5(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(Fe(t))r?this.silentPosition(t):this.position(t);else if(ft(t)){var n=t,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(r?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var a;if(Fe(t)?(a={x:fe(t.x)?t.x:0,y:fe(t.y)?t.y:0},n=r):ye(t)&&fe(r)&&(a={x:0,y:0},a[t]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+a.x,y:u.y+a.y};n?s.silentPosition(l):s.position(l)}}i.endBatch()}return this},silentShift:function(t,r){return Fe(t)?this.shift(t,!0):ye(t)&&fe(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=Fe(t)?t:void 0,u=s!==void 0||r!==void 0&&ye(t);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var f=this[l];r!==void 0?f.position(t,(r-o[t])/i):s!==void 0&&f.position(d5(s,i,o))}else{var c=n.position();return s=Sd(c,i,o),t===void 0?s:s[t]}else if(!u)return;return this},relativePosition:function(t,r){var n=this[0],a=this.cy(),i=Fe(t)?t:void 0,o=i!==void 0||r!==void 0&&ye(t),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var l=this[u],f=s?l.parent():null,c=f&&f.length>0,d=c;c&&(f=f[0]);var h=d?f.position():{x:0,y:0};r!==void 0?l.position(t,r+h[t]):i!==void 0&&l.position({x:i.x+h.x,y:i.y+h.y})}else{var v=n.position(),p=s?n.parent():null,g=p&&p.length>0,m=g;g&&(p=p[0]);var y=m?p.position():{x:0,y:0};return i={x:v.x-y.x,y:v.y-y.y},t===void 0?i:i[t]}else if(!o)return;return this}};Qr.modelPosition=Qr.point=Qr.position;Qr.modelPositions=Qr.points=Qr.positions;Qr.renderedPoint=Qr.renderedPosition;Qr.relativePoint=Qr.relativePosition;var bV=F5,To,ri;To=ri={};ri.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),a=r.pan(),i=t.x1*n+a.x,o=t.x2*n+a.x,s=t.y1*n+a.y,u=t.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:u,w:o-i,h:u-s}};ri.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};ri.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,u=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},c=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),d=s.position;(c.w===0||c.h===0)&&(c={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},c.x1=d.x-c.w/2,c.x2=d.x+c.w/2,c.y1=d.y-c.h/2,c.y2=d.y+c.h/2);function h(T,k,M){var D=0,P=0,C=k+M;return T>0&&C>0&&(D=k/C*T,P=M/C*T),{biasDiff:D,biasComplementDiff:P}}function v(T,k,M,D){if(M.units==="%")switch(D){case"width":return T>0?M.pfValue*T:0;case"height":return k>0?M.pfValue*k:0;case"average":return T>0&&k>0?M.pfValue*(T+k)/2:0;case"min":return T>0&&k>0?T>k?M.pfValue*k:M.pfValue*T:0;case"max":return T>0&&k>0?T>k?M.pfValue*T:M.pfValue*k:0;default:return 0}else return M.units==="px"?M.pfValue:0}var p=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(p=p*100/f.width.val);var g=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(g=g*100/f.width.val);var m=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(m=m*100/f.height.val);var y=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(y=y*100/f.height.val);var b=h(f.width.val-c.w,p,g),w=b.biasDiff,S=b.biasComplementDiff,_=h(f.height.val-c.h,m,y),x=_.biasDiff,E=_.biasComplementDiff;s.autoPadding=v(c.w,c.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(c.w,f.width.val),d.x=(-w+c.x1+c.x2+S)/2,s.autoHeight=Math.max(c.h,f.height.val),d.y=(-x+c.y1+c.y2+E)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||e)&&(r(a),t.batching()||(i.compoundBoundsClean=!0))}return this};var Ar=function(t){return t===1/0||t===-1/0?0:t},Hr=function(t,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(t.x1=r<t.x1?r:t.x1,t.x2=a>t.x2?a:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},fi=function(t,r){return r==null?t:Hr(t,r.x1,r.y1,r.x2,r.y2)},Ds=function(t,r,n){return Gr(t,r,n)},Ul=function(t,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var f=a.arrowBounds=a.arrowBounds||{},c=f[n]=f[n]||{};c.x1=u-o,c.y1=l-o,c.x2=u+o,c.y2=l+o,c.w=c.x2-c.x1,c.h=c.y2-c.y1,sf(c,1),Hr(t,c.x1,c.y1,c.x2,c.y2)}}},tv=function(t,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,s=r.pstyle(a+"label").strValue;if(s){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),f=Ds(o,"labelWidth",n),c=Ds(o,"labelHeight",n),d=Ds(o,"labelX",n),h=Ds(o,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,p=r.pstyle(a+"text-margin-y").pfValue,g=r.isEdge(),m=r.pstyle(a+"text-rotation"),y=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,w=b/2,S=r.pstyle("text-background-padding").pfValue,_=2,x=c,E=f,T=E/2,k=x/2,M,D,P,C;if(g)M=d-T,D=d+T,P=h-k,C=h+k;else{switch(u.value){case"left":M=d-E,D=d;break;case"center":M=d-T,D=d+T;break;case"right":M=d,D=d+E;break}switch(l.value){case"top":P=h-x,C=h;break;case"center":P=h-k,C=h+k;break;case"bottom":P=h,C=h+x;break}}var A=v-Math.max(y,w)-S-_,O=v+Math.max(y,w)+S+_,L=p-Math.max(y,w)-S-_,$=p+Math.max(y,w)+S+_;M+=A,D+=O,P+=L,C+=$;var z=n||"main",F=i.labelBounds,I=F[z]=F[z]||{};I.x1=M,I.y1=P,I.x2=D,I.y2=C,I.w=D-M,I.h=C-P,I.leftPad=A,I.rightPad=O,I.topPad=L,I.botPad=$;var B=g&&m.strValue==="autorotate",V=m.pfValue!=null&&m.pfValue!==0;if(B||V){var K=B?Ds(i.rstyle,"labelAngle",n):m.pfValue,j=Math.cos(K),Q=Math.sin(K),X=(M+D)/2,W=(P+C)/2;if(!g){switch(u.value){case"left":X=D;break;case"right":X=M;break}switch(l.value){case"top":W=C;break;case"bottom":W=P;break}}var R=function(ue,le){return ue=ue-X,le=le-W,{x:ue*j-le*Q+X,y:ue*Q+le*j+W}},q=R(M,P),U=R(M,C),Y=R(D,P),ie=R(D,C);M=Math.min(q.x,U.x,Y.x,ie.x),D=Math.max(q.x,U.x,Y.x,ie.x),P=Math.min(q.y,U.y,Y.y,ie.y),C=Math.max(q.y,U.y,Y.y,ie.y)}var J=z+"Rot",re=F[J]=F[J]||{};re.x1=M,re.y1=P,re.x2=D,re.y2=C,re.w=D-M,re.h=C-P,Hr(t,M,P,D,C),Hr(i.labelBounds.all,M,P,D,C)}return t}},wV=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,o=r.pstyle("shape").value,s=a+i,u=(t.w+s*2)/t.w,l=(t.h+s*2)/t.h,f=0,c=0;["diamond","pentagon","round-triangle"].includes(o)?(u=(t.w+s*2.4)/t.w,c=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?u=(t.w+s*2.4)/t.w:o==="star"?(u=(t.w+s*2.8)/t.w,l=(t.h+s*2.6)/t.h,c=-s/3.8):o==="triangle"?(u=(t.w+s*2.8)/t.w,l=(t.h+s*2.4)/t.h,c=-s/1.4):o==="vee"&&(u=(t.w+s*4.4)/t.w,l=(t.h+s*3.8)/t.h,c=-s*.5);var d=t.h*l-t.h,h=t.w*u-t.w;if(uf(t,[Math.ceil(d/2),Math.ceil(h/2)]),f!=0||c!==0){var v=YF(t,f,c);v5(t,v)}}}},xV=function(t,r){var n=t._private.cy,a=n.styleEnabled(),i=n.headless(),o=gr(),s=t._private,u=t.isNode(),l=t.isEdge(),f,c,d,h,v,p,g=s.rstyle,m=u&&a?t.pstyle("bounds-expansion").pfValue:[0],y=function(oe){return oe.pstyle("display").value!=="none"},b=!a||y(t)&&(!l||y(t.source())&&y(t.target()));if(b){var w=0,S=0;a&&r.includeOverlays&&(w=t.pstyle("overlay-opacity").value,w!==0&&(S=t.pstyle("overlay-padding").value));var _=0,x=0;a&&r.includeUnderlays&&(_=t.pstyle("underlay-opacity").value,_!==0&&(x=t.pstyle("underlay-padding").value));var E=Math.max(S,x),T=0,k=0;if(a&&(T=t.pstyle("width").pfValue,k=T/2),u&&r.includeNodes){var M=t.position();v=M.x,p=M.y;var D=t.outerWidth(),P=D/2,C=t.outerHeight(),A=C/2;f=v-P,c=v+P,d=p-A,h=p+A,Hr(o,f,d,c,h),a&&r.includeOutlines&&wV(o,t)}else if(l&&r.includeEdges)if(a&&!i){var O=t.pstyle("curve-style").strValue;if(f=Math.min(g.srcX,g.midX,g.tgtX),c=Math.max(g.srcX,g.midX,g.tgtX),d=Math.min(g.srcY,g.midY,g.tgtY),h=Math.max(g.srcY,g.midY,g.tgtY),f-=k,c+=k,d-=k,h+=k,Hr(o,f,d,c,h),O==="haystack"){var L=g.haystackPts;if(L&&L.length===2){if(f=L[0].x,d=L[0].y,c=L[1].x,h=L[1].y,f>c){var $=f;f=c,c=$}if(d>h){var z=d;d=h,h=z}Hr(o,f-k,d-k,c+k,h+k)}}else if(O==="bezier"||O==="unbundled-bezier"||O.endsWith("segments")||O.endsWith("taxi")){var F;switch(O){case"bezier":case"unbundled-bezier":F=g.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":F=g.linePts;break}if(F!=null)for(var I=0;I<F.length;I++){var B=F[I];f=B.x-k,c=B.x+k,d=B.y-k,h=B.y+k,Hr(o,f,d,c,h)}}}else{var V=t.source(),K=V.position(),j=t.target(),Q=j.position();if(f=K.x,c=Q.x,d=K.y,h=Q.y,f>c){var X=f;f=c,c=X}if(d>h){var W=d;d=h,h=W}f-=k,c+=k,d-=k,h+=k,Hr(o,f,d,c,h)}if(a&&r.includeEdges&&l&&(Ul(o,t,"mid-source"),Ul(o,t,"mid-target"),Ul(o,t,"source"),Ul(o,t,"target")),a){var R=t.pstyle("ghost").value==="yes";if(R){var q=t.pstyle("ghost-offset-x").pfValue,U=t.pstyle("ghost-offset-y").pfValue;Hr(o,o.x1+q,o.y1+U,o.x2+q,o.y2+U)}}var Y=s.bodyBounds=s.bodyBounds||{};I1(Y,o),uf(Y,m),sf(Y,1),a&&(f=o.x1,c=o.x2,d=o.y1,h=o.y2,Hr(o,f-E,d-E,c+E,h+E));var ie=s.overlayBounds=s.overlayBounds||{};I1(ie,o),uf(ie,m),sf(ie,1);var J=s.labelBounds=s.labelBounds||{};J.all!=null?zF(J.all):J.all=gr(),a&&r.includeLabels&&(r.includeMainLabels&&tv(o,t,null),l&&(r.includeSourceLabels&&tv(o,t,"source"),r.includeTargetLabels&&tv(o,t,"target")))}return o.x1=Ar(o.x1),o.y1=Ar(o.y1),o.x2=Ar(o.x2),o.y2=Ar(o.y2),o.w=Ar(o.x2-o.x1),o.h=Ar(o.y2-o.y1),o.w>0&&o.h>0&&b&&(uf(o,m),sf(o,1)),o},Y5=function(t){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(t.incudeNodes),a+=n(t.includeEdges),a+=n(t.includeLabels),a+=n(t.includeMainLabels),a+=n(t.includeSourceLabels),a+=n(t.includeTargetLabels),a+=n(t.includeOverlays),a+=n(t.includeOutlines),a},q5=function(t){if(t.isEdge()){var r=t.source().position(),n=t.target().position(),a=function(o){return Math.round(o)};return sF([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},ib=function(t,r){var n=t._private,a,i=t.isEdge(),o=r==null?ob:Y5(r),s=o===ob,u=q5(t),l=n.bbCachePosKey===u,f=r.useCache&&l,c=function(p){return p._private.bbCache==null||p._private.styleDirty},d=!f||c(t)||i&&(c(t.source())||c(t.target()));if(d?(l||t.recalculateRenderedStyle(f),a=xV(t,Eu),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!s){var h=t.isNode();a=gr(),(r.includeNodes&&h||r.includeEdges&&!h)&&(r.includeOverlays?fi(a,n.overlayBounds):fi(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?fi(a,n.labelBounds.all):(r.includeMainLabels&&fi(a,n.labelBounds.mainRot),r.includeSourceLabels&&fi(a,n.labelBounds.sourceRot),r.includeTargetLabels&&fi(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Eu={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},ob=Y5(Eu),sb=qt(Eu);ri.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=Eu:e=sb(e),t=ib(this[0],e);else{t=gr(),e=e||Eu;var r=sb(e),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var o=0;o<n.length;o++){var s=n[o],u=s._private,l=q5(s),f=u.bbCachePosKey===l,c=r.useCache&&f&&!u.styleDirty;s.recalculateRenderedStyle(c)}this.updateCompoundBounds(!e.useCache);for(var d=0;d<n.length;d++){var h=n[d];fi(t,ib(h,r))}}return t.x1=Ar(t.x1),t.y1=Ar(t.y1),t.x2=Ar(t.x2),t.y2=Ar(t.y2),t.w=Ar(t.x2-t.x1),t.h=Ar(t.y2-t.y1),t};ri.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};ri.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=t.filter(function(l){return l.isParent()}),t=t.not(a)),Fe(e)){var i=e;e=function(){return i}}var o=function(f,c){return f._private.bbAtOldPos=e(f,c)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=FF(this.boundingBox({useCache:!1}));return t.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};To.boundingbox=To.bb=To.boundingBox;To.renderedBoundingbox=To.renderedBoundingBox;var _V=ri,Ws,al;Ws=al={};var V5=function(t){t.uppercaseName=A1(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=A1(t.outerName),Ws[t.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[t.autoName]||0;var s=n.pstyle(t.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},Ws["outer"+t.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[t.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},Ws["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var a=n[t.name]();return a*this.cy().zoom()}},Ws["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[t.outerName]();return a*this.cy().zoom()}}};V5({name:"width"});V5({name:"height"});al.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};al.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};al.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var SV=al,TV=function(t,r){if(t.isEdge())return r(t)},EV=function(t,r){if(t.isEdge()){var n=t.cy();return Sd(r(t),n.zoom(),n.pan())}},MV=function(t,r){if(t.isEdge()){var n=t.cy(),a=n.pan(),i=n.zoom();return r(t).map(function(o){return Sd(o,i,a)})}},kV=function(t){return t.renderer().getControlPoints(t)},CV=function(t){return t.renderer().getSegmentPoints(t)},DV=function(t){return t.renderer().getSourceEndpoint(t)},AV=function(t){return t.renderer().getTargetEndpoint(t)},PV=function(t){return t.renderer().getEdgeMidpoint(t)},ub={controlPoints:{get:kV,mult:!0},segmentPoints:{get:CV,mult:!0},sourceEndpoint:{get:DV},targetEndpoint:{get:AV},midpoint:{get:PV}},NV=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},OV=Object.keys(ub).reduce(function(e,t){var r=ub[t],n=NV(t);return e[t]=function(){return TV(this,r.get)},r.mult?e[n]=function(){return MV(this,r.get)}:e[n]=function(){return EV(this,r.get)},e},{}),LV=we({},bV,_V,SV,OV);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var W5=function(t,r){this.recycle(t,r)};function As(){return!1}function Hl(){return!0}W5.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=As,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Hl:As):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Hl;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Hl;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Hl,this.stopPropagation()},isDefaultPrevented:As,isPropagationStopped:As,isImmediatePropagationStopped:As};var U5=/^([^.]+)(\.(?:[^.]+))?$/,RV=".*",H5={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},lb=Object.keys(H5),$V={};function Dd(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$V,t=arguments.length>1?arguments[1]:void 0,r=0;r<lb.length;r++){var n=lb[r];this[n]=e[n]||H5[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Ka=Dd.prototype,G5=function(t,r,n,a,i,o,s){ft(a)&&(i=a,a=null),s&&(o==null?o=s:o=we({},o,s));for(var u=Je(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!Ua(f)){var c=f.match(U5);if(c){var d=c[1],h=c[2]?c[2]:null,v=r(t,f,d,h,a,i,o);if(v===!1)break}}}},fb=function(t,r){return t.addEventFields(t.context,r),new W5(r.type,r)},IV=function(t,r,n){if(nB(n)){r(t,n);return}else if(Fe(n)){r(t,fb(t,n));return}for(var a=Je(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!Ua(o)){var s=o.match(U5);if(s){var u=s[1],l=s[2]?s[2]:null,f=fb(t,{type:u,namespace:l,target:t.context});r(t,f)}}}};Ka.on=Ka.addListener=function(e,t,r,n,a){return G5(this,function(i,o,s,u,l,f,c){ft(f)&&i.listeners.push({event:o,callback:f,type:s,namespace:u,qualifier:l,conf:c})},e,t,r,n,a),this};Ka.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};Ka.removeListener=Ka.off=function(e,t,r,n){var a=this;this.emitting!==0&&(this.listeners=dF(this.listeners));for(var i=this.listeners,o=function(l){var f=i[l];G5(a,function(c,d,h,v,p,g){if((f.type===h||e==="*")&&(!v&&f.namespace!==".*"||f.namespace===v)&&(!p||c.qualifierCompare(f.qualifier,p))&&(!g||f.callback===g))return i.splice(l,1),!1},e,t,r,n)},s=i.length-1;s>=0;s--)o(s);return this};Ka.removeAllListeners=function(){return this.removeListener("*")};Ka.emit=Ka.trigger=function(e,t,r){var n=this.listeners,a=n.length;return this.emitting++,Je(t)||(t=[t]),IV(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=function(f){var c=n[f];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===RV)&&i.eventMatches(i.context,c,o)){var d=[o];t!=null&&vF(d,t),i.beforeEmit(i.context,c,o),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(p){return p!==c}));var h=i.callbackContext(i.context,c,o),v=c.callback.apply(h,d);i.afterEmit(i.context,c,o),v===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)s(u);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,t)},e),this.emitting--,this};var BV={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&tl(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},Gl=function(t){return ye(t)?new Ga(t):t},X5={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new Dd(BV,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var a=Gl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n)}return this},removeListener:function(t,r,n){for(var a=Gl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(t,a,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var a=Gl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(t,a,n)}return this},once:function(t,r,n){for(var a=Gl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};Xe.eventAliasesOn(X5);var K5={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?t.push(a):r.push(a)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(ye(t)||wr(t))return new Ga(t).filter(this);if(ft(t)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=r?t.apply(r,[o,i,a]):t(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){ye(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=t.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(ye(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),a=this,i=t,o=this.length<t.length,s=o?a:i,u=o?i:a,l=0;l<s.length;l++){var f=s[l];u.has(f)&&n.push(f)}return n},xor:function(t){var r=this._private.cy;ye(t)&&(t=r.$(t));var n=this.spawn(),a=this,i=t,o=function(u,l){for(var f=0;f<u.length;f++){var c=u[f],d=c._private.data.id,h=l.hasElementWithId(d);h||n.push(c)}};return o(a,i),o(i,a),n},diff:function(t){var r=this._private.cy;ye(t)&&(t=r.$(t));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=t,u=function(f,c,d){for(var h=0;h<f.length;h++){var v=f[h],p=v._private.data.id,g=c.hasElementWithId(p);g?i.merge(v):d.push(v)}};return u(o,s,n),u(s,o,a),{left:n,right:a,both:i}},add:function(t){var r=this._private.cy;if(!t)return this;if(ye(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&ye(t)){var a=t;t=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<t.length;o++){var s=t[o],u=s._private.data.id,l=!i.has(u);if(l){var f=this.length++;this[f]=s,i.set(u,{ele:s,index:f})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),a=this._private,i=a.map;this[t]=void 0,i.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[t]=u,i.set(l,{ele:u,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&ye(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=0;a<t.length;a++)this.unmergeOne(t[a]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=r?t.apply(r,[o,i,a]):t(o,i,a);n.push(s)}return n},reduce:function(t,r){for(var n=r,a=this,i=0;i<a.length;i++)n=t(n,a[i],i,a);return n},max:function(t,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?t.apply(r,[s,o,i]):t(s,o,i);u>n&&(n=u,a=s)}return{value:n,ele:a}},min:function(t,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?t.apply(r,[s,o,i]):t(s,o,i);u<n&&(n=u,a=s)}return{value:n,ele:a}}},qe=K5;qe.u=qe["|"]=qe["+"]=qe.union=qe.or=qe.add;qe["\\"]=qe["!"]=qe["-"]=qe.difference=qe.relativeComplement=qe.subtract=qe.not;qe.n=qe["&"]=qe["."]=qe.and=qe.intersection=qe.intersect;qe["^"]=qe["(+)"]=qe["(-)"]=qe.symmetricDifference=qe.symdiff=qe.xor;qe.fnFilter=qe.filterFn=qe.stdFilter=qe.filter;qe.complement=qe.abscomp=qe.absoluteComplement;var FV={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},Z5=function(t,r){var n=t.cy(),a=n.hasCompoundNodes();function i(f){var c=f.pstyle("z-compound-depth");return c.value==="auto"?a?f.zDepth():0:c.value==="bottom"?-1:c.value==="top"?h0:0}var o=i(t)-i(r);if(o!==0)return o;function s(f){var c=f.pstyle("z-index-compare");return c.value==="auto"&&f.isNode()?1:0}var u=s(t)-s(r);if(u!==0)return u;var l=t.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:t.poolIndex()-r.poolIndex()},hc={forEach:function(t,r){if(ft(t))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?t.apply(r,[i,a,this]):t(i,a,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],a=this.length;r==null&&(r=a),t==null&&(t=0),t<0&&(t=a+t),r<0&&(r=a+r);for(var i=t;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!ft(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(Z5)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var a=r.data.parent?t.parents().size():0;return t.isParent()?a:h0-1}else{var i=r.source,o=r.target,s=i.zDepth(),u=o.zDepth();return Math.max(s,u,0)}}}};hc.each=hc.forEach;var zV=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":St(Symbol))!=t&&St(Symbol.iterator)!=t;r&&(hc[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return HE({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};zV();var YV=qt({nodeDimensionsIncludeLabels:!1}),ff={layoutDimensions:function(t){t=YV(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var a=this.nodes().filter(function(S){return!S.isParent()}),i=this.cy(),o=r.eles,s=function(_){return _.id()},u=mu(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=function(_,x,E){var T={x:x.x1+x.w/2,y:x.y1+x.h/2},k={x:(E.x-T.x)*_,y:(E.y-T.y)*_};return{x:T.x+k.x,y:T.y+k.y}},f=r.spacingFactor&&r.spacingFactor!==1,c=function(){if(!f)return null;for(var _=gr(),x=0;x<a.length;x++){var E=a[x],T=u(E,x);qF(_,T.x,T.y)}return _},d=c(),h=mu(function(S,_){var x=u(S,_);if(f){var E=Math.abs(r.spacingFactor);x=l(E,d,x)}return r.transform!=null&&(x=r.transform(S,x)),x},s);if(r.animate){for(var v=0;v<a.length;v++){var p=a[v],g=h(p,v),m=r.animateFilter==null||r.animateFilter(p,v);if(m){var y=p.animation({position:g,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(y)}else p.position(g)}if(r.fit){var b=i.animation({fit:{boundingBox:o.boundingBoxAt(h),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var w=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(w)}t.animations.forEach(function(S){return S.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),ns.all(t.animations.map(function(S){return S.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(h),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(we({},t,{eles:this}))}};ff.createLayout=ff.makeLayout=ff.layout;function Q5(e,t,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[e])!=null||(i=a[e]=t(r)),i}function Ad(e,t){return e=Ni(e),function(n){return Q5(e,t,n)}}function Pd(e,t){e=Ni(e);var r=function(a){return t.call(a)};return function(){var a=this[0];if(a)return Q5(e,r,a)}}var Ft={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(i){return i._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;t=!!(t||t===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return t?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[t];return i??(r?a.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(Fe(t)){var o=t;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(ye(t))if(r===void 0){var s=this[0];return s?i.getStylePropertyValue(s,t):void 0}else i.applyBypass(this,t,r,a),this.emitAndNotify("style");else if(t===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(t===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{t=t.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var u=o[s],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function rv(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!t(i))return!1}return!0}function E0(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!t(i))return!1;if(i.isNode())return!o||rv(i,n);var u=s.source,l=s.target;return r(u)&&(!o||rv(u,r))&&(u===l||r(l)&&(!o||rv(l,r)))}}}var ss=Ad("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Ft.takesUpSpace=Pd("takesUpSpace",E0({ok:ss}));var qV=Ad("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&ss(e)}),VV=Ad("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&ss(e)});Ft.interactive=Pd("interactive",E0({ok:qV,parentOk:VV,edgeOkViaNode:ss}));Ft.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var WV=Ad("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&ss(e)}),UV=ss;Ft.visible=Pd("visible",E0({ok:WV,edgeOkViaNode:UV}));Ft.hidden=function(){var e=this[0];if(e)return!e.visible()};Ft.isBundledBezier=Pd("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Ft.bypass=Ft.css=Ft.style;Ft.renderedCss=Ft.renderedStyle;Ft.removeBypass=Ft.removeCss=Ft.removeStyle;Ft.pstyle=Ft.parsedStyle;var Fa={};function cb(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],a=t[1];this.on(e.event,n,a)}else if(t.length===1&&ft(t[0])){var i=t[0];this.on(e.event,i)}else if(t.length===0||t.length===1&&Je(t[0])){for(var o=t.length===1?t[0]:null,s=0;s<this.length;s++){var u=this[s],l=!e.ableField||u._private[e.ableField],f=u._private[e.field]!=e.value;if(e.overrideAble){var c=e.overrideAble(u);if(c!==void 0&&(l=c,!c))return this}l&&(u._private[e.field]=e.value,f&&r.push(u))}var d=this.spawn(r);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function us(e){Fa[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Fa[e.on]=cb({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Fa[e.off]=cb({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}us({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});us({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});us({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});us({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Fa.deselect=Fa.unselect;Fa.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};us({field:"active",on:"activate",off:"unactivate"});us({field:"pannable",on:"panify",off:"unpanify"});Fa.inactive=function(){var e=this[0];if(e)return!e._private.active};var Zt={},db=function(t){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),f=0;f<l.length;f++){var c=l[f],d=c.source(),h=c.target();if(t.noIncomingEdges&&h===s&&d!==s||t.noOutgoingEdges&&d===s&&h!==s){u=!0;break}}u||i.push(s)}}return this.spawn(i,!0).filter(n)}},hb=function(t){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),u=0;u<s.length;u++){var l=s[u],f=l.source(),c=l.target();t.outgoing&&f===o?(a.push(l),a.push(c)):t.incoming&&c===o&&(a.push(l),a.push(f))}}return this.spawn(a,!0).filter(r)}},vb=function(t){return function(r){for(var n=this,a=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,u=0;u<o.length;u++){var l=o[u],f=l.id();i[f]||(i[f]=!0,a.push(l),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(r)}};Zt.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};we(Zt,{roots:db({noIncomingEdges:!0}),leaves:db({noOutgoingEdges:!0}),outgoers:Ir(hb({outgoing:!0}),"outgoers"),successors:vb({outgoing:!0}),incomers:Ir(hb({incoming:!0}),"incomers"),predecessors:vb({incoming:!0})});we(Zt,{neighborhood:Ir(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],u=s.source(),l=s.target(),f=a===u?l:u;f.length>0&&t.push(f[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});Zt.neighbourhood=Zt.neighborhood;Zt.closedNeighbourhood=Zt.closedNeighborhood;Zt.openNeighbourhood=Zt.openNeighborhood;we(Zt,{source:Ir(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:Ir(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:gb({attr:"source"}),targets:gb({attr:"target"})});function gb(e){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}we(Zt,{edgesWith:Ir(pb(),"edgesWith"),edgesTo:Ir(pb({thisIsSrc:!0}),"edgesTo")});function pb(e){return function(r){var n=[],a=this._private.cy,i=e||{};ye(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,u=0;u<s.length;u++){var l=s[u],f=l._private.data,c=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),d=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),h=c||d;h&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!c||i.thisIsTgt&&!d)||n.push(l))}return this.spawn(n,!0)}}we(Zt,{connectedEdges:Ir(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Ir(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(t.push(a.source()[0]),t.push(a.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Ir(mb(),"parallelEdges"),codirectedEdges:Ir(mb({codirected:!0}),"codirectedEdges")});function mb(e){var t={codirected:!1};return e=we({},t,e),function(n){for(var a=[],i=this.edges(),o=e,s=0;s<i.length;s++)for(var u=i[s],l=u._private,f=l.source,c=f._private.data.id,d=l.data.target,h=f._private.edges,v=0;v<h.length;v++){var p=h[v],g=p._private.data,m=g.target,y=g.source,b=m===d&&y===c,w=c===m&&d===y;(o.codirected&&b||!o.codirected&&(b||w))&&a.push(p)}return this.spawn(a,!0).filter(n)}}we(Zt,{components:function(t){var r=this,n=r.cy(),a=n.collection(),i=t==null?r.nodes():t.nodes(),o=[];t!=null&&i.empty()&&(i=t.sources());var s=function(f,c){a.merge(f),i.unmerge(f),c.merge(f)};if(i.empty())return r.spawn();var u=function(){var f=n.collection();o.push(f);var c=i[0];s(c,f),r.bfs({directed:!1,roots:c,visit:function(h){return s(h,f)}}),f.forEach(function(d){d.connectedEdges().forEach(function(h){r.has(h)&&f.has(h.source())&&f.has(h.target())&&f.merge(h)})})};do u();while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});Zt.componentsOf=Zt.components;var zt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){vt("A collection must have a reference to the core");return}var i=new Sn,o=!1;if(!r)r=[];else if(r.length>0&&Fe(r[0])&&!tl(r[0])){o=!0;for(var s=[],u=new rs,l=0,f=r.length;l<f;l++){var c=r[l];c.data==null&&(c.data={});var d=c.data;if(d.id==null)d.id=f5();else if(t.hasElementWithId(d.id)||u.has(d.id))continue;var h=new _d(t,c,!1);s.push(h),u.add(d.id)}r=s}this.length=0;for(var v=0,p=r.length;v<p;v++){var g=r[v][0];if(g!=null){var m=g._private.data.id;(!n||!i.has(m))&&(n&&i.set(m,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var b=this.lazyMap=new Sn,w=this.eles,S=0;S<w.length;S++){var _=w[S];b.set(_.id(),{index:S,ele:_})}}},n&&(this._private.map=i),o&&!a&&this.restore()},nt=_d.prototype=zt.prototype=Object.create(Array.prototype);nt.instanceString=function(){return"collection"};nt.spawn=function(e,t){return new zt(this.cy(),e,t)};nt.spawnSelf=function(){return this.spawn(this)};nt.cy=function(){return this._private.cy};nt.renderer=function(){return this._private.cy.renderer()};nt.element=function(){return this[0]};nt.collection=function(){return ZE(this)?this:new zt(this._private.cy,[this])};nt.unique=function(){return new zt(this._private.cy,this,!0)};nt.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};nt.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new zt(t)};nt.$id=nt.getElementById;nt.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};nt.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};nt.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};nt.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(Fe(e)){if(r.startBatch(),e.data){t.data(e.data);var a=n.data;if(t.isEdge()){var i=!1,o={},s=e.data.source,u=e.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),u!=null&&u!=a.target&&(o.target=""+u,i=!0),i&&(t=t.move(o))}else{var l="parent"in e.data,f=e.data.parent;l&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),t=t.move({parent:f}))}}e.position&&t.position(e.position);var c=function(p,g,m){var y=e[p];y!=null&&y!==n[p]&&(y?t[g]():t[m]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),c("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var d={data:_n(n.data),position:_n(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var h=0;return n.classes.forEach(function(v){return d.classes+=h++===0?v:" "+v}),d}}};nt.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};nt.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new _d(e,a,!1);t.push(i)}return new zt(e,t)};nt.copy=nt.clone;nt.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],s,u=0,l=r.length;u<l;u++){var f=r[u];t&&!f.removed()||(f.isNode()?i.push(f):o.push(f))}s=i.concat(o);var c,d=function(){s.splice(c,1),c--};for(c=0;c<s.length;c++){var h=s[c],v=h._private,p=v.data;if(h.clearTraversalCache(),!(!t&&!v.removed)){if(p.id===void 0)p.id=f5();else if(fe(p.id))p.id=""+p.id;else if(Ua(p.id)||!ye(p.id)){vt("Can not create element with invalid string ID `"+p.id+"`"),d();continue}else if(n.hasElementWithId(p.id)){vt("Can not create second element with ID `"+p.id+"`"),d();continue}}var g=p.id;if(h.isNode()){var m=v.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(h.isEdge()){for(var y=h,b=["source","target"],w=b.length,S=!1,_=0;_<w;_++){var x=b[_],E=p[x];fe(E)&&(E=p[x]=""+p[x]),E==null||E===""?(vt("Can not create edge `"+g+"` with unspecified "+x),S=!0):n.hasElementWithId(E)||(vt("Can not create edge `"+g+"` with nonexistant "+x+" `"+E+"`"),S=!0)}if(S){d();continue}var T=n.getElementById(p.source),k=n.getElementById(p.target);T.same(k)?T._private.edges.push(y):(T._private.edges.push(y),k._private.edges.push(y)),y._private.source=T,y._private.target=k}v.map=new Sn,v.map.set(g,{ele:h,index:0}),v.removed=!1,t&&n.addToPool(h)}for(var M=0;M<i.length;M++){var D=i[M],P=D._private.data;fe(P.parent)&&(P.parent=""+P.parent);var C=P.parent,A=C!=null;if(A||D._private.parent){var O=D._private.parent?n.collection().merge(D._private.parent):n.getElementById(C);if(O.empty())P.parent=void 0;else if(O[0].removed())Ke("Node added with missing parent, reference to parent removed"),P.parent=void 0,D._private.parent=null;else{for(var L=!1,$=O;!$.empty();){if(D.same($)){L=!0,P.parent=void 0;break}$=$.parent()}L||(O[0]._private.children.push(D),D._private.parent=O[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var z=s.length===r.length?r:new zt(n,s),F=0;F<z.length;F++){var I=z[F];I.isNode()||(I.parallelEdges().clearTraversalCache(),I.source().clearTraversalCache(),I.target().clearTraversalCache())}var B;a.hasCompoundNodes?B=n.collection().merge(z).merge(z.connectedNodes()).merge(z.parent()):B=z,B.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?z.emitAndNotify("add"):t&&z.emit("add")}return r};nt.removed=function(){var e=this[0];return e&&e._private.removed};nt.inside=function(){var e=this[0];return e&&!e._private.removed};nt.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(C){for(var A=C._private.edges,O=0;O<A.length;O++)u(A[O])}function s(C){for(var A=C._private.children,O=0;O<A.length;O++)u(A[O])}function u(C){var A=a[C.id()];t&&C.removed()||A||(a[C.id()]=!0,C.isNode()?(n.push(C),o(C),s(C)):n.unshift(C))}for(var l=0,f=r.length;l<f;l++){var c=r[l];u(c)}function d(C,A){var O=C._private.edges;Ha(O,A),C.clearTraversalCache()}function h(C){C.clearTraversalCache()}var v=[];v.ids={};function p(C,A){A=A[0],C=C[0];var O=C._private.children,L=C.id();Ha(O,A),A._private.parent=null,v.ids[L]||(v.ids[L]=!0,v.push(C))}r.dirtyCompoundBoundsCache(),t&&i.removeFromPool(n);for(var g=0;g<n.length;g++){var m=n[g];if(m.isEdge()){var y=m.source()[0],b=m.target()[0];d(y,m),d(b,m);for(var w=m.parallelEdges(),S=0;S<w.length;S++){var _=w[S];h(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var x=m.parent();x.length!==0&&p(x,m)}t&&(m._private.removed=!0)}var E=i._private.elements;i._private.hasCompoundNodes=!1;for(var T=0;T<E.length;T++){var k=E[T];if(k.isParent()){i._private.hasCompoundNodes=!0;break}}var M=new zt(this.cy(),n);M.size()>0&&(e?M.emitAndNotify("remove"):t&&M.emit("remove"));for(var D=0;D<v.length;D++){var P=v[D];(!t||!P.removed())&&P.updateStyle()}return M};nt.move=function(e){var t=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(e.source!==void 0||e.target!==void 0){var o=i(e.source),s=i(e.target),u=o!=null&&t.hasElementWithId(o),l=s!=null&&t.hasElementWithId(s);(u||l)&&(t.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var h=0;h<r.length;h++){var v=r[h],p=v._private.data;v.isEdge()&&(u&&(p.source=o),l&&(p.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var f=i(e.parent),c=f===null||t.hasElementWithId(f);if(c){var d=f===null?void 0:f;t.batch(function(){var h=r.remove(n,a);h.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var p=r[v],g=p._private.data;p.isNode()&&(g.parent=d)}h.restore(n,a)}),r.emitAndNotify("move")}}return this};[S5,rV,lf,Ba,Ho,yV,Cd,LV,X5,K5,FV,hc,ff,Ft,Fa,Zt].forEach(function(e){we(nt,e)});var HV={add:function(t){var r,n=this;if(wr(t)){var a=t;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}r=new zt(n,i)}}else if(Je(t)){var u=t;r=new zt(n,u)}else if(Fe(t)&&(Je(t.nodes)||Je(t.edges))){for(var l=t,f=[],c=["nodes","edges"],d=0,h=c.length;d<h;d++){var v=c[d],p=l[v];if(Je(p))for(var g=0,m=p.length;g<m;g++){var y=we({group:v},p[g]);f.push(y)}}r=new zt(n,f)}else{var b=t;r=new _d(n,b).collection()}return r},remove:function(t){if(!wr(t)){if(ye(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function GV(e,t,r,n){var a=4,i=.001,o=1e-7,s=10,u=11,l=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var c=0;c<4;++c)if(typeof arguments[c]!="number"||isNaN(arguments[c])||!isFinite(arguments[c]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var d=f?new Float32Array(u):new Array(u);function h(k,M){return 1-3*M+3*k}function v(k,M){return 3*M-6*k}function p(k){return 3*k}function g(k,M,D){return((h(M,D)*k+v(M,D))*k+p(M))*k}function m(k,M,D){return 3*h(M,D)*k*k+2*v(M,D)*k+p(M)}function y(k,M){for(var D=0;D<a;++D){var P=m(M,e,r);if(P===0)return M;var C=g(M,e,r)-k;M-=C/P}return M}function b(){for(var k=0;k<u;++k)d[k]=g(k*l,e,r)}function w(k,M,D){var P,C,A=0;do C=M+(D-M)/2,P=g(C,e,r)-k,P>0?D=C:M=C;while(Math.abs(P)>o&&++A<s);return C}function S(k){for(var M=0,D=1,P=u-1;D!==P&&d[D]<=k;++D)M+=l;--D;var C=(k-d[D])/(d[D+1]-d[D]),A=M+C*l,O=m(A,e,r);return O>=i?y(k,A):O===0?A:w(k,M,M+l)}var _=!1;function x(){_=!0,(e!==t||r!==n)&&b()}var E=function(M){return _||x(),e===t&&r===n?M:M===0?0:M===1?1:g(S(M),t,n)};E.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var T="generateBezier("+[e,t,r,n]+")";return E.toString=function(){return T},E}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var XV=function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,a){var i={dx:n.v,dv:e(n)},o=t(n,a*.5,i),s=t(n,a*.5,o),u=t(n,a,s),l=1/6*(i.dx+2*(o.dx+s.dx)+u.dx),f=1/6*(i.dv+2*(o.dv+s.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+f*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1/1e4,c=16/1e3,d,h,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,d=o!==null,d?(l=n(a,i),h=l/o*c):h=c;v=r(v||s,h),u.push(1+v.x),l+=16,Math.abs(v.x)>f&&Math.abs(v.v)>f;);return d?function(p){return u[p*(u.length-1)|0]}:l}}(),rt=function(t,r,n,a){var i=GV(t,r,n,a);return function(o,s,u){return o+(s-o)*i(u)}},cf={linear:function(t,r,n){return t+(r-t)*n},ease:rt(.25,.1,.25,1),"ease-in":rt(.42,0,1,1),"ease-out":rt(0,0,.58,1),"ease-in-out":rt(.42,0,.58,1),"ease-in-sine":rt(.47,0,.745,.715),"ease-out-sine":rt(.39,.575,.565,1),"ease-in-out-sine":rt(.445,.05,.55,.95),"ease-in-quad":rt(.55,.085,.68,.53),"ease-out-quad":rt(.25,.46,.45,.94),"ease-in-out-quad":rt(.455,.03,.515,.955),"ease-in-cubic":rt(.55,.055,.675,.19),"ease-out-cubic":rt(.215,.61,.355,1),"ease-in-out-cubic":rt(.645,.045,.355,1),"ease-in-quart":rt(.895,.03,.685,.22),"ease-out-quart":rt(.165,.84,.44,1),"ease-in-out-quart":rt(.77,0,.175,1),"ease-in-quint":rt(.755,.05,.855,.06),"ease-out-quint":rt(.23,1,.32,1),"ease-in-out-quint":rt(.86,0,.07,1),"ease-in-expo":rt(.95,.05,.795,.035),"ease-out-expo":rt(.19,1,.22,1),"ease-in-out-expo":rt(1,0,0,1),"ease-in-circ":rt(.6,.04,.98,.335),"ease-out-circ":rt(.075,.82,.165,1),"ease-in-out-circ":rt(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return cf.linear;var a=XV(t,r,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":rt};function yb(e,t,r,n,a){if(n===1||t===r)return r;var i=a(t,r,n);return e==null||((e.roundValue||e.color)&&(i=Math.round(i)),e.min!==void 0&&(i=Math.max(i,e.min)),e.max!==void 0&&(i=Math.min(i,e.max))),i}function bb(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function eo(e,t,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=bb(e,a),s=bb(t,a);if(fe(o)&&fe(s))return yb(i,o,s,r,n);if(Je(o)&&Je(s)){for(var u=[],l=0;l<s.length;l++){var f=o[l],c=s[l];if(f!=null&&c!=null){var d=yb(i,f,c,r,n);u.push(d)}else u.push(c)}return u}}function KV(e,t,r,n){var a=!n,i=e._private,o=t._private,s=o.easing,u=o.startTime,l=n?e:e.cy(),f=l.style();if(!o.easingImpl)if(s==null)o.easingImpl=cf.linear;else{var c;if(ye(s)){var d=f.parse("transition-timing-function",s);c=d.value}else c=s;var h,v;ye(c)?(h=c,v=[]):(h=c[1],v=c.slice(2).map(function(z){return+z})),v.length>0?(h==="spring"&&v.push(o.duration),o.easingImpl=cf[h].apply(null,v)):o.easingImpl=cf[h]}var p=o.easingImpl,g;if(o.duration===0?g=1:g=(r-u)/o.duration,o.applying&&(g=o.progress),g<0?g=0:g>1&&(g=1),o.delay==null){var m=o.startPosition,y=o.position;if(y&&a&&!e.locked()){var b={};Ps(m.x,y.x)&&(b.x=eo(m.x,y.x,g,p)),Ps(m.y,y.y)&&(b.y=eo(m.y,y.y,g,p)),e.position(b)}var w=o.startPan,S=o.pan,_=i.pan,x=S!=null&&n;x&&(Ps(w.x,S.x)&&(_.x=eo(w.x,S.x,g,p)),Ps(w.y,S.y)&&(_.y=eo(w.y,S.y,g,p)),e.emit("pan"));var E=o.startZoom,T=o.zoom,k=T!=null&&n;k&&(Ps(E,T)&&(i.zoom=xu(i.minZoom,eo(E,T,g,p),i.maxZoom)),e.emit("zoom")),(x||k)&&e.emit("viewport");var M=o.style;if(M&&M.length>0&&a){for(var D=0;D<M.length;D++){var P=M[D],C=P.name,A=P,O=o.startStyle[C],L=f.properties[O.name],$=eo(O,A,g,p,L);f.overrideBypass(e,C,$)}e.emit("style")}}return o.progress=g,g}function Ps(e,t){return e==null||t==null?!1:fe(e)&&fe(t)?!0:!!(e&&t)}function ZV(e,t,r,n){var a=t._private;a.started=!0,a.startTime=r-a.progress*a.duration}function wb(e,t){var r=t._private.aniEles,n=[];function a(f,c){var d=f._private,h=d.animation.current,v=d.animation.queue,p=!1;if(h.length===0){var g=v.shift();g&&h.push(g)}for(var m=function(_){for(var x=_.length-1;x>=0;x--){var E=_[x];E()}_.splice(0,_.length)},y=h.length-1;y>=0;y--){var b=h[y],w=b._private;if(w.stopped){h.splice(y,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.frames);continue}!w.playing&&!w.applying||(w.playing&&w.applying&&(w.applying=!1),w.started||ZV(f,b,e),KV(f,b,e,c),w.applying&&(w.applying=!1),m(w.frames),w.step!=null&&w.step(e),b.completed()&&(h.splice(y,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.completes)),p=!0)}return!c&&h.length===0&&v.length===0&&n.push(f),p}for(var i=!1,o=0;o<r.length;o++){var s=r[o],u=a(s);i=i||u}var l=a(t,!0);(i||l)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var QV={animate:Xe.animate(),animation:Xe.animation(),animated:Xe.animated(),clearQueue:Xe.clearQueue(),delay:Xe.delay(),delayAnimation:Xe.delayAnimation(),stop:Xe.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&uc(function(i){wb(i,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){wb(o,t)},n.beforeRenderPriorities.animations):r()}},jV={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&tl(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},Xl=function(t){return ye(t)?new Ga(t):t},j5={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Dd(jV,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,Xl(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,Xl(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,Xl(r),n),this},once:function(t,r,n){return this.emitter().one(t,Xl(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};Xe.eventAliasesOn(j5);var wg={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};wg.jpeg=wg.jpg;var df={layout:function(t){var r=this;if(t==null){vt("Layout options must be specified to make a layout");return}if(t.name==null){vt("A `name` must be specified to make a layout");return}var n=t.name,a=r.extension("layout",n);if(a==null){vt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;ye(t.eles)?i=r.$(t.eles):i=t.eles!=null?t.eles:r.$();var o=new a(we({},t,{cy:r,eles:i}));return o}};df.createLayout=df.makeLayout=df.layout;var JV={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var a=t.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],o=t[i],s=r.getElementById(i);s.data(o)}})}},eW=qt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),xg={renderTo:function(t,r,n,a){var i=this._private.renderer;return i.renderTo(t,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){vt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&Ke("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=eW(t);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};xg.invalidateDimensions=xg.resize;var hf={collection:function(t,r){return ye(t)?this.$(t):wr(t)?t.collection():Je(t)?(r||(r={}),new zt(this,t,r.unique,r.removed)):new zt(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};hf.elements=hf.filter=hf.$;var jt={},Qs="t",tW="f";jt.apply=function(e){for(var t=this,r=t._private,n=r.cy,a=n.collection(),i=0;i<e.length;i++){var o=e[i],s=t.getContextMeta(o);if(!s.empty){var u=t.getContextStyle(s),l=t.applyContextStyle(s,u,o);o._private.appliedInitStyle?t.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var f=t.updateStyleHints(o);f&&a.push(o)}}return a};jt.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=e+"-"+t,i=n[a];if(i)return i;for(var o=[],s={},u=0;u<r.length;u++){var l=r[u],f=e[u]===Qs,c=t[u]===Qs,d=f!==c,h=l.mappedProperties.length>0;if(d||c&&h){var v=void 0;d&&h||d?v=l.properties:h&&(v=l.mappedProperties);for(var p=0;p<v.length;p++){for(var g=v[p],m=g.name,y=!1,b=u+1;b<r.length;b++){var w=r[b],S=t[b]===Qs;if(S&&(y=w.properties[g.name]!=null,y))break}!s[m]&&!y&&(s[m]=!0,o.push(m))}}}return n[a]=o,o};jt.getContextMeta=function(e){for(var t=this,r="",n,a=e._private.styleCxtKey||"",i=0;i<t.length;i++){var o=t[i],s=o.selector&&o.selector.matches(e);s?r+=Qs:r+=tW}return n=t.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};jt.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var a={_private:{key:t}},i=0;i<r.length;i++){var o=r[i],s=t[i]===Qs;if(s)for(var u=0;u<o.properties.length;u++){var l=o.properties[u];a[l.name]=l}}return n[t]=a,a};jt.applyContextStyle=function(e,t,r){for(var n=this,a=e.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var u=a[s],l=t[u],f=r.pstyle(u);if(!l)if(f)f.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(f!==l){if(l.mapped===o.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var c=f.mapping,d=c.fnValue=l.value(r);if(d===c.prevFnValue)continue}var h=i[u]={prev:f};n.applyParsedProperty(r,l),h.next=r.pstyle(u),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}};jt.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(U,Y,ie){return r.getPropertiesHash(U,Y,ie)},o=t.styleKey;if(e.removed())return!1;var s=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var f=a[l];t.styleKeys[f]=[lo,qs]}for(var c=function(U,Y){return t.styleKeys[Y][0]=yu(U,t.styleKeys[Y][0])},d=function(U,Y){return t.styleKeys[Y][1]=bu(U,t.styleKeys[Y][1])},h=function(U,Y){c(U,Y),d(U,Y)},v=function(U,Y){for(var ie=0;ie<U.length;ie++){var J=U.charCodeAt(ie);c(J,Y),d(J,Y)}},p=2e9,g=function(U){return-128<U&&U<128&&Math.floor(U)!==U?p-(U*1024|0):U},m=0;m<n.length;m++){var y=n[m],b=u[y];if(b!=null){var w=this.properties[y],S=w.type,_=w.groupKey,x=void 0;w.hashOverride!=null?x=w.hashOverride(e,b):b.pfValue!=null&&(x=b.pfValue);var E=w.enums==null?b.value:null,T=x!=null,k=E!=null,M=T||k,D=b.units;if(S.number&&M&&!S.multiple){var P=T?x:E;h(g(P),_),!T&&D!=null&&v(D,_)}else v(b.strValue,_)}}for(var C=[lo,qs],A=0;A<a.length;A++){var O=a[A],L=t.styleKeys[O];C[0]=yu(L[0],C[0]),C[1]=bu(L[1],C[1])}t.styleKey=oF(C[0],C[1]);var $=t.styleKeys;t.labelDimsKey=ka($.labelDimensions);var z=i(e,["label"],$.labelDimensions);if(t.labelKey=ka(z),t.labelStyleKey=ka(Fl($.commonLabel,z)),!s){var F=i(e,["source-label"],$.labelDimensions);t.sourceLabelKey=ka(F),t.sourceLabelStyleKey=ka(Fl($.commonLabel,F));var I=i(e,["target-label"],$.labelDimensions);t.targetLabelKey=ka(I),t.targetLabelStyleKey=ka(Fl($.commonLabel,I))}if(s){var B=t.styleKeys,V=B.nodeBody,K=B.nodeBorder,j=B.nodeOutline,Q=B.backgroundImage,X=B.compound,W=B.pie,R=[V,K,j,Q,X,W].filter(function(q){return q!=null}).reduce(Fl,[lo,qs]);t.nodeKey=ka(R),t.hasPie=W!=null&&W[0]!==lo&&W[1]!==qs}return o!==t.styleKey};jt.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null};jt.applyParsedProperty=function(e,t){var r=this,n=t,a=e._private.style,i,o=r.types,s=r.properties[n.name].type,u=n.bypass,l=a[n.name],f=l&&l.bypass,c=e._private,d="mapping",h=function(V){return V==null?null:V.pfValue!=null?V.pfValue:V.value},v=function(){var V=h(l),K=h(n);r.checkTriggers(e,n.name,V,K)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",u)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var p=function(){Ke("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var g=n.field.split("."),m=c.data,y=0;y<g.length&&m;y++){var b=g[y];m=m[b]}if(m==null)return p(),!1;var w;if(fe(m)){var S=n.fieldMax-n.fieldMin;S===0?w=0:w=(m-n.fieldMin)/S}else return Ke("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;if(w<0?w=0:w>1&&(w=1),s.color){var _=n.valueMin[0],x=n.valueMax[0],E=n.valueMin[1],T=n.valueMax[1],k=n.valueMin[2],M=n.valueMax[2],D=n.valueMin[3]==null?1:n.valueMin[3],P=n.valueMax[3]==null?1:n.valueMax[3],C=[Math.round(_+(x-_)*w),Math.round(E+(T-E)*w),Math.round(k+(M-k)*w),Math.round(D+(P-D)*w)];i={bypass:n.bypass,name:n.name,value:C,strValue:"rgb("+C[0]+", "+C[1]+", "+C[2]+")"}}else if(s.number){var A=n.valueMin+(n.valueMax-n.valueMin)*w;i=this.parse(n.name,A,n.bypass,d)}else return!1;if(!i)return p(),!1;i.mapping=n,n=i;break}case o.data:{for(var O=n.field.split("."),L=c.data,$=0;$<O.length&&L;$++){var z=O[$];L=L[z]}if(L!=null&&(i=this.parse(n.name,L,n.bypass,d)),!i)return p(),!1;i.mapping=n,n=i;break}case o.fn:{var F=n.value,I=n.fnValue!=null?n.fnValue:F(e);if(n.prevFnValue=I,I==null)return Ke("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(i=this.parse(n.name,I,n.bypass,d),!i)return Ke("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;i.mapping=_n(n),n=i;break}case void 0:break;default:return!1}return u?(f?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):f?l.bypassed=n:a[n.name]=n,v(),!0};jt.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],u=a[s];u!=null&&(u.bypass?u.bypassed=null:a[s]=null)}}};jt.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};jt.updateTransitions=function(e,t){var r=this,n=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},u=!1,l=0;l<a.length;l++){var f=a[l],c=e.pstyle(f),d=t[f];if(d){var h=d.prev,v=h,p=d.next!=null?d.next:c,g=!1,m=void 0,y=1e-6;v&&(fe(v.pfValue)&&fe(p.pfValue)?(g=p.pfValue-v.pfValue,m=v.pfValue+y*g):fe(v.value)&&fe(p.value)?(g=p.value-v.value,m=v.value+y*g):Je(v.value)&&Je(p.value)&&(g=v.value[0]!==p.value[0]||v.value[1]!==p.value[1]||v.value[2]!==p.value[2],m=v.strValue),g&&(s[f]=p.strValue,this.applyBypass(e,f,m),u=!0))}}if(!u)return;n.transitioning=!0,new ns(function(b){o>0?e.delayAnimation(o).play().promise().then(b):b()}).then(function(){return e.animation({style:s,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)};jt.checkTrigger=function(e,t,r,n,a,i){var o=this.properties[t],s=a(o);s!=null&&s(r,n)&&i(o)};jt.checkZOrderTrigger=function(e,t,r,n){var a=this;this.checkTrigger(e,t,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};jt.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&t==="curve-style"&&(r==="bezier"||n==="bezier")&&e.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&t==="display"&&(r==="none"||n==="none")&&e.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};jt.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n)};var il={};il.applyBypass=function(e,t,r,n){var a=this,i=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var u=a.properties[s],l=u.name,f=this.parse(l,r,!0);f&&i.push(f)}}else if(ye(t)){var c=this.parse(t,r,!0);c&&i.push(c)}else if(Fe(t)){var d=t;n=r;for(var h=Object.keys(d),v=0;v<h.length;v++){var p=h[v],g=d[p];if(g===void 0&&(g=d[bd(p)]),g!==void 0){var m=this.parse(p,g,!0);m&&i.push(m)}}}else return!1;if(i.length===0)return!1;for(var y=!1,b=0;b<e.length;b++){for(var w=e[b],S={},_=void 0,x=0;x<i.length;x++){var E=i[x];if(n){var T=w.pstyle(E.name);_=S[E.name]={prev:T}}y=this.applyParsedProperty(w,_n(E))||y,n&&(_.next=w.pstyle(E.name))}y&&this.updateStyleHints(w),n&&this.updateTransitions(w,S,o)}return y};il.overrideBypass=function(e,t,r){t=d0(t);for(var n=0;n<e.length;n++){var a=e[n],i=a._private.style[t],o=this.properties[t].type,s=o.color,u=o.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,t,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),s?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,t,l,r)}};il.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};il.removeBypasses=function(e,t,r){for(var n=!0,a=0;a<e.length;a++){for(var i=e[a],o={},s=0;s<t.length;s++){var u=t[s],l=this.properties[u],f=i.pstyle(l.name);if(!(!f||!f.bypass)){var c="",d=this.parse(u,c,!0),h=o[l.name]={prev:f};this.applyParsedProperty(i,d),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var M0={};M0.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};M0.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var An={};An.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};An.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(e,i.name,t);o!=null&&(n[i.name]=o,n[bd(i.name)]=o)}return n}};An.getIndexedStyle=function(e,t,r,n){var a=e.pstyle(t)[r][n];return a??e.cy().style().getDefaultProperty(t)[r][0]};An.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var a=n.properties[t];a.alias&&(a=a.pointsTo);var i=a.type,o=e.pstyle(a.name);if(o){var s=o.value,u=o.units,l=o.strValue;if(r&&i.number&&s!=null&&fe(s)){var f=e.cy().zoom(),c=function(g){return g*f},d=function(g,m){return c(g)+m},h=Je(s),v=h?u.every(function(p){return p!=null}):u!=null;return v?h?s.map(function(p,g){return d(p,u[g])}).join(" "):d(s,u):h?s.map(function(p){return ye(p)?p:""+c(p)}).join(" "):""+c(s)}else if(l!=null)return l}return null}};An.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],i=a.name,o=e.pstyle(i);o!==void 0&&(Fe(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};An.getPropsList=function(e){var t=this,r=[],n=e,a=t.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],u=n[s],l=a[s]||a[d0(s)],f=this.parse(l.name,u);f&&r.push(f)}return r};An.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),a,i,o,s,u,l;for(u=0;u<t.length;u++)if(a=t[u],i=e.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=yu(s,n[0]),n[1]=bu(s,n[1]);else for(o=i.strValue,l=0;l<o.length;l++)s=o.charCodeAt(l),n[0]=yu(s,n[0]),n[1]=bu(s,n[1]);return n};An.getPropertiesHash=An.getNonDefaultPropertiesHash;var Nd={};Nd.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);t.selector(a);for(var s=0;s<o.length;s++){var u=o[s],l=i[u];t.css(u,l)}}return t};Nd.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};Nd.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:i})}return e};var k0={};k0.appendFromString=function(e){var t=this,r=this,n=""+e,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){Ke("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var c=f[1];if(c!=="core"){var d=new Ga(c);if(d.invalid){Ke("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),s();continue}}var h=f[2],v=!1;i=h;for(var p=[];;){var g=i.match(/^\s*$/);if(g)break;var m=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){Ke("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),v=!0;break}o=m[0];var y=m[1],b=m[2],w=t.properties[y];if(!w){Ke("Skipping property: Invalid property name in: "+o),u();continue}var S=r.parse(y,b);if(!S){Ke("Skipping property: Invalid property definition in: "+o),u();continue}p.push({name:y,val:b}),u()}if(v){s();break}r.selector(c);for(var _=0;_<p.length;_++){var x=p[_];r.css(x.name,x.val)}s()}return r};k0.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Bt={};(function(){var e=_t,t=lB,r=cB,n=dB,a=hB,i=function(R){return"^"+R+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(R){var q=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+a;return"^"+R+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+q+")\\s*\\,\\s*("+q+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Bt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(R,q){switch(R.length){case 2:return q[0]!=="deg"&&q[0]!=="rad"&&q[1]!=="deg"&&q[1]!=="rad";case 1:return ye(R[0])||q[0]==="deg"||q[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(R){var q=R.length;return q===1||q===2||q===4}}};var u={zeroNonZero:function(R,q){return(R==null||q==null)&&R!==q||R==0&&q!=0?!0:R!=0&&q==0},any:function(R,q){return R!=q},emptyNonEmpty:function(R,q){var U=Ua(R),Y=Ua(q);return U&&!Y||!U&&Y}},l=Bt.types,f=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],c=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],p=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],g=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],m=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],y=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],b=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],w=function(R,q){return q.value==="label"?-R.poolIndex():q.pfValue},S=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],_=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],x=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],E=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],T=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],k=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],M=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],D=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],P=[];Bt.pieBackgroundN=16,P.push({name:"pie-size",type:l.sizeMaybePercent});for(var C=1;C<=Bt.pieBackgroundN;C++)P.push({name:"pie-"+C+"-background-color",type:l.color}),P.push({name:"pie-"+C+"-background-size",type:l.percent}),P.push({name:"pie-"+C+"-background-opacity",type:l.zeroOneNumber});var A=[],O=Bt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(W){O.forEach(function(R){var q=R+"-"+W.name,U=W.type,Y=W.triggersBounds;A.push({name:q,type:U,triggersBounds:Y})})},{});var L=Bt.properties=[].concat(p,b,g,m,y,M,v,h,f,c,d,S,_,x,E,P,T,k,A,D),$=Bt.propertyGroups={behavior:p,transition:b,visibility:g,overlay:m,underlay:y,ghost:M,commonLabel:v,labelDimensions:h,mainLabel:f,sourceLabel:c,targetLabel:d,nodeBody:S,nodeBorder:_,nodeOutline:x,backgroundImage:E,pie:P,compound:T,edgeLine:k,edgeArrow:A,core:D},z=Bt.propertyGroupNames={},F=Bt.propertyGroupKeys=Object.keys($);F.forEach(function(W){z[W]=$[W].map(function(R){return R.name}),$[W].forEach(function(R){return R.groupKey=W})});var I=Bt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Bt.propertyNames=L.map(function(W){return W.name});for(var B=0;B<L.length;B++){var V=L[B];L[V.name]=V}for(var K=0;K<I.length;K++){var j=I[K],Q=L[j.pointsTo],X={name:j.name,alias:!0,pointsTo:Q};L.push(X),L[j.name]=X}})();Bt.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Bt.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=we({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var f=1;f<=Bt.pieBackgroundN;f++){var c=l.name.replace("{{i}}",f),d=l.value;u[c]=d}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return Bt.arrowPrefixes.forEach(function(f){var c=f+"-"+l.name,d=l.value;u[c]=d}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=t[i],s=this.parse(i,o);r[i]=s}}return e.defaultProperties=r,e.defaultProperties};Bt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Od={};Od.parse=function(e,t,r,n){var a=this;if(ft(t))return a.parseImplWarn(e,t,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+t,u=s5(e,s,o,i),l=a.propCache=a.propCache||[],f;return(f=l[u])||(f=l[u]=a.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(f=_n(f),f&&(f.value=_n(f.value))),f};Od.parseImplWarn=function(e,t,r,n){var a=this.parseImpl(e,t,r,n);return!a&&t!=null&&Ke("The style property `".concat(e,": ").concat(t,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&t==="label"&&Ke("The style value of `label` is deprecated for `"+a.name+"`"),a};Od.parseImpl=function(e,t,r,n){var a=this;e=d0(e);var i=a.properties[e],o=t,s=a.types;if(!i||t===void 0)return null;i.alias&&(i=i.pointsTo,e=i.name);var u=ye(t);u&&(t=t.trim());var l=i.type;if(!l)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(ft(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};var f,c;if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(f=new RegExp(s.data.regex).exec(t))){if(r)return!1;var d=s.data;return{name:e,value:f,strValue:""+t,mapped:d,field:f[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(c=new RegExp(s.mapData.regex).exec(t))){if(r||l.multiple)return!1;var h=s.mapData;if(!(l.color||l.number))return!1;var v=this.parse(e,c[4]);if(!v||v.mapped)return!1;var p=this.parse(e,c[5]);if(!p||p.mapped)return!1;if(v.pfValue===p.pfValue||v.strValue===p.strValue)return Ke("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+v.strValue+"`"),this.parse(e,v.strValue);if(l.color){var g=v.value,m=p.value,y=g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&(g[3]===m[3]||(g[3]==null||g[3]===1)&&(m[3]==null||m[3]===1));if(y)return!1}return{name:e,value:c,strValue:""+t,mapped:h,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:v.value,valueMax:p.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var b;if(u?b=t.split(/\s+/):Je(t)?b=t:b=[t],l.evenMultiple&&b.length%2!==0)return null;for(var w=[],S=[],_=[],x="",E=!1,T=0;T<b.length;T++){var k=a.parse(e,b[T],r,"multiple");E=E||ye(k.value),w.push(k.value),_.push(k.pfValue!=null?k.pfValue:k.value),S.push(k.units),x+=(T>0?" ":"")+k.strValue}return l.validate&&!l.validate(w,S)?null:l.singleEnum&&E?w.length===1&&ye(w[0])?{name:e,value:w[0],strValue:w[0],bypass:r}:null:{name:e,value:w,pfValue:_,strValue:x,bypass:r,units:S}}var M=function(){for(var R=0;R<l.enums.length;R++){var q=l.enums[R];if(q===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(l.number){var D,P="px";if(l.units&&(D=l.units),l.implicitUnits&&(P=l.implicitUnits),!l.unitless)if(u){var C="px|em"+(l.allowPercent?"|\\%":"");D&&(C=D);var A=t.match("^("+_t+")("+C+")?$");A&&(t=A[1],D=A[2]||P)}else(!D||l.implicitUnits)&&(D=P);if(t=parseFloat(t),isNaN(t)&&l.enums===void 0)return null;if(isNaN(t)&&l.enums!==void 0)return t=o,M();if(l.integer&&!rB(t)||l.min!==void 0&&(t<l.min||l.strictMin&&t===l.min)||l.max!==void 0&&(t>l.max||l.strictMax&&t===l.max))return null;var O={name:e,value:t,strValue:""+t+(D||""),units:D,bypass:r};return l.unitless||D!=="px"&&D!=="em"?O.pfValue=t:O.pfValue=D==="px"||!D?t:this.getEmSizeInPixels()*t,(D==="ms"||D==="s")&&(O.pfValue=D==="ms"?t:1e3*t),(D==="deg"||D==="rad")&&(O.pfValue=D==="rad"?t:$F(t)),D==="%"&&(O.pfValue=t/100),O}else if(l.propList){var L=[],$=""+t;if($!=="none"){for(var z=$.split(/\s*,\s*|\s+/),F=0;F<z.length;F++){var I=z[F].trim();a.properties[I]?L.push(I):Ke("`"+I+"` is not a valid property name")}if(L.length===0)return null}return{name:e,value:L,strValue:L.length===0?"none":L.join(" "),bypass:r}}else if(l.color){var B=bB(t);return B?{name:e,value:B,pfValue:B,strValue:"rgb("+B[0]+","+B[1]+","+B[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var V=M();if(V)return V}for(var K=l.regexes?l.regexes:[l.regex],j=0;j<K.length;j++){var Q=new RegExp(K[j]),X=Q.exec(t);if(X)return{name:e,value:l.singleRegexMatchValue?X[1]:X,strValue:""+t,bypass:r}}return null}else return l.string?{name:e,value:""+t,strValue:""+t,bypass:r}:l.enums?M():null};var Kt=function e(t){if(!(this instanceof e))return new e(t);if(!c0(t)){vt("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},Qt=Kt.prototype;Qt.instanceString=function(){return"style"};Qt.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};Qt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Qt.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};Qt.selector=function(e){var t=e==="core"?null:new Ga(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};Qt.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],i=r[a.name];i===void 0&&(i=r[bd(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Qt.style=Qt.css;Qt.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Qt.append=function(e){return QE(e)?e.appendToStyle(this):Je(e)?this.appendFromJson(e):ye(e)&&this.appendFromString(e),this};Kt.fromJson=function(e,t){var r=new Kt(e);return r.fromJson(t),r};Kt.fromString=function(e,t){return new Kt(e).fromString(t)};[jt,il,M0,An,Nd,k0,Bt,Od].forEach(function(e){we(Qt,e)});Kt.types=Qt.types;Kt.properties=Qt.properties;Kt.propertyGroups=Qt.propertyGroups;Kt.propertyGroupNames=Qt.propertyGroupNames;Kt.propertyGroupKeys=Qt.propertyGroupKeys;var rW={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return QE(t)?r.style=t.generateStyle(this):Je(t)?r.style=Kt.fromJson(this,t):ye(t)?r.style=Kt.fromString(this,t):r.style=Kt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},nW="single",$i={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=nW),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,a,i,o,s;switch(t.length){case 0:return r;case 1:if(ye(t[0]))return n=t[0],r[n];if(Fe(t[0])){if(!this._private.panningEnabled)return this;i=t[0],o=i.x,s=i.y,fe(o)&&(r.x=o),fe(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],a=t[1],(n==="x"||n==="y")&&fe(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,a=this._private.pan,i,o,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Fe(t)&&(s=n[0],u=s.x,l=s.y,fe(u)&&(a.x+=u),fe(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=t,o=r,(i==="x"||i==="y")&&fe(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(fe(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(ye(t)){var a=t;t=this.$(a)}else if(iB(t)){var i=t;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else wr(t)||(t=this.mutableElements());if(!(wr(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),s=this.height(),u;if(r=fe(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*r)/n.w,(s-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(o-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var a=t;t=a.min,r=a.max}return fe(t)&&fe(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):fe(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:fe(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,a=r.zoom,i,o,s=!1;if(r.zoomingEnabled||(s=!0),fe(t)?o=t:Fe(t)&&(o=t.level,t.position!=null?i=Sd(t.position,a,n):t.renderedPosition!=null&&(i=t.renderedPosition),i!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!fe(o)||o===a||i!=null&&(!fe(i.x)||!fe(i.y)))return null;if(i!=null){var u=n,l=a,f=o,c={x:-f/l*(i.x-u.x)+i.x,y:-f/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:f,pan:c}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!t)return this;if(fe(t.zoom)||(n=!1),Fe(t.pan)||(a=!1),!n&&!a)return this;if(n){var u=t.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var l=t.pan;fe(l.x)&&(r.pan.x=l.x,s=!1),fe(l.y)&&(r.pan.y=l.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(ye(t)){var n=t;t=this.mutableElements().filter(n)}else wr(t)||(t=this.mutableElements());if(t.length!==0){var a=t.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(s){return parseFloat(a.getPropertyValue(s))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};$i.centre=$i.center;$i.autolockNodes=$i.autolock;$i.autoungrabifyNodes=$i.autoungrabify;var Mu={data:Xe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Xe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Xe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Mu.attr=Mu.data;Mu.removeAttr=Mu.removeData;var ku=function(t){var r=this;t=we({},t);var n=t.container;n&&!sc(n)&&sc(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=wt!==void 0&&n!==void 0&&!t.headless,s=t;s.layout=we({name:o?"grid":"null"},s.layout),s.renderer=we({name:o?"canvas":"null"},s.renderer);var u=function(v,p,g){return p!==void 0?p:g!==void 0?g:v},l=this._private={container:n,ready:!1,options:s,elements:new zt(this),listeners:[],aniEles:new zt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:fe(s.zoom)?s.zoom:1,pan:{x:Fe(s.pan)&&fe(s.pan.x)?s.pan.x:0,y:Fe(s.pan)&&fe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(v,p){var g=v.some(oB);if(g)return ns.all(v).then(p);p(v)};l.styleEnabled&&r.setStyle([]);var c=we({},s,s.renderer);r.initRenderer(c);var d=function(v,p,g){r.notifications(!1);var m=r.mutableElements();m.length>0&&m.remove(),v!=null&&(Fe(v)||Je(v))&&r.add(v),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",p),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",g),r.emit("done")});var y=we({},r._private.options.layout);y.eles=r.elements(),r.layout(y).run()};f([s.style,s.elements],function(h){var v=h[0],p=h[1];l.styleEnabled&&r.style().append(v),d(p,function(){r.startAnimationLoop(),l.ready=!0,ft(s.ready)&&r.on("ready",s.ready);for(var g=0;g<i.length;g++){var m=i[g];r.on("ready",m)}a&&(a.readies=[]),r.emit("ready")},s.done)})},vc=ku.prototype;we(vc,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return wt;var r=this._private.container.ownerDocument;return r===void 0||r==null?wt:r.defaultView||wt},mount:function(t){if(t!=null){var r=this,n=r._private,a=n.options;return!sc(t)&&sc(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(we({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return _n(this._private.options)},json:function(t){var r=this,n=r._private,a=r.mutableElements(),i=function(w){return r.getElementById(w.id())};if(Fe(t)){if(r.startBatch(),t.elements){var o={},s=function(w,S){for(var _=[],x=[],E=0;E<w.length;E++){var T=w[E];if(!T.data.id){Ke("cy.json() cannot handle elements without an ID attribute");continue}var k=""+T.data.id,M=r.getElementById(k);o[k]=!0,M.length!==0?x.push({ele:M,json:T}):(S&&(T.group=S),_.push(T))}r.add(_);for(var D=0;D<x.length;D++){var P=x[D],C=P.ele,A=P.json;C.json(A)}};if(Je(t.elements))s(t.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var f=u[l],c=t.elements[f];Je(c)&&s(c,f)}var d=r.collection();a.filter(function(b){return!o[b.id()]}).forEach(function(b){b.isParent()?d.merge(b):b.remove()}),d.forEach(function(b){return b.children().move({parent:null})}),d.forEach(function(b){return i(b).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<h.length;v++){var p=h[v];t[p]!=null&&r[p](t[p])}return r.endBatch(),this}else{var g=!!t,m={};g?m.elements=this.elements().map(function(b){return b.json()}):(m.elements={},a.forEach(function(b){var w=b.group();m.elements[w]||(m.elements[w]=[]),m.elements[w].push(b.json())})),this._private.styleEnabled&&(m.style=r.style().json()),m.data=_n(r.data());var y=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=_n(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=_n(y.renderer),m.hideEdgesOnViewport=y.hideEdgesOnViewport,m.textureOnViewport=y.textureOnViewport,m.wheelSensitivity=y.wheelSensitivity,m.motionBlur=y.motionBlur,m.multiClickDebounceTime=y.multiClickDebounceTime,m}}});vc.$id=vc.getElementById;[HV,QV,j5,wg,df,JV,xg,hf,rW,$i,Mu].forEach(function(e){we(vc,e)});var aW={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},iW={maximal:!1,acyclic:!1},to=function(t){return t.scratch("breadthfirst")},xb=function(t,r){return t.scratch("breadthfirst",r)};function J5(e){this.options=we({},aW,iW,e)}J5.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().filter(function(J){return!J.isParent()}),i=n,o=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,u=gr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(wr(t.roots))l=t.roots;else if(Je(t.roots)){for(var f=[],c=0;c<t.roots.length;c++){var d=t.roots[c],h=r.getElementById(d);f.push(h)}l=r.collection(f)}else if(ye(t.roots))l=r.$(t.roots);else if(o)l=a.roots();else{var v=n.components();l=r.collection();for(var p=function(re){var oe=v[re],ue=oe.maxDegree(!1),le=oe.filter(function(ge){return ge.degree(!1)===ue});l=l.add(le)},g=0;g<v.length;g++)p(g)}var m=[],y={},b=function(re,oe){m[oe]==null&&(m[oe]=[]);var ue=m[oe].length;m[oe].push(re),xb(re,{index:ue,depth:oe})},w=function(re,oe){var ue=to(re),le=ue.depth,ge=ue.index;m[le][ge]=null,b(re,oe)};i.bfs({roots:l,directed:t.directed,visit:function(re,oe,ue,le,ge){var He=re[0],$e=He.id();b(He,ge),y[$e]=!0}});for(var S=[],_=0;_<a.length;_++){var x=a[_];y[x.id()]||S.push(x)}var E=function(re){for(var oe=m[re],ue=0;ue<oe.length;ue++){var le=oe[ue];if(le==null){oe.splice(ue,1),ue--;continue}xb(le,{depth:re,index:ue})}},T=function(){for(var re=0;re<m.length;re++)E(re)},k=function(re,oe){for(var ue=to(re),le=re.incomers().filter(function(ze){return ze.isNode()&&n.has(ze)}),ge=-1,He=re.id(),$e=0;$e<le.length;$e++){var Me=le[$e],Ge=to(Me);ge=Math.max(ge,Ge.depth)}if(ue.depth<=ge){if(!t.acyclic&&oe[He])return null;var Ae=ge+1;return w(re,Ae),oe[He]=Ae,!0}return!1};if(o&&s){var M=[],D={},P=function(re){return M.push(re)},C=function(){return M.shift()};for(a.forEach(function(J){return M.push(J)});M.length>0;){var A=C(),O=k(A,D);if(O)A.outgoers().filter(function(J){return J.isNode()&&n.has(J)}).forEach(P);else if(O===null){Ke("Detected double maximal shift for node `"+A.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}T();var L=0;if(t.avoidOverlap)for(var $=0;$<a.length;$++){var z=a[$],F=z.layoutDimensions(t),I=F.w,B=F.h;L=Math.max(L,I,B)}var V={},K=function(re){if(V[re.id()])return V[re.id()];for(var oe=to(re).depth,ue=re.neighborhood(),le=0,ge=0,He=0;He<ue.length;He++){var $e=ue[He];if(!($e.isEdge()||$e.isParent()||!a.has($e))){var Me=to($e);if(Me!=null){var Ge=Me.index,Ae=Me.depth;if(!(Ge==null||Ae==null)){var ze=m[Ae].length;Ae<oe&&(le+=Ge/ze,ge++)}}}}return ge=Math.max(1,ge),le=le/ge,ge===0&&(le=0),V[re.id()]=le,le},j=function(re,oe){var ue=K(re),le=K(oe),ge=ue-le;return ge===0?JE(re.id(),oe.id()):ge};t.depthSort!==void 0&&(j=t.depthSort);for(var Q=0;Q<m.length;Q++)m[Q].sort(j),E(Q);for(var X=[],W=0;W<S.length;W++)X.push(S[W]);m.unshift(X),T();for(var R=0,q=0;q<m.length;q++)R=Math.max(m[q].length,R);var U={x:u.x1+u.w/2,y:u.x1+u.h/2},Y=m.reduce(function(J,re){return Math.max(J,re.length)},0),ie=function(re){var oe=to(re),ue=oe.depth,le=oe.index,ge=m[ue].length,He=Math.max(u.w/((t.grid?Y:ge)+1),L),$e=Math.max(u.h/(m.length+1),L),Me=Math.min(u.w/2/m.length,u.h/2/m.length);if(Me=Math.max(Me,L),t.circle){var Ae=Me*ue+Me-(m.length>0&&m[0].length<=3?Me/2:0),ze=2*Math.PI/m[ue].length*le;return ue===0&&m[0].length===1&&(Ae=1),{x:U.x+Ae*Math.cos(ze),y:U.y+Ae*Math.sin(ze)}}else{var Ge={x:U.x+(le+1-(ge+1)/2)*He,y:(ue+1)*$e};return Ge}};return n.nodes().layoutPositions(this,t,ie),this};var oW={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function eM(e){this.options=we({},oW,e)}eM.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var o=gr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/i.length:t.sweep,l=u/Math.max(1,i.length-1),f,c=0,d=0;d<i.length;d++){var h=i[d],v=h.layoutDimensions(t),p=v.w,g=v.h;c=Math.max(c,p,g)}if(fe(t.radius)?f=t.radius:i.length<=1?f=0:f=Math.min(o.h,o.w)/2-c,i.length>1&&t.avoidOverlap){c*=1.75;var m=Math.cos(l)-Math.cos(0),y=Math.sin(l)-Math.sin(0),b=Math.sqrt(c*c/(m*m+y*y));f=Math.max(b,f)}var w=function(_,x){var E=t.startAngle+x*l*(a?1:-1),T=f*Math.cos(E),k=f*Math.sin(E),M={x:s.x+T,y:s.y+k};return M};return n.nodes().layoutPositions(this,t,w),this};var sW={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function tM(e){this.options=we({},sW,e)}tM.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,a=t.eles,i=a.nodes().not(":parent"),o=gr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],l=0,f=0;f<i.length;f++){var c=i[f],d=void 0;d=t.concentric(c),u.push({value:d,node:c}),c._private.scratch.concentric=d}i.updateStyle();for(var h=0;h<i.length;h++){var v=i[h],p=v.layoutDimensions(t);l=Math.max(l,p.w,p.h)}u.sort(function(J,re){return re.value-J.value});for(var g=t.levelWidth(i),m=[[]],y=m[0],b=0;b<u.length;b++){var w=u[b];if(y.length>0){var S=Math.abs(y[0].value-w.value);S>=g&&(y=[],m.push(y))}y.push(w)}var _=l+t.minNodeSpacing;if(!t.avoidOverlap){var x=m.length>0&&m[0].length>1,E=Math.min(o.w,o.h)/2-_,T=E/(m.length+x?1:0);_=Math.min(_,T)}for(var k=0,M=0;M<m.length;M++){var D=m[M],P=t.sweep===void 0?2*Math.PI-2*Math.PI/D.length:t.sweep,C=D.dTheta=P/Math.max(1,D.length-1);if(D.length>1&&t.avoidOverlap){var A=Math.cos(C)-Math.cos(0),O=Math.sin(C)-Math.sin(0),L=Math.sqrt(_*_/(A*A+O*O));k=Math.max(L,k)}D.r=k,k+=_}if(t.equidistant){for(var $=0,z=0,F=0;F<m.length;F++){var I=m[F],B=I.r-z;$=Math.max($,B)}z=0;for(var V=0;V<m.length;V++){var K=m[V];V===0&&(z=K.r),K.r=z,z+=$}}for(var j={},Q=0;Q<m.length;Q++)for(var X=m[Q],W=X.dTheta,R=X.r,q=0;q<X.length;q++){var U=X[q],Y=t.startAngle+(r?1:-1)*W*q,ie={x:s.x+R*Math.cos(Y),y:s.y+R*Math.sin(Y)};j[U.node.id()]=ie}return a.nodes().layoutPositions(this,t,function(J){var re=J.id();return j[re]}),this};var nv,uW={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ld(e){this.options=we({},uW,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),s=t.some(function(l){return l.data("id")===i}),u=t.some(function(l){return l.data("id")===o});return!s||!u});this.options.eles=this.options.eles.not(n)}Ld.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?nv=!0:nv=!1;var n=lW(t,r,e);nv&&dW(n),e.randomize&&hW(n);var a=da(),i=function(){vW(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(d){return!(r.stopped||d>=e.numIter||(gW(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},s=function(){if(e.animate===!0||e.animate===!1)i(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var d=e.eles.nodes(),h=rM(n,e,d);d.layoutPositions(r,e,h)}},u=0,l=!0;if(e.animate===!0){var f=function c(){for(var d=0;l&&d<e.refresh;)l=o(u),u++,d++;if(!l)Sb(n,e),s();else{var h=da();h-a>=e.animationThreshold&&i(),uc(c)}};f()}else{for(;l;)l=o(u),u++;Sb(n,e),s()}return this};Ld.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ld.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var lW=function(t,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=gr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),l={},f=0;f<u.length;f++)for(var c=u[f],d=0;d<c.length;d++){var h=c[d];l[h.id()]=f}for(var f=0;f<s.nodeSize;f++){var v=i[f],p=v.layoutDimensions(n),g={};g.isLocked=v.locked(),g.id=v.data("id"),g.parentId=v.data("parent"),g.cmptId=l[v.id()],g.children=[],g.positionX=v.position("x"),g.positionY=v.position("y"),g.offsetX=0,g.offsetY=0,g.height=p.w,g.width=p.h,g.maxX=g.positionX+g.width/2,g.minX=g.positionX-g.width/2,g.maxY=g.positionY+g.height/2,g.minY=g.positionY-g.height/2,g.padLeft=parseFloat(v.style("padding")),g.padRight=parseFloat(v.style("padding")),g.padTop=parseFloat(v.style("padding")),g.padBottom=parseFloat(v.style("padding")),g.nodeRepulsion=ft(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(g),s.idToIndex[g.id]=f}for(var m=[],y=0,b=-1,w=[],f=0;f<s.nodeSize;f++){var v=s.layoutNodes[f],S=v.parentId;S!=null?s.layoutNodes[s.idToIndex[S]].children.push(v.id):(m[++b]=v.id,w.push(v.id))}for(s.graphSet.push(w);y<=b;){var _=m[y++],x=s.idToIndex[_],h=s.layoutNodes[x],E=h.children;if(E.length>0){s.graphSet.push(E);for(var f=0;f<E.length;f++)m[++b]=E[f]}}for(var f=0;f<s.graphSet.length;f++)for(var T=s.graphSet[f],d=0;d<T.length;d++){var k=s.idToIndex[T[d]];s.indexToGraph[k]=f}for(var f=0;f<s.edgeSize;f++){var M=a[f],D={};D.id=M.data("id"),D.sourceId=M.data("source"),D.targetId=M.data("target");var P=ft(n.idealEdgeLength)?n.idealEdgeLength(M):n.idealEdgeLength,C=ft(n.edgeElasticity)?n.edgeElasticity(M):n.edgeElasticity,A=s.idToIndex[D.sourceId],O=s.idToIndex[D.targetId],L=s.indexToGraph[A],$=s.indexToGraph[O];if(L!=$){for(var z=fW(D.sourceId,D.targetId,s),F=s.graphSet[z],I=0,g=s.layoutNodes[A];F.indexOf(g.id)===-1;)g=s.layoutNodes[s.idToIndex[g.parentId]],I++;for(g=s.layoutNodes[O];F.indexOf(g.id)===-1;)g=s.layoutNodes[s.idToIndex[g.parentId]],I++;P*=I*n.nestingFactor}D.idealLength=P,D.elasticity=C,s.layoutEdges.push(D)}return s},fW=function(t,r,n){var a=cW(t,r,0,n);return 2>a.count?0:a.graph},cW=function e(t,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(t)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var u=i[s],l=a.idToIndex[u],f=a.layoutNodes[l].children;if(f.length!==0){var c=a.indexToGraph[a.idToIndex[f[0]]],d=e(t,r,c,a);if(d.count!==0)if(d.count===1){if(o++,o===2)break}else return d}}return{count:o,graph:n}},dW,hW=function(t,r){for(var n=t.clientWidth,a=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},rM=function(t,r,n){var a=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=t.layoutNodes[t.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var u=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var l=(u.positionX-i.x1)/i.w,f=(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+f*a.h}}else return{x:u.positionX,y:u.positionY}}},vW=function(t,r,n){var a=n.layout,i=n.eles.nodes(),o=rM(t,n,i);i.positions(o),t.ready!==!0&&(t.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},gW=function(t,r,n){pW(t,r),bW(t),wW(t,r),xW(t),_W(t)},pW=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var a=t.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=t.layoutNodes[t.idToIndex[a[o]]],u=o+1;u<i;u++){var l=t.layoutNodes[t.idToIndex[a[u]]];mW(s,l,t,r)}},_b=function(t){return-t+2*t*Math.random()},mW=function(t,r,n,a){var i=t.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var s=r.positionX-t.positionX,u=r.positionY-t.positionY,l=1;s===0&&u===0&&(s=_b(l),u=_b(l));var f=yW(t,r,s,u);if(f>0)var c=a.nodeOverlap*f,d=Math.sqrt(s*s+u*u),h=c*s/d,v=c*u/d;else var p=gc(t,s,u),g=gc(r,-1*s,-1*u),m=g.x-p.x,y=g.y-p.y,b=m*m+y*y,d=Math.sqrt(b),c=(t.nodeRepulsion+r.nodeRepulsion)/b,h=c*m/d,v=c*y/d;t.isLocked||(t.offsetX-=h,t.offsetY-=v),r.isLocked||(r.offsetX+=h,r.offsetY+=v)}},yW=function(t,r,n,a){if(n>0)var i=t.maxX-r.minX;else var i=r.maxX-t.minX;if(a>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},gc=function(t,r,n){var a=t.positionX,i=t.positionY,o=t.height||1,s=t.width||1,u=n/r,l=o/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=i+o/2,f):0<r&&-1*l<=u&&u<=l?(f.x=a+s/2,f.y=i+s*n/2/r,f):0>r&&-1*l<=u&&u<=l?(f.x=a-s/2,f.y=i-s*n/2/r,f):0<n&&(u<=-1*l||u>=l)?(f.x=a+o*r/2/n,f.y=i+o/2,f):(0>n&&(u<=-1*l||u>=l)&&(f.x=a-o*r/2/n,f.y=i-o/2),f)},bW=function(t,r){for(var n=0;n<t.edgeSize;n++){var a=t.layoutEdges[n],i=t.idToIndex[a.sourceId],o=t.layoutNodes[i],s=t.idToIndex[a.targetId],u=t.layoutNodes[s],l=u.positionX-o.positionX,f=u.positionY-o.positionY;if(!(l===0&&f===0)){var c=gc(o,l,f),d=gc(u,-1*l,-1*f),h=d.x-c.x,v=d.y-c.y,p=Math.sqrt(h*h+v*v),g=Math.pow(a.idealLength-p,2)/a.elasticity;if(p!==0)var m=g*h/p,y=g*v/p;else var m=0,y=0;o.isLocked||(o.offsetX+=m,o.offsetY+=y),u.isLocked||(u.offsetX-=m,u.offsetY-=y)}}},wW=function(t,r){if(r.gravity!==0)for(var n=1,a=0;a<t.graphSet.length;a++){var i=t.graphSet[a],o=i.length;if(a===0)var s=t.clientHeight/2,u=t.clientWidth/2;else var l=t.layoutNodes[t.idToIndex[i[0]]],f=t.layoutNodes[t.idToIndex[l.parentId]],s=f.positionX,u=f.positionY;for(var c=0;c<o;c++){var d=t.layoutNodes[t.idToIndex[i[c]]];if(!d.isLocked){var h=s-d.positionX,v=u-d.positionY,p=Math.sqrt(h*h+v*v);if(p>n){var g=r.gravity*h/p,m=r.gravity*v/p;d.offsetX+=g,d.offsetY+=m}}}}},xW=function(t,r){var n=[],a=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;a<=i;){var o=n[a++],s=t.idToIndex[o],u=t.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var f=u.offsetX,c=u.offsetY,d=0;d<l.length;d++){var h=t.layoutNodes[t.idToIndex[l[d]]];h.offsetX+=f,h.offsetY+=c,n[++i]=l[d]}u.offsetX=0,u.offsetY=0}}},_W=function(t,r){for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=SW(a.offsetX,a.offsetY,t.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,TW(a,t)}}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},SW=function(t,r,n){var a=Math.sqrt(t*t+r*r);if(a>n)var i={x:n*t/a,y:n*r/a};else var i={x:t,y:r};return i},TW=function e(t,r){var n=t.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,i=!0),(a.minX==null||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,i=!0),(a.maxY==null||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,i=!0),(a.minY==null||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,i=!0),i)return e(a,r)}},Sb=function(t,r){for(var n=t.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,u=a[s]=a[s]||[];u.push(o)}for(var l=0,i=0;i<a.length;i++){var f=a[i];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var c=0;c<f.length;c++){var d=f[c];f.x1=Math.min(f.x1,d.positionX-d.width/2),f.x2=Math.max(f.x2,d.positionX+d.width/2),f.y1=Math.min(f.y1,d.positionY-d.height/2),f.y2=Math.max(f.y2,d.positionY+d.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}a.sort(function(y,b){return b.w*b.h-y.w*y.h});for(var h=0,v=0,p=0,g=0,m=Math.sqrt(l)*t.clientWidth/t.clientHeight,i=0;i<a.length;i++){var f=a[i];if(f){for(var c=0;c<f.length;c++){var d=f[c];d.isLocked||(d.positionX+=h-f.x1,d.positionY+=v-f.y1)}h+=f.w+r.componentSpacing,p+=f.w+r.componentSpacing,g=Math.max(g,f.h),p>m&&(v+=g+r.componentSpacing,h=0,p=0,g=0)}}},EW={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function nM(e){this.options=we({},EW,e)}nM.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var i=gr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,t,function(V){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),u=Math.round(s),l=Math.round(i.w/i.h*s),f=function(K){if(K==null)return Math.min(u,l);var j=Math.min(u,l);j==u?u=K:l=K},c=function(K){if(K==null)return Math.max(u,l);var j=Math.max(u,l);j==u?u=K:l=K},d=t.rows,h=t.cols!=null?t.cols:t.columns;if(d!=null&&h!=null)u=d,l=h;else if(d!=null&&h==null)u=d,l=Math.ceil(o/u);else if(d==null&&h!=null)l=h,u=Math.ceil(o/l);else if(l*u>o){var v=f(),p=c();(v-1)*p>=o?f(v-1):(p-1)*v>=o&&c(p-1)}else for(;l*u<o;){var g=f(),m=c();(m+1)*g>=o?c(m+1):f(g+1)}var y=i.w/l,b=i.h/u;if(t.condense&&(y=0,b=0),t.avoidOverlap)for(var w=0;w<a.length;w++){var S=a[w],_=S._private.position;(_.x==null||_.y==null)&&(_.x=0,_.y=0);var x=S.layoutDimensions(t),E=t.avoidOverlapPadding,T=x.w+E,k=x.h+E;y=Math.max(y,T),b=Math.max(b,k)}for(var M={},D=function(K,j){return!!M["c-"+K+"-"+j]},P=function(K,j){M["c-"+K+"-"+j]=!0},C=0,A=0,O=function(){A++,A>=l&&(A=0,C++)},L={},$=0;$<a.length;$++){var z=a[$],F=t.position(z);if(F&&(F.row!==void 0||F.col!==void 0)){var I={row:F.row,col:F.col};if(I.col===void 0)for(I.col=0;D(I.row,I.col);)I.col++;else if(I.row===void 0)for(I.row=0;D(I.row,I.col);)I.row++;L[z.id()]=I,P(I.row,I.col)}}var B=function(K,j){var Q,X;if(K.locked()||K.isParent())return!1;var W=L[K.id()];if(W)Q=W.col*y+y/2+i.x1,X=W.row*b+b/2+i.y1;else{for(;D(C,A);)O();Q=A*y+y/2+i.x1,X=C*b+b/2+i.y1,P(C,A),O()}return{x:Q,y:X}};a.layoutPositions(this,t,B)}return this};var MW={ready:function(){},stop:function(){}};function C0(e){this.options=we({},MW,e)}C0.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};C0.prototype.stop=function(){return this};var kW={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function aM(e){this.options=we({},kW,e)}aM.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=ft(e.positions);function a(i){if(e.positions==null)return PF(i.position());if(n)return e.positions(i);var o=e.positions[i._private.data.id];return o??null}return r.layoutPositions(this,e,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};var CW={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function iM(e){this.options=we({},CW,e)}iM.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=gr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,a),this};var DW=[{name:"breadthfirst",impl:J5},{name:"circle",impl:eM},{name:"concentric",impl:tM},{name:"cose",impl:Ld},{name:"grid",impl:nM},{name:"null",impl:C0},{name:"preset",impl:aM},{name:"random",impl:iM}];function oM(e){this.options=e,this.notifications=0}var Tb=function(){},Eb=function(){throw new Error("A headless instance can not render images")};oM.prototype={recalculateRenderedStyle:Tb,notify:function(){this.notifications++},init:Tb,isHeadless:function(){return!0},png:Eb,jpg:Eb};var D0={};D0.arrowShapeWidth=.3;D0.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(l,f,c,d,h,v,p){var g=h.x-c/2-p,m=h.x+c/2+p,y=h.y-c/2-p,b=h.y+c/2+p,w=g<=l&&l<=m&&y<=f&&f<=b;return w},n=function(l,f,c,d,h){var v=l*Math.cos(d)-f*Math.sin(d),p=l*Math.sin(d)+f*Math.cos(d),g=v*c,m=p*c,y=g+h.x,b=m+h.y;return{x:y,y:b}},a=function(l,f,c,d){for(var h=[],v=0;v<l.length;v+=2){var p=l[v],g=l[v+1];h.push(n(p,g,f,c,d))}return h},i=function(l){for(var f=[],c=0;c<l.length;c++){var d=l[c];f.push(d.x,d.y)}return f},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,f){ye(f)&&(f=e[f]),e[l]=we({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,h,v,p,g,m){var y=i(a(this.points,v+2*m,p,g)),b=lr(d,h,y);return b},roughCollide:r,draw:function(d,h,v,p){var g=a(this.points,h,v,p);t.arrowShapeImpl("polygon")(d,g)},spacing:function(d){return 0},gap:o},f)};s("none",{collide:lc,roughCollide:lc,draw:v0,spacing:R1,gap:R1}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,f,c,d,h){var v=a(this.points,f,c,d),p=this.controlPoint,g=n(p[0],p[1],f,c,d);t.arrowShapeImpl(this.name)(l,v,g)},gap:function(l){return o(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,c,d,h,v,p){var g=i(a(this.points,c+2*p,d,h)),m=i(a(this.pointsTee,c+2*p,d,h)),y=lr(l,f,g)||lr(l,f,m);return y},draw:function(l,f,c,d,h){var v=a(this.points,f,c,d),p=a(this.pointsTee,f,c,d);t.arrowShapeImpl(this.name)(l,v,p)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,c,d,h,v,p){var g=h,m=Math.pow(g.x-l,2)+Math.pow(g.y-f,2)<=Math.pow((c+2*p)*this.radius,2),y=i(a(this.points,c+2*p,d,h));return lr(l,f,y)||m},draw:function(l,f,c,d,h){var v=a(this.pointsTr,f,c,d);t.arrowShapeImpl(this.name)(l,v,d.x,d.y,this.radius*f)},spacing:function(l){return t.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var c=this.baseCrossLinePts.slice(),d=f/l,h=3,v=5;return c[h]=c[h]-d,c[v]=c[v]-d,c},collide:function(l,f,c,d,h,v,p){var g=i(a(this.points,c+2*p,d,h)),m=i(a(this.crossLinePts(c,v),c+2*p,d,h)),y=lr(l,f,g)||lr(l,f,m);return y},draw:function(l,f,c,d,h){var v=a(this.points,f,c,d),p=a(this.crossLinePts(f,h),f,c,d);t.arrowShapeImpl(this.name)(l,v,p)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),s("circle",{radius:.15,collide:function(l,f,c,d,h,v,p){var g=h,m=Math.pow(g.x-l,2)+Math.pow(g.y-f,2)<=Math.pow((c+2*p)*this.radius,2);return m},draw:function(l,f,c,d,h){t.arrowShapeImpl(this.name)(l,d.x,d.y,this.radius*f)},spacing:function(l){return t.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Ui={};Ui.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=r.pan(),u=r.zoom(),l=((e-a)/o-s.x)/u,f=((t-i)/o-s.y)/u;return[l,f]};Ui.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(m){return parseFloat(r.getPropertyValue(m))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,s=e.clientHeight,u=a.left+a.right,l=a.top+a.bottom,f=i.left+i.right,c=t.width/(o+f),d=o-u,h=s-l,v=t.left+a.left+i.left,p=t.top+a.top+i.top;return this.containerBB=[v,p,d,h,c]};Ui.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ui.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};Ui.findNearestElements=function(e,t,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),f=(n?24:8)/u,c=(n?8:2)/u,d=(n?8:2)/u,h=1/0,v,p;r&&(o=o.interactive);function g(x,E){if(x.isNode()){if(p)return;p=x,s.push(x)}if(x.isEdge()&&(E==null||E<h))if(v){if(v.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value){for(var T=0;T<s.length;T++)if(s[T].isEdge()){s[T]=x,v=x,h=E??h;break}}}else s.push(x),v=x,h=E??h}function m(x){var E=x.outerWidth()+2*c,T=x.outerHeight()+2*c,k=E/2,M=T/2,D=x.position(),P=x.pstyle("corner-radius").value==="auto"?"auto":x.pstyle("corner-radius").pfValue,C=x._private.rscratch;if(D.x-k<=e&&e<=D.x+k&&D.y-M<=t&&t<=D.y+M){var A=i.nodeShapes[a.getNodeShape(x)];if(A.checkPoint(e,t,0,E,T,D.x,D.y,P,C))return g(x,0),!0}}function y(x){var E=x._private,T=E.rscratch,k=x.pstyle("width").pfValue,M=x.pstyle("arrow-scale").value,D=k/2+f,P=D*D,C=D*2,$=E.source,z=E.target,A;if(T.edgeType==="segments"||T.edgeType==="straight"||T.edgeType==="haystack"){for(var O=T.allpts,L=0;L+3<O.length;L+=2)if(WF(e,t,O[L],O[L+1],O[L+2],O[L+3],C)&&P>(A=KF(e,t,O[L],O[L+1],O[L+2],O[L+3])))return g(x,A),!0}else if(T.edgeType==="bezier"||T.edgeType==="multibezier"||T.edgeType==="self"||T.edgeType==="compound"){for(var O=T.allpts,L=0;L+5<T.allpts.length;L+=4)if(UF(e,t,O[L],O[L+1],O[L+2],O[L+3],O[L+4],O[L+5],C)&&P>(A=XF(e,t,O[L],O[L+1],O[L+2],O[L+3],O[L+4],O[L+5])))return g(x,A),!0}for(var $=$||E.source,z=z||E.target,F=a.getArrowWidth(k,M),I=[{name:"source",x:T.arrowStartX,y:T.arrowStartY,angle:T.srcArrowAngle},{name:"target",x:T.arrowEndX,y:T.arrowEndY,angle:T.tgtArrowAngle},{name:"mid-source",x:T.midX,y:T.midY,angle:T.midsrcArrowAngle},{name:"mid-target",x:T.midX,y:T.midY,angle:T.midtgtArrowAngle}],L=0;L<I.length;L++){var B=I[L],V=i.arrowShapes[x.pstyle(B.name+"-arrow-shape").value],K=x.pstyle("width").pfValue;if(V.roughCollide(e,t,F,B.angle,{x:B.x,y:B.y},K,f)&&V.collide(e,t,F,B.angle,{x:B.x,y:B.y},K,f))return g(x),!0}l&&s.length>0&&(m($),m(z))}function b(x,E,T){return Gr(x,E,T)}function w(x,E){var T=x._private,k=d,M;E?M=E+"-":M="",x.boundingBox();var D=T.labelBounds[E||"main"],P=x.pstyle(M+"label").value,C=x.pstyle("text-events").strValue==="yes";if(!(!C||!P)){var A=b(T.rscratch,"labelX",E),O=b(T.rscratch,"labelY",E),L=b(T.rscratch,"labelAngle",E),$=x.pstyle(M+"text-margin-x").pfValue,z=x.pstyle(M+"text-margin-y").pfValue,F=D.x1-k-$,I=D.x2+k-$,B=D.y1-k-z,V=D.y2+k-z;if(L){var K=Math.cos(L),j=Math.sin(L),Q=function(ie,J){return ie=ie-A,J=J-O,{x:ie*K-J*j+A,y:ie*j+J*K+O}},X=Q(F,B),W=Q(F,V),R=Q(I,B),q=Q(I,V),U=[X.x+$,X.y+z,R.x+$,R.y+z,q.x+$,q.y+z,W.x+$,W.y+z];if(lr(e,t,U))return g(x),!0}else if(Wo(D,e,t))return g(x),!0}}for(var S=o.length-1;S>=0;S--){var _=o[S];_.isNode()?m(_)||w(_):y(_)||w(_)||w(_,"source")||w(_,"target")}return s};Ui.getAllInBox=function(e,t,r,n){var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(e,r),s=Math.max(e,r),u=Math.min(t,n),l=Math.max(t,n);e=o,r=s,t=u,n=l;for(var f=gr({x1:e,y1:t,x2:r,y2:n}),c=0;c<a.length;c++){var d=a[c];if(d.isNode()){var h=d,v=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});m0(f,v)&&!g5(v,f)&&i.push(h)}else{var p=d,g=p._private,m=g.rscratch;if(m.startX!=null&&m.startY!=null&&!Wo(f,m.startX,m.startY)||m.endX!=null&&m.endY!=null&&!Wo(f,m.endX,m.endY))continue;if(m.edgeType==="bezier"||m.edgeType==="multibezier"||m.edgeType==="self"||m.edgeType==="compound"||m.edgeType==="segments"||m.edgeType==="haystack"){for(var y=g.rstyle.bezierPts||g.rstyle.linePts||g.rstyle.haystackPts,b=!0,w=0;w<y.length;w++)if(!VF(f,y[w])){b=!1;break}b&&i.push(p)}else(m.edgeType==="haystack"||m.edgeType==="straight")&&i.push(p)}}return i};var pc={};pc.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",a=t.edgeType==="multibezier",i=t.edgeType==="segments",o=t.edgeType==="compound",s=t.edgeType==="self",u,l,f,c,d,h,m,y;if(r?(f=t.haystackPts[0],c=t.haystackPts[1],d=t.haystackPts[2],h=t.haystackPts[3]):(f=t.arrowStartX,c=t.arrowStartY,d=t.arrowEndX,h=t.arrowEndY),m=t.midX,y=t.midY,i)u=f-t.segpts[0],l=c-t.segpts[1];else if(a||o||s||n){var v=t.allpts,p=Nt(v[0],v[2],v[4],.1),g=Nt(v[1],v[3],v[5],.1);u=f-p,l=c-g}else u=f-m,l=c-y;t.srcArrowAngle=zl(u,l);var m=t.midX,y=t.midY;if(r&&(m=(f+d)/2,y=(c+h)/2),u=d-f,l=h-c,i){var v=t.allpts;if(v.length/2%2===0){var b=v.length/2,w=b-2;u=v[b]-v[w],l=v[b+1]-v[w+1]}else if(t.isRound)u=t.midVector[1],l=-t.midVector[0];else{var b=v.length/2-1,w=b-2;u=v[b]-v[w],l=v[b+1]-v[w+1]}}else if(a||o||s){var v=t.allpts,S=t.ctrlpts,_,x,E,T;if(S.length/2%2===0){var k=v.length/2-1,M=k+2,D=M+2;_=Nt(v[k],v[M],v[D],0),x=Nt(v[k+1],v[M+1],v[D+1],0),E=Nt(v[k],v[M],v[D],1e-4),T=Nt(v[k+1],v[M+1],v[D+1],1e-4)}else{var M=v.length/2-1,k=M-2,D=M+2;_=Nt(v[k],v[M],v[D],.4999),x=Nt(v[k+1],v[M+1],v[D+1],.4999),E=Nt(v[k],v[M],v[D],.5),T=Nt(v[k+1],v[M+1],v[D+1],.5)}u=E-_,l=T-x}if(t.midtgtArrowAngle=zl(u,l),t.midDispX=u,t.midDispY=l,u*=-1,l*=-1,i){var v=t.allpts;if(v.length/2%2!==0){if(!t.isRound){var b=v.length/2-1,P=b+2;u=-(v[P]-v[b]),l=-(v[P+1]-v[b+1])}}}if(t.midsrcArrowAngle=zl(u,l),i)u=d-t.segpts[t.segpts.length-2],l=h-t.segpts[t.segpts.length-1];else if(a||o||s||n){var v=t.allpts,C=v.length,p=Nt(v[C-6],v[C-4],v[C-2],.9),g=Nt(v[C-5],v[C-3],v[C-1],.9);u=d-p,l=h-g}else u=d-m,l=h-y;t.tgtArrowAngle=zl(u,l)};pc.getArrowWidth=pc.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var _g,Sg,gn={},Cr={},Mb,kb,hi,vf,Un,oi,ci,vn,ro,Kl,sM,uM,Tg,Eg,Cb,Db=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},AW=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},PW=function(t,r,n,a,i){if(t!==Cb?Db(r,t,gn):AW(Cr,gn),Db(r,n,Cr),Mb=gn.nx*Cr.ny-gn.ny*Cr.nx,kb=gn.nx*Cr.nx-gn.ny*-Cr.ny,Un=Math.asin(Math.max(-1,Math.min(1,Mb))),Math.abs(Un)<1e-6){_g=r.x,Sg=r.y,ci=ro=0;return}hi=1,vf=!1,kb<0?Un<0?Un=Math.PI+Un:(Un=Math.PI-Un,hi=-1,vf=!0):Un>0&&(hi=-1,vf=!0),r.radius!==void 0?ro=r.radius:ro=a,oi=Un/2,Kl=Math.min(gn.len/2,Cr.len/2),i?(vn=Math.abs(Math.cos(oi)*ro/Math.sin(oi)),vn>Kl?(vn=Kl,ci=Math.abs(vn*Math.sin(oi)/Math.cos(oi))):ci=ro):(vn=Math.min(Kl,ro),ci=Math.abs(vn*Math.sin(oi)/Math.cos(oi))),Tg=r.x+Cr.nx*vn,Eg=r.y+Cr.ny*vn,_g=Tg-Cr.ny*ci*hi,Sg=Eg+Cr.nx*ci*hi,sM=r.x+gn.nx*vn,uM=r.y+gn.ny*vn,Cb=r};function lM(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function A0(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(PW(e,t,r,n,a),{cx:_g,cy:Sg,radius:ci,startX:sM,startY:uM,stopX:Tg,stopY:Eg,startAngle:gn.ang+Math.PI/2*hi,endAngle:Cr.ang-Math.PI/2*hi,counterClockwise:vf})}var Jt={};Jt.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,a=t.vectorNormInverse,i,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),u=o.units!=null&&s.units!=null,l=function(S,_,x,E){var T=E-_,k=x-S,M=Math.sqrt(k*k+T*T);return{x:-T/M,y:k/M}},f=e.pstyle("edge-distances").value;switch(f){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var c=this.manualEndptToPx(e.source()[0],o),d=Ur(c,2),h=d[0],v=d[1],p=this.manualEndptToPx(e.target()[0],s),g=Ur(p,2),m=g[0],y=g[1],b={x1:h,y1:v,x2:m,y2:y};a=l(h,v,m,y),i=b}else Ke("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Jt.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,u=o.position(),l=s.position(),f=o.width(),c=s.width(),d=o.height(),h=s.height(),v=r.pstyle("haystack-radius").value,p=v/2;a.haystackPts=a.allpts=[a.source.x*f*p+u.x,a.source.y*d*p+u.y,a.target.x*c*p+l.x,a.target.y*h*p+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Jt.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var f=0;f<s;f++){var c=n.pfValue[f],d=a.pfValue[f],h=1-c,v=c,p=this.findMidptPtsEtc(e,t),g=p.midptPts,m=p.vectorNormInverse,y={x:g.x1*h+g.x2*v,y:g.y1*h+g.y2*v};r.segpts.push(y.x+m.x*d,y.y+m.y*d),r.radii.push(i.pfValue[f]!==void 0?i.pfValue[f]:u),r.isArcRadius.push((o.pfValue[f]!==void 0?o.pfValue[f]:l)==="arc-radius")}};Jt.findLoopPoints=function(e,t,r,n){var a=e._private.rscratch,i=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,f=e.pstyle("loop-sweep").pfValue,c=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=r,h=c;n&&(d=0,h=u);var v=l-Math.PI/2,p=v-f/2,g=v+f/2,m=l+"_"+f;d=i[m]===void 0?i[m]=0:++i[m],a.ctrlpts=[o.x+Math.cos(p)*1.4*h*(d/3+1),o.y+Math.sin(p)*1.4*h*(d/3+1),o.x+Math.cos(g)*1.4*h*(d/3+1),o.y+Math.sin(g)*1.4*h*(d/3+1)]};Jt.findCompoundLoopPoints=function(e,t,r,n){var a=e._private.rscratch;a.edgeType="compound";var i=t.srcPos,o=t.tgtPos,s=t.srcW,u=t.srcH,l=t.tgtW,f=t.tgtH,c=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,v=r,p=c;n&&(v=0,p=h);var g=50,m={x:i.x-s/2,y:i.y-u/2},y={x:o.x-l/2,y:o.y-f/2},b={x:Math.min(m.x,y.x),y:Math.min(m.y,y.y)},w=.5,S=Math.max(w,Math.log(s*.01)),_=Math.max(w,Math.log(l*.01));a.ctrlpts=[b.x,b.y-(1+Math.pow(g,1.12)/100)*p*(v/3+1)*S,b.x-(1+Math.pow(g,1.12)/100)*p*(v/3+1)*_,b.y]};Jt.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};Jt.findBezierPoints=function(e,t,r,n,a){var i=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,f=s?s.pfValue[0]:void 0,c=u.value[0],d=n;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var h=0;h<l;h++){var v=(.5-t.eles.length/2+r)*o*(a?-1:1),p=void 0,g=h5(v);d&&(f=s?s.pfValue[h]:o,c=u.value[h]),n?p=f:p=f!==void 0?g*f:void 0;var m=p!==void 0?p:v,y=1-c,b=c,w=this.findMidptPtsEtc(e,t),S=w.midptPts,_=w.vectorNormInverse,x={x:S.x1*y+S.x2*b,y:S.y1*y+S.y2*b};i.ctrlpts.push(x.x+_.x*m,x.y+_.y*m)}};Jt.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",u="upward",l="auto",f=t.posPts,c=t.srcW,d=t.srcH,h=t.tgtW,v=t.tgtH,p=e.pstyle("edge-distances").value,g=p!=="node-position",m=e.pstyle("taxi-direction").value,y=m,b=e.pstyle("taxi-turn"),w=b.units==="%",S=b.pfValue,_=S<0,x=e.pstyle("taxi-turn-min-distance").pfValue,E=g?(c+h)/2:0,T=g?(d+v)/2:0,k=f.x2-f.x1,M=f.y2-f.y1,D=function(te,se){return te>0?Math.max(te-se,0):Math.min(te+se,0)},P=D(k,E),C=D(M,T),A=!1;y===l?m=Math.abs(P)>Math.abs(C)?a:n:y===u||y===s?(m=n,A=!0):(y===i||y===o)&&(m=a,A=!0);var O=m===n,L=O?C:P,$=O?M:k,z=h5($),F=!1;!(A&&(w||_))&&(y===s&&$<0||y===u&&$>0||y===i&&$>0||y===o&&$<0)&&(z*=-1,L=z*Math.abs(L),F=!0);var I;if(w){var B=S<0?1+S:S;I=B*L}else{var V=S<0?L:0;I=V+S*z}var K=function(te){return Math.abs(te)<x||Math.abs(te)>=Math.abs(L)},j=K(I),Q=K(Math.abs(L)-Math.abs(I)),X=j||Q;if(X&&!F)if(O){var W=Math.abs($)<=d/2,R=Math.abs(k)<=h/2;if(W){var q=(f.x1+f.x2)/2,U=f.y1,Y=f.y2;r.segpts=[q,U,q,Y]}else if(R){var ie=(f.y1+f.y2)/2,J=f.x1,re=f.x2;r.segpts=[J,ie,re,ie]}else r.segpts=[f.x1,f.y2]}else{var oe=Math.abs($)<=c/2,ue=Math.abs(M)<=v/2;if(oe){var le=(f.y1+f.y2)/2,ge=f.x1,He=f.x2;r.segpts=[ge,le,He,le]}else if(ue){var $e=(f.x1+f.x2)/2,Me=f.y1,Ge=f.y2;r.segpts=[$e,Me,$e,Ge]}else r.segpts=[f.x2,f.y1]}else if(O){var Ae=f.y1+I+(g?d/2*z:0),ze=f.x1,ne=f.x2;r.segpts=[ze,Ae,ne,Ae]}else{var N=f.x1+I+(g?c/2*z:0),G=f.y1,ee=f.y2;r.segpts=[N,G,N,ee]}if(r.isRound){var H=e.pstyle("taxi-radius").value,Z=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(H),r.isArcRadius=new Array(r.segpts.length/2).fill(Z)}};Jt.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,a=t.tgtPos,i=t.srcW,o=t.srcH,s=t.tgtW,u=t.tgtH,l=t.srcShape,f=t.tgtShape,c=t.srcCornerRadius,d=t.tgtCornerRadius,h=t.srcRs,v=t.tgtRs,p=!fe(r.startX)||!fe(r.startY),g=!fe(r.arrowStartX)||!fe(r.arrowStartY),m=!fe(r.endX)||!fe(r.endY),y=!fe(r.arrowEndX)||!fe(r.arrowEndY),b=3,w=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,S=b*w,_=Oi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),x=_<S,E=Oi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),T=E<S,k=!1;if(p||g||x){k=!0;var M={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},D=Math.sqrt(M.x*M.x+M.y*M.y),P={x:M.x/D,y:M.y/D},C=Math.max(i,o),A={x:r.ctrlpts[0]+P.x*2*C,y:r.ctrlpts[1]+P.y*2*C},O=l.intersectLine(n.x,n.y,i,o,A.x,A.y,0,c,h);x?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(S-_),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(S-_)):(r.ctrlpts[0]=O[0]+P.x*S,r.ctrlpts[1]=O[1]+P.y*S)}if(m||y||T){k=!0;var L={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},$=Math.sqrt(L.x*L.x+L.y*L.y),z={x:L.x/$,y:L.y/$},F=Math.max(i,o),I={x:r.ctrlpts[0]+z.x*2*F,y:r.ctrlpts[1]+z.y*2*F},B=f.intersectLine(a.x,a.y,s,u,I.x,I.y,0,d,v);T?(r.ctrlpts[0]=r.ctrlpts[0]+z.x*(S-E),r.ctrlpts[1]=r.ctrlpts[1]+z.y*(S-E)):(r.ctrlpts[0]=B[0]+z.x*S,r.ctrlpts[1]=B[1]+z.y*S)}k&&this.findEndpoints(e)}};Jt.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,a;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,a=.5,t.midX=Nt(t.allpts[n],t.allpts[n+2],t.allpts[n+4],a),t.midY=Nt(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],a))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var o=t.radii[i/2-1],s=t.isArcRadius[i/2-1];t.roundCorners.push(A0({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:o},{x:t.allpts[i+2],y:t.allpts[i+3]},o,s))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,l=u-2;t.midX=(t.segpts[l]+t.segpts[u])/2,t.midY=(t.segpts[l+1]+t.segpts[u+1])/2}else{var f=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[f],t.midY=t.segpts[f+1];else{var c={x:t.segpts[f],y:t.segpts[f+1]},d=t.roundCorners[f/2],h=[c.x-d.cx,c.y-d.cy],v=d.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(p){return p*v}),t.midX=d.cx+h[0],t.midY=d.cy+h[1],t.midVector=h}}}};Jt.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||fe(t.startX)&&fe(t.startY)&&fe(t.endX)&&fe(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ke("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Jt.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new Sn,get:function(x){var E=this.map.get(x[0]);return E!=null?E.get(x[1]):null},set:function(x,E){var T=this.map.get(x[0]);T==null&&(T=new Sn,this.map.set(x[0],T)),T.set(x[1],E)}},o=[],s=[],u=0;u<e.length;u++){var l=e[u],f=l._private,c=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(c==="haystack"){s.push(l);continue}var d=c==="unbundled-bezier"||c.endsWith("segments")||c==="straight"||c==="straight-triangle"||c.endsWith("taxi"),h=c==="unbundled-bezier"||c==="bezier",v=f.source,p=f.target,g=v.poolIndex(),m=p.poolIndex(),y=[g,m].sort(),b=i.get(y);b==null&&(b={eles:[]},i.set(y,b),o.push(y)),b.eles.push(l),d&&(b.hasUnbundled=!0),h&&(b.hasBezier=!0)}}for(var w=function(x){var E=o[x],T=i.get(E),k=void 0;if(!T.hasUnbundled){var M=T.eles[0].parallelEdges().filter(function(N){return N.isBundledBezier()});g0(T.eles),M.forEach(function(N){return T.eles.push(N)}),T.eles.sort(function(N,G){return N.poolIndex()-G.poolIndex()})}var D=T.eles[0],P=D.source(),C=D.target();if(P.poolIndex()>C.poolIndex()){var A=P;P=C,C=A}var O=T.srcPos=P.position(),L=T.tgtPos=C.position(),$=T.srcW=P.outerWidth(),z=T.srcH=P.outerHeight(),F=T.tgtW=C.outerWidth(),I=T.tgtH=C.outerHeight(),B=T.srcShape=r.nodeShapes[t.getNodeShape(P)],V=T.tgtShape=r.nodeShapes[t.getNodeShape(C)],K=T.srcCornerRadius=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,j=T.tgtCornerRadius=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,Q=T.tgtRs=C._private.rscratch,X=T.srcRs=P._private.rscratch;T.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var W=0;W<T.eles.length;W++){var R=T.eles[W],q=R[0]._private.rscratch,U=R.pstyle("curve-style").value,Y=U==="unbundled-bezier"||U.endsWith("segments")||U.endsWith("taxi"),ie=!P.same(R.source());if(!T.calculatedIntersection&&P!==C&&(T.hasBezier||T.hasUnbundled)){T.calculatedIntersection=!0;var J=B.intersectLine(O.x,O.y,$,z,L.x,L.y,0,K,X),re=T.srcIntn=J,oe=V.intersectLine(L.x,L.y,F,I,O.x,O.y,0,j,Q),ue=T.tgtIntn=oe,le=T.intersectionPts={x1:J[0],x2:oe[0],y1:J[1],y2:oe[1]},ge=T.posPts={x1:O.x,x2:L.x,y1:O.y,y2:L.y},He=oe[1]-J[1],$e=oe[0]-J[0],Me=Math.sqrt($e*$e+He*He),Ge=T.vector={x:$e,y:He},Ae=T.vectorNorm={x:Ge.x/Me,y:Ge.y/Me},ze={x:-Ae.y,y:Ae.x};T.nodesOverlap=!fe(Me)||V.checkPoint(J[0],J[1],0,F,I,L.x,L.y,j,Q)||B.checkPoint(oe[0],oe[1],0,$,z,O.x,O.y,K,X),T.vectorNormInverse=ze,k={nodesOverlap:T.nodesOverlap,dirCounts:T.dirCounts,calculatedIntersection:!0,hasBezier:T.hasBezier,hasUnbundled:T.hasUnbundled,eles:T.eles,srcPos:L,srcRs:Q,tgtPos:O,tgtRs:X,srcW:F,srcH:I,tgtW:$,tgtH:z,srcIntn:ue,tgtIntn:re,srcShape:V,tgtShape:B,posPts:{x1:ge.x2,y1:ge.y2,x2:ge.x1,y2:ge.y1},intersectionPts:{x1:le.x2,y1:le.y2,x2:le.x1,y2:le.y1},vector:{x:-Ge.x,y:-Ge.y},vectorNorm:{x:-Ae.x,y:-Ae.y},vectorNormInverse:{x:-ze.x,y:-ze.y}}}var ne=ie?k:T;q.nodesOverlap=ne.nodesOverlap,q.srcIntn=ne.srcIntn,q.tgtIntn=ne.tgtIntn,q.isRound=U.startsWith("round"),a&&(P.isParent()||P.isChild()||C.isParent()||C.isChild())&&(P.parents().anySame(C)||C.parents().anySame(P)||P.same(C)&&P.isParent())?t.findCompoundLoopPoints(R,ne,W,Y):P===C?t.findLoopPoints(R,ne,W,Y):U.endsWith("segments")?t.findSegmentsPoints(R,ne):U.endsWith("taxi")?t.findTaxiPoints(R,ne):U==="straight"||!Y&&T.eles.length%2===1&&W===Math.floor(T.eles.length/2)?t.findStraightEdgePoints(R):t.findBezierPoints(R,ne,W,Y,ie),t.findEndpoints(R),t.tryToCorrectInvalidPoints(R,ne),t.checkForInvalidEdgeWarning(R),t.storeAllpts(R),t.storeEdgeProjections(R),t.calculateArrowAngles(R),t.recalculateEdgeLabelProjections(R),t.calculateLabelAngles(R)}},S=0;S<o.length;S++)w(S);this.findHaystackPoints(s)}};function fM(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];t.push({x:n,y:a})}return t}}Jt.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return fM(t.segpts)};Jt.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return fM(t.ctrlpts)};Jt.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var ol={};ol.manualEndptToPx=function(e,t){var r=this,n=e.position(),a=e.outerWidth(),i=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*a),t.units[1]==="%"&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}else{var u=t.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(a,i),f=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,a,i,f[0],f[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};ol.findEndpoints=function(e){var t=this,r,n=e.source()[0],a=e.target()[0],i=n.position(),o=a.position(),s=e.pstyle("target-arrow-shape").value,u=e.pstyle("source-arrow-shape").value,l=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,c=n._private.rscratch,d=a._private.rscratch,h=e.pstyle("curve-style").value,v=e._private.rscratch,p=v.edgeType,g=h==="taxi",m=p==="self"||p==="compound",y=p==="bezier"||p==="multibezier"||m,b=p!=="bezier",w=p==="straight"||p==="segments",S=p==="segments",_=y||b||w,x=m||g,E=e.pstyle("source-endpoint"),T=x?"outside-to-node":E.value,k=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,M=e.pstyle("target-endpoint"),D=x?"outside-to-node":M.value,P=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;v.srcManEndpt=E,v.tgtManEndpt=M;var C,A,O,L;if(y){var $=[v.ctrlpts[0],v.ctrlpts[1]],z=b?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:$;C=z,A=$}else if(w){var F=S?v.segpts.slice(0,2):[o.x,o.y],I=S?v.segpts.slice(v.segpts.length-2):[i.x,i.y];C=I,A=F}if(D==="inside-to-node")r=[o.x,o.y];else if(M.units)r=this.manualEndptToPx(a,M);else if(D==="outside-to-line")r=v.tgtIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?O=C:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(O=[i.x,i.y]),r=t.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),O[0],O[1],0,P,d),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var B=a._private.rscratch,V=B.labelWidth,K=B.labelHeight,j=B.labelX,Q=B.labelY,X=V/2,W=K/2,R=a.pstyle("text-valign").value;R==="top"?Q-=W:R==="bottom"&&(Q+=W);var q=a.pstyle("text-halign").value;q==="left"?j-=X:q==="right"&&(j+=X);var U=_u(O[0],O[1],[j-X,Q-W,j+X,Q-W,j+X,Q+W,j-X,Q+W],o.x,o.y);if(U.length>0){var Y=i,ie=li(Y,fo(r)),J=li(Y,fo(U)),re=ie;if(J<ie&&(r=U,re=J),U.length>2){var oe=li(Y,{x:U[2],y:U[3]});oe<re&&(r=[U[2],U[3]])}}}var ue=Yl(r,C,t.arrowShapes[s].spacing(e)+l),le=Yl(r,C,t.arrowShapes[s].gap(e)+l);if(v.endX=le[0],v.endY=le[1],v.arrowEndX=ue[0],v.arrowEndY=ue[1],T==="inside-to-node")r=[i.x,i.y];else if(E.units)r=this.manualEndptToPx(n,E);else if(T==="outside-to-line")r=v.srcIntn;else if(T==="outside-to-node"||T==="outside-to-node-or-label"?L=A:(T==="outside-to-line"||T==="outside-to-line-or-label")&&(L=[o.x,o.y]),r=t.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),L[0],L[1],0,k,c),T==="outside-to-node-or-label"||T==="outside-to-line-or-label"){var ge=n._private.rscratch,He=ge.labelWidth,$e=ge.labelHeight,Me=ge.labelX,Ge=ge.labelY,Ae=He/2,ze=$e/2,ne=n.pstyle("text-valign").value;ne==="top"?Ge-=ze:ne==="bottom"&&(Ge+=ze);var N=n.pstyle("text-halign").value;N==="left"?Me-=Ae:N==="right"&&(Me+=Ae);var G=_u(L[0],L[1],[Me-Ae,Ge-ze,Me+Ae,Ge-ze,Me+Ae,Ge+ze,Me-Ae,Ge+ze],i.x,i.y);if(G.length>0){var ee=o,H=li(ee,fo(r)),Z=li(ee,fo(G)),ce=H;if(Z<H&&(r=[G[0],G[1]],ce=Z),G.length>2){var te=li(ee,{x:G[2],y:G[3]});te<ce&&(r=[G[2],G[3]])}}}var se=Yl(r,A,t.arrowShapes[u].spacing(e)+f),pe=Yl(r,A,t.arrowShapes[u].gap(e)+f);v.startX=pe[0],v.startY=pe[1],v.arrowStartX=se[0],v.arrowStartY=se[1],_&&(!fe(v.startX)||!fe(v.startY)||!fe(v.endX)||!fe(v.endY)?v.badLine=!0:v.badLine=!1)};ol.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};ol.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var P0={};function NW(e,t,r){for(var n=function(l,f,c,d){return Nt(l,f,c,d)},a=t._private,i=a.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}P0.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)NW(this,e,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};P0.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Rn={};Rn.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Ua(t)){var r,n,a=e._private,i=e.width(),o=e.height(),s=e.padding(),u=e.position(),l=e.pstyle("text-halign").strValue,f=e.pstyle("text-valign").strValue,c=a.rscratch,d=a.rstyle;switch(l){case"left":r=u.x-i/2-s;break;case"right":r=u.x+i/2+s;break;default:r=u.x}switch(f){case"top":n=u.y-o/2-s;break;case"bottom":n=u.y+o/2+s;break;default:n=u.y}c.labelX=r,c.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var cM=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},dM=function(t,r){var n=r.x-t.x,a=r.y-t.y;return cM(n,a)},OW=function(t,r,n,a){var i=xu(0,a-.001,1),o=xu(0,a+.001,1),s=xo(t,r,n,i),u=xo(t,r,n,o);return dM(s,u)};Rn.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:n.midX,y:n.midY};var o=function(c,d,h){Aa(r.rscratch,c,d,h),Aa(r.rstyle,c,d,h)};o("labelX",null,t.x),o("labelY",null,t.y);var s=cM(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var u=function f(){if(f.cache)return f.cache;for(var c=[],d=0;d+5<n.allpts.length;d+=4){var h={x:n.allpts[d],y:n.allpts[d+1]},v={x:n.allpts[d+2],y:n.allpts[d+3]},p={x:n.allpts[d+4],y:n.allpts[d+5]};c.push({p0:h,p1:v,p2:p,startDist:0,length:0,segments:[]})}var g=r.rstyle.bezierPts,m=a.bezierProjPcts.length;function y(x,E,T,k,M){var D=Oi(E,T),P=x.segments[x.segments.length-1],C={p0:E,p1:T,t0:k,t1:M,startDist:P?P.startDist+P.length:0,length:D};x.segments.push(C),x.length+=D}for(var b=0;b<c.length;b++){var w=c[b],S=c[b-1];S&&(w.startDist=S.startDist+S.length),y(w,w.p0,g[b*m],0,a.bezierProjPcts[0]);for(var _=0;_<m-1;_++)y(w,g[b*m+_],g[b*m+_+1],a.bezierProjPcts[_],a.bezierProjPcts[_+1]);y(w,g[b*m+m-1],w.p2,a.bezierProjPcts[m-1],1)}return f.cache=c},l=function(c){var d,h=c==="source";if(i[c]){var v=e.pstyle(c+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var p=u(),g,m=0,y=0,b=0;b<p.length;b++){for(var w=p[h?b:p.length-1-b],S=0;S<w.segments.length;S++){var _=w.segments[h?S:w.segments.length-1-S],x=b===p.length-1&&S===w.segments.length-1;if(m=y,y+=_.length,y>=v||x){g={cp:w,segment:_};break}}if(g)break}var E=g.cp,T=g.segment,k=(v-m)/T.length,M=T.t1-T.t0,D=h?T.t0+M*k:T.t1-M*k;D=xu(0,D,1),t=xo(E.p0,E.p1,E.p2,D),d=OW(E.p0,E.p1,E.p2,D);break}case"straight":case"segments":case"haystack":{for(var P=0,C,A,O,L,$=n.allpts.length,z=0;z+3<$&&(h?(O={x:n.allpts[z],y:n.allpts[z+1]},L={x:n.allpts[z+2],y:n.allpts[z+3]}):(O={x:n.allpts[$-2-z],y:n.allpts[$-1-z]},L={x:n.allpts[$-4-z],y:n.allpts[$-3-z]}),C=Oi(O,L),A=P,P+=C,!(P>=v));z+=2);var F=v-A,I=F/C;I=xu(0,I,1),t=BF(O,L,I),d=dM(O,L);break}}o("labelX",c,t.x),o("labelY",c,t.y),o("labelAutoAngle",c,d)}};l("source"),l("target"),this.applyLabelDimensions(e)}};Rn.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};Rn.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),a=this.calculateLabelDimensions(e,n),i=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,s=Gr(r.rscratch,"labelWrapCachedLines",t)||[],u=o!=="wrap"?1:Math.max(s.length,1),l=a.height/u,f=l*i,c=a.width,d=a.height+(u-1)*(i-1)*l;Aa(r.rstyle,"labelWidth",t,c),Aa(r.rscratch,"labelWidth",t,c),Aa(r.rstyle,"labelHeight",t,d),Aa(r.rscratch,"labelHeight",t,d),Aa(r.rscratch,"labelLineHeight",t,f)};Rn.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",a=e.pstyle(n+"label").strValue,i=e.pstyle("text-transform").value,o=function(V,K){return K?(Aa(r.rscratch,V,t,K),K):Gr(r.rscratch,V,t)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=e.pstyle("text-wrap").value;if(s==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var l="​",f=a.split(`
`),c=e.pstyle("text-max-width").pfValue,d=e.pstyle("text-overflow-wrap").value,h=d==="anywhere",v=[],p=/[\s\u200b]+|$/g,g=0;g<f.length;g++){var m=f[g],y=this.calculateLabelDimensions(e,m),b=y.width;if(h){var w=m.split("").join(l);m=w}if(b>c){var S=m.matchAll(p),_="",x=0,E=XE(S),T;try{for(E.s();!(T=E.n()).done;){var k=T.value,M=k[0],D=m.substring(x,k.index);x=k.index+M.length;var P=_.length===0?D:_+D+M,C=this.calculateLabelDimensions(e,P),A=C.width;A<=c?_+=D+M:(_&&v.push(_),_=D+M)}}catch(B){E.e(B)}finally{E.f()}_.match(/^[\s\u200b]+$/)||v.push(_)}else v.push(m)}o("labelWrapCachedLines",v),a=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",u)}else if(s==="ellipsis"){var O=e.pstyle("text-max-width").pfValue,L="",$="…",z=!1;if(this.calculateLabelDimensions(e,a).width<O)return a;for(var F=0;F<a.length;F++){var I=this.calculateLabelDimensions(e,L+a[F]+$).width;if(I>O)break;L+=a[F],F===a.length-1&&(z=!0)}return z||(L+=$),L}return a};Rn.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};Rn.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),a=n.document,i=Ni(t,e._private.labelDimsKey),o=r.labelDimCache||(r.labelDimCache=[]),s=o[i];if(s!=null)return s;var u=0,l=e.pstyle("font-style").strValue,f=e.pstyle("font-size").pfValue,c=e.pstyle("font-family").strValue,d=e.pstyle("font-weight").strValue,h=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=a.createElement("canvas"),v=this.labelCalcCanvasContext=h.getContext("2d");var p=h.style;p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none"}v.font="".concat(l," ").concat(d," ").concat(f,"px ").concat(c);for(var g=0,m=0,y=t.split(`
`),b=0;b<y.length;b++){var w=y[b],S=v.measureText(w),_=Math.ceil(S.width),x=f;g=Math.max(_,g),m+=x}return g+=u,m+=u,o[i]={width:g,height:m}};Rn.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,a=e.isEdge(),i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};Rn.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,a=n.rscratch;a.labelAngle=t.calculateLabelAngle(e),r&&(a.sourceLabelAngle=t.calculateLabelAngle(e,"source"),a.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var hM={},Ab=28,Pb=!1;hM.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<Ab||e.height()<Ab))return Pb||(Ke("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Pb=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var Rd={};Rd.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),s)for(var u=0;u<o.length;u++){var l=o[u],f=l._private,c=f.rstyle;c.clean=!1,c.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var u=0;u<t.length;u++){var l=t[u],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(s)for(var c=0;c<s.length;c++){var d=s[c];d(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Rd.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Rd.recalculateRenderedStyle=function(e,t){var r=function(w){return w._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){t===void 0&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],s=o._private,u=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),!(t&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),u.clean=!0)}for(var l=0;l<a.length;l++){var f=a[l],c=f._private,d=c.rstyle,h=f.position();this.recalculateNodeLabelProjection(f),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=f.pstyle("width").pfValue,d.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var p=n[v],g=p._private,m=g.rstyle,y=g.rscratch;m.srcX=y.arrowStartX,m.srcY=y.arrowStartY,m.tgtX=y.arrowEndX,m.tgtY=y.arrowEndY,m.midX=y.midX,m.midY=y.midY,m.labelAngle=y.labelAngle,m.sourceLabelAngle=y.sourceLabelAngle,m.targetLabelAngle=y.targetLabelAngle}}};var $d={};$d.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):a.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};$d.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};$d.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Z5),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var vM={};[Ui,pc,Jt,ol,P0,Rn,hM,Rd,$d].forEach(function(e){we(vM,e)});var gM={};gM.getCachedImage=function(e,t,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[e]=a[e]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",u=e.substring(0,s.length).toLowerCase()===s;return u||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};var ls={};ls.registerBinding=function(e,t,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var s=e[o];if(s!==void 0){var u=this.binder(s);i.push(u.on.apply(u,a))}}return i}var u=this.binder(e);return u.on.apply(u,a)};ls.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||aB(e);if(t.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}t.supportsPassiveEvents=a}var o=function(u,l,f){var c=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(c[2]={capture:f??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:c}),(e.addEventListener||e.on).apply(e,c),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ls.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};ls.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};ls.load=function(){var e=this,t=e.cy.window(),r=function(N){return N.selected()},n=function(N){var G=N.getRootNode();if(G&&G.nodeType===11&&G.host!==void 0)return G},a=function(N,G,ee,H){N==null&&(N=e.cy);for(var Z=0;Z<G.length;Z++){var ce=G[Z];N.emit({originalEvent:ee,type:ce,position:H})}},i=function(N){return N.shiftKey||N.metaKey||N.ctrlKey},o=function(N,G){var ee=!0;if(e.cy.hasCompoundNodes()&&N&&N.pannable())for(var H=0;G&&H<G.length;H++){var N=G[H];if(N.isNode()&&N.isParent()&&!N.pannable()){ee=!1;break}}else ee=!0;return ee},s=function(N){N[0]._private.grabbed=!0},u=function(N){N[0]._private.grabbed=!1},l=function(N){N[0]._private.rscratch.inDragLayer=!0},f=function(N){N[0]._private.rscratch.inDragLayer=!1},c=function(N){N[0]._private.rscratch.isGrabTarget=!0},d=function(N){N[0]._private.rscratch.isGrabTarget=!1},h=function(N,G){var ee=G.addToList,H=ee.has(N);!H&&N.grabbable()&&!N.locked()&&(ee.merge(N),s(N))},v=function(N,G){if(N.cy().hasCompoundNodes()&&!(G.inDragLayer==null&&G.addToList==null)){var ee=N.descendants();G.inDragLayer&&(ee.forEach(l),ee.connectedEdges().forEach(l)),G.addToList&&h(ee,G)}},p=function(N,G){G=G||{};var ee=N.cy().hasCompoundNodes();G.inDragLayer&&(N.forEach(l),N.neighborhood().stdFilter(function(H){return!ee||H.isEdge()}).forEach(l)),G.addToList&&N.forEach(function(H){h(H,G)}),v(N,G),y(N,{inDragLayer:G.inDragLayer}),e.updateCachedGrabbedEles()},g=p,m=function(N){N&&(e.getCachedZSortedEles().forEach(function(G){u(G),f(G),d(G)}),e.updateCachedGrabbedEles())},y=function(N,G){if(!(G.inDragLayer==null&&G.addToList==null)&&N.cy().hasCompoundNodes()){var ee=N.ancestors().orphans();if(!ee.same(N)){var H=ee.descendants().spawnSelf().merge(ee).unmerge(N).unmerge(N.descendants()),Z=H.connectedEdges();G.inDragLayer&&(Z.forEach(l),H.forEach(l)),G.addToList&&H.forEach(function(ce){h(ce,G)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver<"u",S=typeof ResizeObserver<"u";w?(e.removeObserver=new MutationObserver(function(ne){for(var N=0;N<ne.length;N++){var G=ne[N],ee=G.removedNodes;if(ee)for(var H=0;H<ee.length;H++){var Z=ee[H];if(Z===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(ne){e.destroy()});var _=xd(function(){e.cy.resize()},100);w&&(e.styleObserver=new MutationObserver(_),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",_),S&&(e.resizeObserver=new ResizeObserver(_),e.resizeObserver.observe(e.container));var x=function(N,G){for(;N!=null;)G(N),N=N.parentNode},E=function(){e.invalidateContainerClientCoordsCache()};x(e.container,function(ne){e.registerBinding(ne,"transitionend",E),e.registerBinding(ne,"animationend",E),e.registerBinding(ne,"scroll",E)}),e.registerBinding(e.container,"contextmenu",function(ne){ne.preventDefault()});var T=function(){return e.selection[4]!==0},k=function(N){for(var G=e.findContainerClientCoords(),ee=G[0],H=G[1],Z=G[2],ce=G[3],te=N.touches?N.touches:[N],se=!1,pe=0;pe<te.length;pe++){var _e=te[pe];if(ee<=_e.clientX&&_e.clientX<=ee+Z&&H<=_e.clientY&&_e.clientY<=H+ce){se=!0;break}}if(!se)return!1;for(var me=e.container,Se=N.target,Te=Se.parentNode,xe=!1;Te;){if(Te===me){xe=!0;break}Te=Te.parentNode}return!!xe};e.registerBinding(e.container,"mousedown",function(N){if(k(N)&&!(e.hoverData.which===1&&N.which!==1)){N.preventDefault(),b(),e.hoverData.capture=!0,e.hoverData.which=N.which;var G=e.cy,ee=[N.clientX,N.clientY],H=e.projectIntoViewport(ee[0],ee[1]),Z=e.selection,ce=e.findNearestElements(H[0],H[1],!0,!1),te=ce[0],se=e.dragData.possibleDragElements;e.hoverData.mdownPos=H,e.hoverData.mdownGPos=ee;var pe=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var tt=e.hoverData.down;tt?tt.emit({originalEvent:N,type:"taphold",position:{x:H[0],y:H[1]}}):G.emit({originalEvent:N,type:"taphold",position:{x:H[0],y:H[1]}})}},e.tapholdDuration)};if(N.which==3){e.hoverData.cxtStarted=!0;var _e={originalEvent:N,type:"cxttapstart",position:{x:H[0],y:H[1]}};te?(te.activate(),te.emit(_e),e.hoverData.down=te):G.emit(_e),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(N.which==1){te&&te.activate();{if(te!=null&&e.nodeIsGrabbable(te)){var me=function(tt){return{originalEvent:N,type:tt,position:{x:H[0],y:H[1]}}},Se=function(tt){tt.emit(me("grab"))};if(c(te),!te.selected())se=e.dragData.possibleDragElements=G.collection(),g(te,{addToList:se}),te.emit(me("grabon")).emit(me("grab"));else{se=e.dragData.possibleDragElements=G.collection();var Te=G.$(function(xe){return xe.isNode()&&xe.selected()&&e.nodeIsGrabbable(xe)});p(Te,{addToList:se}),te.emit(me("grabon")),Te.forEach(Se)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=te,e.hoverData.downs=ce,e.hoverData.downTime=new Date().getTime()}a(te,["mousedown","tapstart","vmousedown"],N,{x:H[0],y:H[1]}),te==null?(Z[4]=1,e.data.bgActivePosistion={x:H[0],y:H[1]},e.redrawHint("select",!0),e.redraw()):te.pannable()&&(Z[4]=1),pe()}Z[0]=Z[2]=H[0],Z[1]=Z[3]=H[1]}},!1);var M=n(e.container);e.registerBinding([t,M],"mousemove",function(N){var G=e.hoverData.capture;if(!(!G&&!k(N))){var ee=!1,H=e.cy,Z=H.zoom(),ce=[N.clientX,N.clientY],te=e.projectIntoViewport(ce[0],ce[1]),se=e.hoverData.mdownPos,pe=e.hoverData.mdownGPos,_e=e.selection,me=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(me=e.findNearestElement(te[0],te[1],!0,!1));var Se=e.hoverData.last,Te=e.hoverData.down,xe=[te[0]-_e[2],te[1]-_e[3]],tt=e.dragData.possibleDragElements,lt;if(pe){var pr=ce[0]-pe[0],mr=pr*pr,bt=ce[1]-pe[1],kt=bt*bt,Ct=mr+kt;e.hoverData.isOverThresholdDrag=lt=Ct>=e.desktopTapThreshold2}var er=i(N);lt&&(e.hoverData.tapholdCancelled=!0);var tr=function(){var cn=e.hoverData.dragDelta=e.hoverData.dragDelta||[];cn.length===0?(cn.push(xe[0]),cn.push(xe[1])):(cn[0]+=xe[0],cn[1]+=xe[1])};ee=!0,a(me,["mousemove","vmousemove","tapdrag"],N,{x:te[0],y:te[1]});var ln=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||H.emit({originalEvent:N,type:"boxstart",position:{x:te[0],y:te[1]}}),_e[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(lt){var Er={originalEvent:N,type:"cxtdrag",position:{x:te[0],y:te[1]}};Te?Te.emit(Er):H.emit(Er),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||me!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:N,type:"cxtdragout",position:{x:te[0],y:te[1]}}),e.hoverData.cxtOver=me,me&&me.emit({originalEvent:N,type:"cxtdragover",position:{x:te[0],y:te[1]}}))}}else if(e.hoverData.dragging){if(ee=!0,H.panningEnabled()&&H.userPanningEnabled()){var fn;if(e.hoverData.justStartedPan){var In=e.hoverData.mdownPos;fn={x:(te[0]-In[0])*Z,y:(te[1]-In[1])*Z},e.hoverData.justStartedPan=!1}else fn={x:xe[0]*Z,y:xe[1]*Z};H.panBy(fn),H.emit("dragpan"),e.hoverData.dragged=!0}te=e.projectIntoViewport(N.clientX,N.clientY)}else if(_e[4]==1&&(Te==null||Te.pannable())){if(lt){if(!e.hoverData.dragging&&H.boxSelectionEnabled()&&(er||!H.panningEnabled()||!H.userPanningEnabled()))ln();else if(!e.hoverData.selecting&&H.panningEnabled()&&H.userPanningEnabled()){var Bn=o(Te,e.hoverData.downs);Bn&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,_e[4]=0,e.data.bgActivePosistion=fo(se),e.redrawHint("select",!0),e.redraw())}Te&&Te.pannable()&&Te.active()&&Te.unactivate()}}else{if(Te&&Te.pannable()&&Te.active()&&Te.unactivate(),(!Te||!Te.grabbed())&&me!=Se&&(Se&&a(Se,["mouseout","tapdragout"],N,{x:te[0],y:te[1]}),me&&a(me,["mouseover","tapdragover"],N,{x:te[0],y:te[1]}),e.hoverData.last=me),Te)if(lt){if(H.boxSelectionEnabled()&&er)Te&&Te.grabbed()&&(m(tt),Te.emit("freeon"),tt.emit("free"),e.dragData.didDrag&&(Te.emit("dragfreeon"),tt.emit("dragfree"))),ln();else if(Te&&Te.grabbed()&&e.nodeIsDraggable(Te)){var Wt=!e.dragData.didDrag;Wt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||p(tt,{inDragLayer:!0});var Dt={x:0,y:0};if(fe(xe[0])&&fe(xe[1])&&(Dt.x+=xe[0],Dt.y+=xe[1],Wt)){var sr=e.hoverData.dragDelta;sr&&fe(sr[0])&&fe(sr[1])&&(Dt.x+=sr[0],Dt.y+=sr[1])}e.hoverData.draggingEles=!0,tt.silentShift(Dt).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else tr();ee=!0}if(_e[2]=te[0],_e[3]=te[1],ee)return N.stopPropagation&&N.stopPropagation(),N.preventDefault&&N.preventDefault(),!1}},!1);var D,P,C;e.registerBinding(t,"mouseup",function(N){if(!(e.hoverData.which===1&&N.which!==1&&e.hoverData.capture)){var G=e.hoverData.capture;if(G){e.hoverData.capture=!1;var ee=e.cy,H=e.projectIntoViewport(N.clientX,N.clientY),Z=e.selection,ce=e.findNearestElement(H[0],H[1],!0,!1),te=e.dragData.possibleDragElements,se=e.hoverData.down,pe=i(N);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,se&&se.unactivate(),e.hoverData.which===3){var _e={originalEvent:N,type:"cxttapend",position:{x:H[0],y:H[1]}};if(se?se.emit(_e):ee.emit(_e),!e.hoverData.cxtDragged){var me={originalEvent:N,type:"cxttap",position:{x:H[0],y:H[1]}};se?se.emit(me):ee.emit(me)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(ce,["mouseup","tapend","vmouseup"],N,{x:H[0],y:H[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(se,["click","tap","vclick"],N,{x:H[0],y:H[1]}),P=!1,N.timeStamp-C<=ee.multiClickDebounceTime()?(D&&clearTimeout(D),P=!0,C=null,a(se,["dblclick","dbltap","vdblclick"],N,{x:H[0],y:H[1]})):(D=setTimeout(function(){P||a(se,["oneclick","onetap","voneclick"],N,{x:H[0],y:H[1]})},ee.multiClickDebounceTime()),C=N.timeStamp)),se==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i(N)&&(ee.$(r).unselect(["tapunselect"]),te.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=te=ee.collection()),ce==se&&!e.dragData.didDrag&&!e.hoverData.selecting&&ce!=null&&ce._private.selectable&&(e.hoverData.dragging||(ee.selectionType()==="additive"||pe?ce.selected()?ce.unselect(["tapunselect"]):ce.select(["tapselect"]):pe||(ee.$(r).unmerge(ce).unselect(["tapunselect"]),ce.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Se=ee.collection(e.getAllInBox(Z[0],Z[1],Z[2],Z[3]));e.redrawHint("select",!0),Se.length>0&&e.redrawHint("eles",!0),ee.emit({type:"boxend",originalEvent:N,position:{x:H[0],y:H[1]}});var Te=function(lt){return lt.selectable()&&!lt.selected()};ee.selectionType()==="additive"||pe||ee.$(r).unmerge(Se).unselect(),Se.emit("box").stdFilter(Te).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!Z[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var xe=se&&se.grabbed();m(te),xe&&(se.emit("freeon"),te.emit("free"),e.dragData.didDrag&&(se.emit("dragfreeon"),te.emit("dragfree")))}}Z[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var A=function(N){if(!e.scrollingPage){var G=e.cy,ee=G.zoom(),H=G.pan(),Z=e.projectIntoViewport(N.clientX,N.clientY),ce=[Z[0]*ee+H.x,Z[1]*ee+H.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||T()){N.preventDefault();return}if(G.panningEnabled()&&G.userPanningEnabled()&&G.zoomingEnabled()&&G.userZoomingEnabled()){N.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var te;N.deltaY!=null?te=N.deltaY/-250:N.wheelDeltaY!=null?te=N.wheelDeltaY/1e3:te=N.wheelDelta/1e3,te=te*e.wheelSensitivity;var se=N.deltaMode===1;se&&(te*=33);var pe=G.zoom()*Math.pow(10,te);N.type==="gesturechange"&&(pe=e.gestureStartZoom*N.scale),G.zoom({level:pe,renderedPosition:{x:ce[0],y:ce[1]}}),G.emit(N.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",A,!0),e.registerBinding(t,"scroll",function(N){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(N){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||N.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(ne){e.hasTouchStarted||A(ne)},!0),e.registerBinding(e.container,"mouseout",function(N){var G=e.projectIntoViewport(N.clientX,N.clientY);e.cy.emit({originalEvent:N,type:"mouseout",position:{x:G[0],y:G[1]}})},!1),e.registerBinding(e.container,"mouseover",function(N){var G=e.projectIntoViewport(N.clientX,N.clientY);e.cy.emit({originalEvent:N,type:"mouseover",position:{x:G[0],y:G[1]}})},!1);var O,L,$,z,F,I,B,V,K,j,Q,X,W,R=function(N,G,ee,H){return Math.sqrt((ee-N)*(ee-N)+(H-G)*(H-G))},q=function(N,G,ee,H){return(ee-N)*(ee-N)+(H-G)*(H-G)},U;e.registerBinding(e.container,"touchstart",U=function(N){if(e.hasTouchStarted=!0,!!k(N)){b(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var G=e.cy,ee=e.touchData.now,H=e.touchData.earlier;if(N.touches[0]){var Z=e.projectIntoViewport(N.touches[0].clientX,N.touches[0].clientY);ee[0]=Z[0],ee[1]=Z[1]}if(N.touches[1]){var Z=e.projectIntoViewport(N.touches[1].clientX,N.touches[1].clientY);ee[2]=Z[0],ee[3]=Z[1]}if(N.touches[2]){var Z=e.projectIntoViewport(N.touches[2].clientX,N.touches[2].clientY);ee[4]=Z[0],ee[5]=Z[1]}if(N.touches[1]){e.touchData.singleTouchMoved=!0,m(e.dragData.touchDragEles);var ce=e.findContainerClientCoords();K=ce[0],j=ce[1],Q=ce[2],X=ce[3],O=N.touches[0].clientX-K,L=N.touches[0].clientY-j,$=N.touches[1].clientX-K,z=N.touches[1].clientY-j,W=0<=O&&O<=Q&&0<=$&&$<=Q&&0<=L&&L<=X&&0<=z&&z<=X;var te=G.pan(),se=G.zoom();F=R(O,L,$,z),I=q(O,L,$,z),B=[(O+$)/2,(L+z)/2],V=[(B[0]-te.x)/se,(B[1]-te.y)/se];var pe=200,_e=pe*pe;if(I<_e&&!N.touches[2]){var me=e.findNearestElement(ee[0],ee[1],!0,!0),Se=e.findNearestElement(ee[2],ee[3],!0,!0);me&&me.isNode()?(me.activate().emit({originalEvent:N,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),e.touchData.start=me):Se&&Se.isNode()?(Se.activate().emit({originalEvent:N,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),e.touchData.start=Se):G.emit({originalEvent:N,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(N.touches[2])G.boxSelectionEnabled()&&N.preventDefault();else if(!N.touches[1]){if(N.touches[0]){var Te=e.findNearestElements(ee[0],ee[1],!0,!0),xe=Te[0];if(xe!=null&&(xe.activate(),e.touchData.start=xe,e.touchData.starts=Te,e.nodeIsGrabbable(xe))){var tt=e.dragData.touchDragEles=G.collection(),lt=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),xe.selected()?(lt=G.$(function(Ct){return Ct.selected()&&e.nodeIsGrabbable(Ct)}),p(lt,{addToList:tt})):g(xe,{addToList:tt}),c(xe);var pr=function(er){return{originalEvent:N,type:er,position:{x:ee[0],y:ee[1]}}};xe.emit(pr("grabon")),lt?lt.forEach(function(Ct){Ct.emit(pr("grab"))}):xe.emit(pr("grab"))}a(xe,["touchstart","tapstart","vmousedown"],N,{x:ee[0],y:ee[1]}),xe==null&&(e.data.bgActivePosistion={x:Z[0],y:Z[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],N,{x:ee[0],y:ee[1]})},e.tapholdDuration)}}if(N.touches.length>=1){for(var mr=e.touchData.startPosition=[null,null,null,null,null,null],bt=0;bt<ee.length;bt++)mr[bt]=H[bt]=ee[bt];var kt=N.touches[0];e.touchData.startGPosition=[kt.clientX,kt.clientY]}}},!1);var Y;e.registerBinding(t,"touchmove",Y=function(N){var G=e.touchData.capture;if(!(!G&&!k(N))){var ee=e.selection,H=e.cy,Z=e.touchData.now,ce=e.touchData.earlier,te=H.zoom();if(N.touches[0]){var se=e.projectIntoViewport(N.touches[0].clientX,N.touches[0].clientY);Z[0]=se[0],Z[1]=se[1]}if(N.touches[1]){var se=e.projectIntoViewport(N.touches[1].clientX,N.touches[1].clientY);Z[2]=se[0],Z[3]=se[1]}if(N.touches[2]){var se=e.projectIntoViewport(N.touches[2].clientX,N.touches[2].clientY);Z[4]=se[0],Z[5]=se[1]}var pe=e.touchData.startGPosition,_e;if(G&&N.touches[0]&&pe){for(var me=[],Se=0;Se<Z.length;Se++)me[Se]=Z[Se]-ce[Se];var Te=N.touches[0].clientX-pe[0],xe=Te*Te,tt=N.touches[0].clientY-pe[1],lt=tt*tt,pr=xe+lt;_e=pr>=e.touchTapThreshold2}if(G&&e.touchData.cxt){N.preventDefault();var mr=N.touches[0].clientX-K,bt=N.touches[0].clientY-j,kt=N.touches[1].clientX-K,Ct=N.touches[1].clientY-j,er=q(mr,bt,kt,Ct),tr=er/I,ln=150,Er=ln*ln,fn=1.5,In=fn*fn;if(tr>=In||er>=Er){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Bn={originalEvent:N,type:"cxttapend",position:{x:Z[0],y:Z[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(Bn),e.touchData.start=null):H.emit(Bn)}}if(G&&e.touchData.cxt){var Bn={originalEvent:N,type:"cxtdrag",position:{x:Z[0],y:Z[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Bn):H.emit(Bn),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Wt=e.findNearestElement(Z[0],Z[1],!0,!0);(!e.touchData.cxtOver||Wt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:N,type:"cxtdragout",position:{x:Z[0],y:Z[1]}}),e.touchData.cxtOver=Wt,Wt&&Wt.emit({originalEvent:N,type:"cxtdragover",position:{x:Z[0],y:Z[1]}}))}else if(G&&N.touches[2]&&H.boxSelectionEnabled())N.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||H.emit({originalEvent:N,type:"boxstart",position:{x:Z[0],y:Z[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,ee[4]=1,!ee||ee.length===0||ee[0]===void 0?(ee[0]=(Z[0]+Z[2]+Z[4])/3,ee[1]=(Z[1]+Z[3]+Z[5])/3,ee[2]=(Z[0]+Z[2]+Z[4])/3+1,ee[3]=(Z[1]+Z[3]+Z[5])/3+1):(ee[2]=(Z[0]+Z[2]+Z[4])/3,ee[3]=(Z[1]+Z[3]+Z[5])/3),e.redrawHint("select",!0),e.redraw();else if(G&&N.touches[1]&&!e.touchData.didSelect&&H.zoomingEnabled()&&H.panningEnabled()&&H.userZoomingEnabled()&&H.userPanningEnabled()){N.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Dt=e.dragData.touchDragEles;if(Dt){e.redrawHint("drag",!0);for(var sr=0;sr<Dt.length;sr++){var ll=Dt[sr]._private;ll.grabbed=!1,ll.rscratch.inDragLayer=!1}}var cn=e.touchData.start,mr=N.touches[0].clientX-K,bt=N.touches[0].clientY-j,kt=N.touches[1].clientX-K,Ct=N.touches[1].clientY-j,L0=R(mr,bt,kt,Ct),NM=L0/F;if(W){var OM=mr-O,LM=bt-L,RM=kt-$,$M=Ct-z,IM=(OM+RM)/2,BM=(LM+$M)/2,ds=H.zoom(),Id=ds*NM,fl=H.pan(),R0=V[0]*ds+fl.x,$0=V[1]*ds+fl.y,FM={x:-Id/ds*(R0-fl.x-IM)+R0,y:-Id/ds*($0-fl.y-BM)+$0};if(cn&&cn.active()){var Dt=e.dragData.touchDragEles;m(Dt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),cn.unactivate().emit("freeon"),Dt.emit("free"),e.dragData.didDrag&&(cn.emit("dragfreeon"),Dt.emit("dragfree"))}H.viewport({zoom:Id,pan:FM,cancelOnFailedZoom:!0}),H.emit("pinchzoom"),F=L0,O=mr,L=bt,$=kt,z=Ct,e.pinching=!0}if(N.touches[0]){var se=e.projectIntoViewport(N.touches[0].clientX,N.touches[0].clientY);Z[0]=se[0],Z[1]=se[1]}if(N.touches[1]){var se=e.projectIntoViewport(N.touches[1].clientX,N.touches[1].clientY);Z[2]=se[0],Z[3]=se[1]}if(N.touches[2]){var se=e.projectIntoViewport(N.touches[2].clientX,N.touches[2].clientY);Z[4]=se[0],Z[5]=se[1]}}else if(N.touches[0]&&!e.touchData.didSelect){var qr=e.touchData.start,Bd=e.touchData.last,Wt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Wt=e.findNearestElement(Z[0],Z[1],!0,!0)),G&&qr!=null&&N.preventDefault(),G&&qr!=null&&e.nodeIsDraggable(qr))if(_e){var Dt=e.dragData.touchDragEles,I0=!e.dragData.didDrag;I0&&p(Dt,{inDragLayer:!0}),e.dragData.didDrag=!0;var hs={x:0,y:0};if(fe(me[0])&&fe(me[1])&&(hs.x+=me[0],hs.y+=me[1],I0)){e.redrawHint("eles",!0);var Vr=e.touchData.dragDelta;Vr&&fe(Vr[0])&&fe(Vr[1])&&(hs.x+=Vr[0],hs.y+=Vr[1])}e.hoverData.draggingEles=!0,Dt.silentShift(hs).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==ce[0]&&e.touchData.startPosition[1]==ce[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Vr=e.touchData.dragDelta=e.touchData.dragDelta||[];Vr.length===0?(Vr.push(me[0]),Vr.push(me[1])):(Vr[0]+=me[0],Vr[1]+=me[1])}if(a(qr||Wt,["touchmove","tapdrag","vmousemove"],N,{x:Z[0],y:Z[1]}),(!qr||!qr.grabbed())&&Wt!=Bd&&(Bd&&Bd.emit({originalEvent:N,type:"tapdragout",position:{x:Z[0],y:Z[1]}}),Wt&&Wt.emit({originalEvent:N,type:"tapdragover",position:{x:Z[0],y:Z[1]}})),e.touchData.last=Wt,G)for(var sr=0;sr<Z.length;sr++)Z[sr]&&e.touchData.startPosition[sr]&&_e&&(e.touchData.singleTouchMoved=!0);if(G&&(qr==null||qr.pannable())&&H.panningEnabled()&&H.userPanningEnabled()){var zM=o(qr,e.touchData.starts);zM&&(N.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=fo(e.touchData.startPosition)),e.swipePanning?(H.panBy({x:me[0]*te,y:me[1]*te}),H.emit("dragpan")):_e&&(e.swipePanning=!0,H.panBy({x:Te*te,y:tt*te}),H.emit("dragpan"),qr&&(qr.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var se=e.projectIntoViewport(N.touches[0].clientX,N.touches[0].clientY);Z[0]=se[0],Z[1]=se[1]}}for(var Se=0;Se<Z.length;Se++)ce[Se]=Z[Se];G&&N.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var ie;e.registerBinding(t,"touchcancel",ie=function(N){var G=e.touchData.start;e.touchData.capture=!1,G&&G.unactivate()});var J,re,oe,ue;if(e.registerBinding(t,"touchend",J=function(N){var G=e.touchData.start,ee=e.touchData.capture;if(ee)N.touches.length===0&&(e.touchData.capture=!1),N.preventDefault();else return;var H=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var Z=e.cy,ce=Z.zoom(),te=e.touchData.now,se=e.touchData.earlier;if(N.touches[0]){var pe=e.projectIntoViewport(N.touches[0].clientX,N.touches[0].clientY);te[0]=pe[0],te[1]=pe[1]}if(N.touches[1]){var pe=e.projectIntoViewport(N.touches[1].clientX,N.touches[1].clientY);te[2]=pe[0],te[3]=pe[1]}if(N.touches[2]){var pe=e.projectIntoViewport(N.touches[2].clientX,N.touches[2].clientY);te[4]=pe[0],te[5]=pe[1]}G&&G.unactivate();var _e;if(e.touchData.cxt){if(_e={originalEvent:N,type:"cxttapend",position:{x:te[0],y:te[1]}},G?G.emit(_e):Z.emit(_e),!e.touchData.cxtDragged){var me={originalEvent:N,type:"cxttap",position:{x:te[0],y:te[1]}};G?G.emit(me):Z.emit(me)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!N.touches[2]&&Z.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Se=Z.collection(e.getAllInBox(H[0],H[1],H[2],H[3]));H[0]=void 0,H[1]=void 0,H[2]=void 0,H[3]=void 0,H[4]=0,e.redrawHint("select",!0),Z.emit({type:"boxend",originalEvent:N,position:{x:te[0],y:te[1]}});var Te=function(Er){return Er.selectable()&&!Er.selected()};Se.emit("box").stdFilter(Te).select().emit("boxselect"),Se.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(G!=null&&G.unactivate(),N.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!N.touches[1]){if(!N.touches[0]){if(!N.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var xe=e.dragData.touchDragEles;if(G!=null){var tt=G._private.grabbed;m(xe),e.redrawHint("drag",!0),e.redrawHint("eles",!0),tt&&(G.emit("freeon"),xe.emit("free"),e.dragData.didDrag&&(G.emit("dragfreeon"),xe.emit("dragfree"))),a(G,["touchend","tapend","vmouseup","tapdragout"],N,{x:te[0],y:te[1]}),G.unactivate(),e.touchData.start=null}else{var lt=e.findNearestElement(te[0],te[1],!0,!0);a(lt,["touchend","tapend","vmouseup","tapdragout"],N,{x:te[0],y:te[1]})}var pr=e.touchData.startPosition[0]-te[0],mr=pr*pr,bt=e.touchData.startPosition[1]-te[1],kt=bt*bt,Ct=mr+kt,er=Ct*ce*ce;e.touchData.singleTouchMoved||(G||Z.$(":selected").unselect(["tapunselect"]),a(G,["tap","vclick"],N,{x:te[0],y:te[1]}),re=!1,N.timeStamp-ue<=Z.multiClickDebounceTime()?(oe&&clearTimeout(oe),re=!0,ue=null,a(G,["dbltap","vdblclick"],N,{x:te[0],y:te[1]})):(oe=setTimeout(function(){re||a(G,["onetap","voneclick"],N,{x:te[0],y:te[1]})},Z.multiClickDebounceTime()),ue=N.timeStamp)),G!=null&&!e.dragData.didDrag&&G._private.selectable&&er<e.touchTapThreshold2&&!e.pinching&&(Z.selectionType()==="single"?(Z.$(r).unmerge(G).unselect(["tapunselect"]),G.select(["tapselect"])):G.selected()?G.unselect(["tapunselect"]):G.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var tr=0;tr<te.length;tr++)se[tr]=te[tr];e.dragData.didDrag=!1,N.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),N.touches.length<2&&(N.touches.length===1&&(e.touchData.startGPosition=[N.touches[0].clientX,N.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var le=[],ge=function(N){return{clientX:N.clientX,clientY:N.clientY,force:1,identifier:N.pointerId,pageX:N.pageX,pageY:N.pageY,radiusX:N.width/2,radiusY:N.height/2,screenX:N.screenX,screenY:N.screenY,target:N.target}},He=function(N){return{event:N,touch:ge(N)}},$e=function(N){le.push(He(N))},Me=function(N){for(var G=0;G<le.length;G++){var ee=le[G];if(ee.event.pointerId===N.pointerId){le.splice(G,1);return}}},Ge=function(N){var G=le.filter(function(ee){return ee.event.pointerId===N.pointerId})[0];G.event=N,G.touch=ge(N)},Ae=function(N){N.touches=le.map(function(G){return G.touch})},ze=function(N){return N.pointerType==="mouse"||N.pointerType===4};e.registerBinding(e.container,"pointerdown",function(ne){ze(ne)||(ne.preventDefault(),$e(ne),Ae(ne),U(ne))}),e.registerBinding(e.container,"pointerup",function(ne){ze(ne)||(Me(ne),Ae(ne),J(ne))}),e.registerBinding(e.container,"pointercancel",function(ne){ze(ne)||(Me(ne),Ae(ne),ie(ne))}),e.registerBinding(e.container,"pointermove",function(ne){ze(ne)||(ne.preventDefault(),Ge(ne),Ae(ne),Y(ne))})}};var _a={};_a.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,a,i,o,s,u){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,u,l,f){return _u(s,u,this.points,n,a,i/2,o/2,l)},checkPoint:function(n,a,i,o,s,u,l,f){return ha(n,a,this.points,u,l,o,s,[0,-1],i)}}};_a.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,s,u){return QF(i,o,t,r,n/2+s,a/2+s)},checkPoint:function(t,r,n,a,i,o,s,u){return pi(t,r,a,i,o,s,n)}}};_a.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,a,i,o,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===a)return u[l];u[l]=new Array(t.length/2),u[l+"-cx"]=n,u[l+"-cy"]=a;var f=i/2,c=o/2;s=s==="auto"?y5(i,o):s;for(var d=new Array(t.length/2),h=0;h<t.length/2;h++)d[h]={x:n+f*t[h*2],y:a+c*t[h*2+1]};var v,p,g,m,y=d.length;for(p=d[y-1],v=0;v<y;v++)g=d[v%y],m=d[(v+1)%y],u[l][v]=A0(p,g,m,s),p=g,g=m;return u[l]},draw:function(n,a,i,o,s,u,l){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,s,this.points,this.getOrCreateCorners(a,i,o,s,u,l,"drawCorners"))},intersectLine:function(n,a,i,o,s,u,l,f,c){return jF(s,u,this.points,n,a,i,o,l,this.getOrCreateCorners(n,a,i,o,f,c,"corners"))},checkPoint:function(n,a,i,o,s,u,l,f,c){return ZF(n,a,this.points,u,l,o,s,this.getOrCreateCorners(u,l,o,s,f,c,"corners"))}}};_a.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:nr(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,s,u){return p5(i,o,t,r,n,a,s,u)},checkPoint:function(t,r,n,a,i,o,s,u){var l=a/2,f=i/2;u=u==="auto"?Li(a,i):u,u=Math.min(l,f,u);var c=u*2;return!!(ha(t,r,this.points,o,s,a,i-c,[0,-1],n)||ha(t,r,this.points,o,s,a-c,i,[0,-1],n)||pi(t,r,c,c,o-l+u,s-f+u,n)||pi(t,r,c,c,o+l-u,s-f+u,n)||pi(t,r,c,c,o+l-u,s+f-u,n)||pi(t,r,c,c,o-l+u,s+f-u,n))}}};_a.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:y0(),points:nr(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,null,o)},generateCutTrianglePts:function(t,r,n,a,i){var o=i==="auto"?this.cornerLength:i,s=r/2,u=t/2,l=n-u,f=n+u,c=a-s,d=a+s;return{topLeft:[l,c+o,l+o,c,l+o,c+o],topRight:[f-o,c,f,c+o,f-o,c+o],bottomRight:[f,d-o,f-o,d,f-o,d-o],bottomLeft:[l+o,d,l,d-o,l+o,d-o]}},intersectLine:function(t,r,n,a,i,o,s,u){var l=this.generateCutTrianglePts(n+2*s,a+2*s,t,r,u),f=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return _u(i,o,f,t,r)},checkPoint:function(t,r,n,a,i,o,s,u){var l=u==="auto"?this.cornerLength:u;if(ha(t,r,this.points,o,s,a,i-2*l,[0,-1],n)||ha(t,r,this.points,o,s,a-2*l,i,[0,-1],n))return!0;var f=this.generateCutTrianglePts(a,i,o,s);return lr(t,r,f.topLeft)||lr(t,r,f.topRight)||lr(t,r,f.bottomRight)||lr(t,r,f.bottomLeft)}}};_a.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:nr(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,s,u){var l=.15,f=.5,c=.85,d=this.generateBarrelBezierPts(n+2*s,a+2*s,t,r),h=function(g){var m=xo({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},l),y=xo({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},f),b=xo({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},c);return[g[0],g[1],m.x,m.y,y.x,y.y,b.x,b.y,g[4],g[5]]},v=[].concat(h(d.topLeft),h(d.topRight),h(d.bottomRight),h(d.bottomLeft));return _u(i,o,v,t,r)},generateBarrelBezierPts:function(t,r,n,a){var i=r/2,o=t/2,s=n-o,u=n+o,l=a-i,f=a+i,c=gg(t,r),d=c.heightOffset,h=c.widthOffset,v=c.ctrlPtOffsetPct*t,p={topLeft:[s,l+d,s+v,l,s+h,l],topRight:[u-h,l,u-v,l,u,l+d],bottomRight:[u,f-d,u-v,f,u-h,f],bottomLeft:[s+h,f,s+v,f,s,f-d]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(t,r,n,a,i,o,s,u){var l=gg(a,i),f=l.heightOffset,c=l.widthOffset;if(ha(t,r,this.points,o,s,a,i-2*f,[0,-1],n)||ha(t,r,this.points,o,s,a-2*c,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,i,o,s),h=function(E,T,k){var M=k[4],D=k[2],P=k[0],C=k[5],A=k[1],O=Math.min(M,P),L=Math.max(M,P),$=Math.min(C,A),z=Math.max(C,A);if(O<=E&&E<=L&&$<=T&&T<=z){var F=JF(M,D,P),I=HF(F[0],F[1],F[2],E),B=I.filter(function(V){return 0<=V&&V<=1});if(B.length>0)return B[0]}return null},v=Object.keys(d),p=0;p<v.length;p++){var g=v[p],m=d[g],y=h(t,r,m);if(y!=null){var b=m[5],w=m[3],S=m[1],_=Nt(b,w,S,y);if(m.isTop&&_<=r||m.isBottom&&r<=_)return!0}}return!1}}};_a.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:nr(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,s,u){var l=t-(n/2+s),f=r-(a/2+s),c=f,d=t+(n/2+s),h=Ra(i,o,t,r,l,f,d,c,!1);return h.length>0?h:p5(i,o,t,r,n,a,s,u)},checkPoint:function(t,r,n,a,i,o,s,u){u=u==="auto"?Li(a,i):u;var l=2*u;if(ha(t,r,this.points,o,s,a,i-l,[0,-1],n)||ha(t,r,this.points,o,s,a-l,i,[0,-1],n))return!0;var f=a/2+2*n,c=i/2+2*n,d=[o-f,s-c,o-f,s,o+f,s,o+f,s-c];return!!(lr(t,r,d)||pi(t,r,l,l,o+a/2-u,s+i/2-u,n)||pi(t,r,l,l,o-a/2+u,s+i/2-u,n))}}};_a.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",nr(3,0)),this.generateRoundPolygon("round-triangle",nr(3,0)),this.generatePolygon("rectangle",nr(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",nr(5,0)),this.generateRoundPolygon("round-pentagon",nr(5,0)),this.generatePolygon("hexagon",nr(6,0)),this.generateRoundPolygon("round-hexagon",nr(6,0)),this.generatePolygon("heptagon",nr(7,0)),this.generateRoundPolygon("round-heptagon",nr(7,0)),this.generatePolygon("octagon",nr(8,0)),this.generateRoundPolygon("round-octagon",nr(8,0));var n=new Array(20);{var a=vg(5,0),i=vg(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=m5(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(l){var f=l.join("$"),c="polygon-"+f,d;return(d=this[c])?d:t.generatePolygon(c,l)}};var sl={};sl.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};sl.redraw=function(e){e=e||c5();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};sl.beforeRender=function(e,t){if(!this.destroyed){t==null&&vt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,a){return a.priority-n.priority})}};var Nb=function(t,r,n){for(var a=t.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};sl.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function n(a){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){Nb(e,!0,a);var i=da();e.render(e.renderOptions);var o=e.lastDrawTime=da();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-i),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=o-i;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else Nb(e,!1,a);e.skipFrame=!1,uc(n)}};uc(r)}};var LW=function(t){this.init(t)},pM=LW,fs=pM.prototype;fs.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];fs.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",u=a.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!u){var l=a.createElement("style");l.id=o,l.textContent="."+s+" { position: relative; }",i.insertBefore(l,i.children[0])}var f=n.getComputedStyle(r),c=f.getPropertyValue("position");c==="static"&&Ke("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=fe(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};fs.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};fs.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};fs.isHeadless=function(){return!1};[D0,vM,gM,ls,_a,sl].forEach(function(e){we(fs,e)});var av=1e3/60,mM={setupDequeueing:function(t){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=xd(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},t.deqRedrawThreshold),o=function(l,f){var c=da(),d=a.averageRedrawTime,h=a.lastRedrawTime,v=[],p=a.cy.extent(),g=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var m=da(),y=m-c,b=m-f;if(h<av){var w=av-(l?d:0);if(b>=t.deqFastCost*w)break}else if(l){if(y>=t.deqCost*h||y>=t.deqAvgCost*d)break}else if(b>=t.deqNoDrawCost*av)break;var S=t.deq(n,g,p);if(S.length>0)for(var _=0;_<S.length;_++)v.push(S[_]);else break}v.length>0&&(t.onDeqd(n,v),!l&&t.shouldRedraw(n,v,g,p)&&i())},s=t.priority||v0;a.beforeRender(o,s(n))}}}},RW=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lc;l0(this,e),this.idsByKey=new Sn,this.keyForId=new Sn,this.cachesByLvl=new Sn,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return f0(e,[{key:"getIdsFor",value:function(r){r==null&&vt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new rs,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Sn,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),e}(),Ob=25,Zl=50,gf=-4,Mg=3,$W=7.99,IW=8,BW=1024,FW=1024,zW=1024,YW=.2,qW=.8,VW=10,WW=.15,UW=.1,HW=.9,GW=.9,XW=100,KW=1,co={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},ZW=qt({getKey:null,doesEleInvalidateKey:lc,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:u5,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Us=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var a=ZW(r);we(n,a),n.lookup=new RW(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Mt=Us.prototype;Mt.reasons=co;Mt.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Mt.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};Mt.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new nl(function(r,n){return n.reqs-r.reqs});return t};Mt.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Mt.getElement=function(e,t,r,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(p0(s*r))),n<gf)n=gf;else if(s>=$W||n>Mg)return null;var l=Math.pow(2,n),f=t.h*l,c=t.w*l,d=o.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,d))return null;var h=u.get(e,n);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var v;if(f<=Ob?v=Ob:f<=Zl?v=Zl:v=Math.ceil(f/Zl)*Zl,f>zW||c>FW)return null;var p=i.getTextureQueue(v),g=p[p.length-2],m=function(){return i.recycleTexture(v,c)||i.addTexture(v,c)};g||(g=p[p.length-1]),g||(g=m()),g.width-g.usedWidth<c&&(g=m());for(var y=function(O){return O&&O.scaledLabelShown===d},b=a&&a===co.dequeue,w=a&&a===co.highQuality,S=a&&a===co.downscale,_,x=n+1;x<=Mg;x++){var E=u.get(e,x);if(E){_=E;break}}var T=_&&_.level===n+1?_:null,k=function(){g.context.drawImage(T.texture.canvas,T.x,0,T.width,T.height,g.usedWidth,0,c,f)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,c,v),y(T))k();else if(y(_))if(w){for(var M=_.level;M>n;M--)T=i.getElement(e,t,r,M,co.downscale);k()}else return i.queueElement(e,_.level-1),_;else{var D;if(!b&&!w&&!S)for(var P=n-1;P>=gf;P--){var C=u.get(e,P);if(C){D=C;break}}if(y(D))return i.queueElement(e,n),D;g.context.translate(g.usedWidth,0),g.context.scale(l,l),this.drawElement(g.context,e,t,d,!1),g.context.scale(1/l,1/l),g.context.translate(-g.usedWidth,0)}return h={x:g.usedWidth,texture:g,level:n,scale:l,width:c,height:f,scaledLabelShown:d},g.usedWidth+=Math.ceil(c+IW),g.eleCaches.push(h),u.set(e,n,h),i.checkTextureFullness(g),h};Mt.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Mt.invalidateElement=function(e){var t=this,r=t.lookup,n=[],a=r.isInvalid(e);if(a){for(var i=gf;i<=Mg;i++){var o=r.getForCachedKey(e,i);o&&n.push(o)}var s=r.invalidate(e);if(s)for(var u=0;u<n.length;u++){var l=n[u],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,t.checkTextureUtility(f)}t.removeFromQueue(e)}};Mt.checkTextureUtility=function(e){e.invalidatedWidth>=YW*e.width&&this.retireTexture(e)};Mt.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>qW&&e.fullnessChecks>=VW?Ha(r,e):e.fullnessChecks++};Mt.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),a=this.lookup;Ha(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}g0(i);var u=t.getRetiredTextureQueue(r);u.push(e)};Mt.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),a={};return n.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(BW,t),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Mt.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),a=r.getRetiredTextureQueue(e),i=0;i<a.length;i++){var o=a[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,g0(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Ha(a,o),n.push(o),o}};Mt.queueElement=function(e,t){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(e),o=a[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(s),a[i]=s}};Mt.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=[],i=t.lookup,o=0;o<KW&&r.size()>0;o++){var s=r.pop(),u=s.key,l=s.eles[0],f=i.hasCache(l,s.level);if(n[u]=null,f)continue;a.push(s);var c=t.getBoundingBox(l);t.getElement(l,c,e,s.level,co.dequeue)}return a};Mt.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=this.getKey(e),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=h0,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(e))};Mt.onDequeue=function(e){this.onDequeues.push(e)};Mt.offDequeue=function(e){Ha(this.onDequeues,e)};Mt.setupDequeueing=mM.setupDequeueing({deqRedrawThreshold:XW,deqCost:WW,deqAvgCost:UW,deqNoDrawCost:HW,deqFastCost:GW,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var a=t.onDequeues[n];a(r)}},shouldRedraw:function(t,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,s=0;s<o.length;s++){var u=o[s].boundingBox();if(m0(u,a))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var QW=1,js=-4,mc=2,jW=3.99,JW=50,eU=50,tU=.15,rU=.1,nU=.9,aU=.9,iU=1,Lb=250,oU=4e3*4e3,Rb=32767,sU=!0,yM=function(t){var r=this,n=r.renderer=t,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=da()-2*Lb,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=xd(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},eU),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=Lb?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,u){return u.reqs-s.reqs};r.layersQueue=new nl(i),r.setupDequeueing()},Vt=yM.prototype,$b=0,uU=Math.pow(2,53)-1;Vt.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),a=Math.ceil(e.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:$b=++$b%uU,bb:e,level:t,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,u=-o.bb.x1,l=-o.bb.y1;return s.scale(r,r),s.translate(u,l),o};Vt.getLayers=function(e,t,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(p0(o*t)),r<js)r=js;else if(o>=jW||r>mc)return null}n.validateLayersElesOrdering(r,e);var u=n.layersByLevel,l=Math.pow(2,r),f=u[r]=u[r]||[],c,d=n.levelIsComplete(r,e),h,v=function(){var k=function(A){if(n.validateLayersElesOrdering(A,e),n.levelIsComplete(A,e))return h=u[A],!0},M=function(A){if(!h)for(var O=r+A;js<=O&&O<=mc&&!k(O);O+=A);};M(1),M(-1);for(var D=f.length-1;D>=0;D--){var P=f[D];P.invalid&&Ha(f,P)}};if(!d)v();else return f;var p=function(){if(!c){c=gr();for(var k=0;k<e.length;k++)v5(c,e[k].boundingBox())}return c},g=function(k){k=k||{};var M=k.after;p();var D=Math.ceil(c.w*l),P=Math.ceil(c.h*l);if(D>Rb||P>Rb)return null;var C=D*P;if(C>oU)return null;var A=n.makeLayer(c,r);if(M!=null){var O=f.indexOf(M)+1;f.splice(O,0,A)}else(k.insert===void 0||k.insert)&&f.unshift(A);return A};if(n.skipping&&!s)return null;for(var m=null,y=e.length/QW,b=!s,w=0;w<e.length;w++){var S=e[w],_=S._private.rscratch,x=_.imgLayerCaches=_.imgLayerCaches||{},E=x[r];if(E){m=E;continue}if((!m||m.eles.length>=y||!g5(m.bb,S.boundingBox()))&&(m=g({insert:!0,after:m}),!m))return null;h||b?n.queueLayer(m,S):n.drawEleInLayer(m,S,r,t),m.eles.push(S),x[r]=m}return h||(b?null:f)};Vt.getEleLevelForLayerLevel=function(e,t){return e};Vt.drawEleInLayer=function(e,t,r,n){var a=this,i=this.renderer,o=e.context,s=t.boundingBox();s.w===0||s.h===0||!t.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,r,sU),i.setImgSmoothing(o,!0))};Vt.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===t.length};Vt.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<t.length;o++)if(a.eles[0]===t[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==t[s+o]){this.invalidateLayer(a);break}}};Vt.updateElementsInLayers=function(e,t){for(var r=this,n=tl(e[0]),a=0;a<e.length;a++)for(var i=n?null:e[a],o=n?e[a]:e[a].ele,s=o._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=js;l<=mc;l++){var f=u[l];f&&(i&&r.getEleLevelForLayerLevel(f.level)!==i.level||t(f,o,i))}};Vt.haveLayers=function(){for(var e=this,t=!1,r=js;r<=mc;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};Vt.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=da(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,a,i){t.invalidateLayer(n)}))};Vt.invalidateLayer=function(e){if(this.lastInvalidationTime=da(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Ha(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}};Vt.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)t.queueLayer(o,o.eles[s])})};Vt.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Vt.queueLayer=function(e,t){var r=this,n=r.layersQueue,a=e.elesQueue,i=a.hasId=a.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;a.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};Vt.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],a=0;a<iU&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(t.drawEleInLayer(i,o,i.level,e),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}return n};Vt.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}};Vt.requestRedraw=xd(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Vt.setupDequeueing=mM.setupDequeueing({deqRedrawThreshold:JW,deqCost:tU,deqAvgCost:rU,deqNoDrawCost:nU,deqFastCost:aU,deq:function(t,r){return t.dequeue(r)},onDeqd:v0,shouldRedraw:u5,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var bM={},Ib;function lU(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function fU(e,t,r){for(var n,a=0;a<t.length;a++){var i=t[a];a===0&&(n=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Bb(e,t,r){e.beginPath&&e.beginPath();for(var n=t,a=0;a<n.length;a++){var i=n[a];e.lineTo(i.x,i.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function cU(e,t,r,n,a){e.beginPath&&e.beginPath(),e.arc(r,n,a,0,Math.PI*2,!1);var i=t,o=i[0];e.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var u=i[s];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function dU(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}bM.arrowShapeImpl=function(e){return(Ib||(Ib={polygon:lU,"triangle-backcurve":fU,"triangle-tee":Bb,"circle-triangle":cU,"triangle-cross":Bb,circle:dU}))[e]};var $n={};$n.drawElement=function(e,t,r,n,a,i){var o=this;t.isNode()?o.drawNode(e,t,r,n,a,i):o.drawEdge(e,t,r,n,a,i)};$n.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};$n.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};$n.drawCachedElementPortion=function(e,t,r,n,a,i,o,s){var u=this,l=r.getBoundingBox(t);if(!(l.w===0||l.h===0)){var f=r.getElement(t,l,n,a,i);if(f!=null){var c=s(u,t);if(c===0)return;var d=o(u,t),h=l.x1,v=l.y1,p=l.w,g=l.h,m,y,b,w,S;if(d!==0){var _=r.getRotationPoint(t);b=_.x,w=_.y,e.translate(b,w),e.rotate(d),S=u.getImgSmoothing(e),S||u.setImgSmoothing(e,!0);var x=r.getRotationOffset(t);m=x.x,y=x.y}else m=h,y=v;var E;c!==1&&(E=e.globalAlpha,e.globalAlpha=E*c),e.drawImage(f.texture.canvas,f.x,0,f.width,f.height,m,y,p,g),c!==1&&(e.globalAlpha=E),d!==0&&(e.rotate(-d),e.translate(-b,-w),S||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var hU=function(){return 0},vU=function(t,r){return t.getTextAngle(r,null)},gU=function(t,r){return t.getTextAngle(r,"source")},pU=function(t,r){return t.getTextAngle(r,"target")},mU=function(t,r){return r.effectiveOpacity()},iv=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};$n.drawCachedElement=function(e,t,r,n,a,i){var o=this,s=o.data,u=s.eleTxrCache,l=s.lblTxrCache,f=s.slbTxrCache,c=s.tlbTxrCache,d=t.boundingBox(),h=i===!0?u.reasons.highQuality:null;if(!(d.w===0||d.h===0||!t.visible())&&(!n||m0(d,n))){var v=t.isEdge(),p=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,u,r,a,h,hU,mU),(!v||!p)&&o.drawCachedElementPortion(e,t,l,r,a,h,vU,iv),v&&!p&&(o.drawCachedElementPortion(e,t,f,r,a,h,gU,iv),o.drawCachedElementPortion(e,t,c,r,a,h,pU,iv)),o.drawElementOverlay(e,t)}};$n.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var a=t[n];r.drawElement(e,a)}};$n.drawCachedElements=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];a.drawCachedElement(e,o,r,n)}};$n.drawCachedNodes=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];o.isNode()&&a.drawCachedElement(e,o,r,n)}};$n.drawLayeredElements=function(e,t,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(t,r);if(i)for(var o=0;o<i.length;o++){var s=i[o],u=s.bb;u.w===0||u.h===0||e.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(e,t,r,n)};var Sa={};Sa.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=t._private.rscratch;if(!(i&&!t.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var l=i?t.pstyle("opacity").value:1,f=i?t.pstyle("line-opacity").value:1,c=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,h=t.pstyle("width").pfValue,v=t.pstyle("line-cap").value,p=t.pstyle("line-outline-width").value,g=t.pstyle("line-outline-color").value,m=l*f,y=l*f,b=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;c==="straight-triangle"?(o.eleStrokeStyle(e,t,A),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=h,e.lineCap=v,o.eleStrokeStyle(e,t,A),o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},w=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(e.lineWidth=h+p,e.lineCap=v,p>0)o.colorStrokeStyle(e,g[0],g[1],g[2],A);else{e.lineCap="butt";return}c==="straight-triangle"?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},S=function(){a&&o.drawEdgeOverlay(e,t)},_=function(){a&&o.drawEdgeUnderlay(e,t)},x=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(e,t,A)},E=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var T=t.pstyle("ghost").value==="yes";if(T){var k=t.pstyle("ghost-offset-x").pfValue,M=t.pstyle("ghost-offset-y").pfValue,D=t.pstyle("ghost-opacity").value,P=m*D;e.translate(k,M),b(P),x(P),e.translate(-k,-M)}else w();_(),b(),x(),S(),E(),r&&e.translate(u.x1,u.y1)}};var wM=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(t,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(t,"-padding")).pfValue,l=2*u,f=n.pstyle("".concat(t,"-color")).value;r.lineWidth=l,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,f[0],f[1],f[2],a),i.drawEdgePath(n,r,s.allpts,"solid")}}}};Sa.drawEdgeOverlay=wM("overlay");Sa.drawEdgeUnderlay=wM("underlay");Sa.drawEdgePath=function(e,t,r,n){var a=e._private.rscratch,i=t,o,s=!1,u=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,f=e.pstyle("line-dash-offset").pfValue;if(u){var c=r.join("$"),d=a.pathCacheKey&&a.pathCacheKey===c;d?(o=t=a.pathCache,s=!0):(o=t=new Path2D,a.pathCacheKey=c,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=f;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<r.length;h+=4)t.quadraticCurveTo(r[h],r[h+1],r[h+2],r[h+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)t.lineTo(r[v],r[v+1]);break;case"segments":if(a.isRound){var p=XE(a.roundCorners),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;lM(t,m)}}catch(b){p.e(b)}finally{p.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)t.lineTo(r[y],r[y+1]);break}t=i,u?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};Sa.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],u=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[a]-u[0],r[a+1]-u[1]),t.lineTo(r[a]+u[0],r[a+1]+u[1]),t.lineTo(r[a+2],r[a+3]),t.closePath(),t.fill()}};Sa.drawArrowheads=function(e,t,r){var n=t._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Sa.drawArrowhead=function(e,t,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=t.pstyle(r+"-arrow-fill").value,c=t.pstyle("width").pfValue,d=t.pstyle(r+"-arrow-width"),h=d.value==="match-line"?c:d.pfValue;d.units==="%"&&(h*=c);var v=t.pstyle("opacity").value;o===void 0&&(o=v);var p=e.globalCompositeOperation;(o!==1||f==="hollow")&&(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,l,c,u,h,n,a,i),e.globalCompositeOperation=p);var g=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,g[0],g[1],g[2],o),s.colorStrokeStyle(e,g[0],g[1],g[2],o),s.drawArrowShape(t,e,f,c,u,h,n,a,i)}}};Sa.drawArrowShape=function(e,t,r,n,a,i,o,s,u){var l=this,f=this.usePaths()&&a!=="triangle-cross",c=!1,d,h=t,v={x:o,y:s},p=e.pstyle("arrow-scale").value,g=this.getArrowWidth(n,p),m=l.arrowShapes[a];if(f){var y=l.arrowPathCache=l.arrowPathCache||[],b=Ni(a),w=y[b];w!=null?(d=t=w,c=!0):(d=t=new Path2D,y[b]=d)}c||(t.beginPath&&t.beginPath(),f?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,g,u,v,n),t.closePath&&t.closePath()),t=h,f&&(t.translate(o,s),t.rotate(u),t.scale(g,g)),(r==="filled"||r==="both")&&(f?t.fill(d):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=i/(f?g:1),t.lineJoin="miter",f?t.stroke(d):t.stroke()),f&&(t.scale(1/g,1/g),t.rotate(-u),t.translate(-o,-s))};var N0={};N0.safeDrawImage=function(e,t,r,n,a,i,o,s,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{e.drawImage(t,r,n,a,i,o,s,u,l)}catch(f){Ke(f)}};N0.drawInscribedImage=function(e,t,r,n,a){var i=this,o=r.position(),s=o.x,u=o.y,l=r.cy().style(),f=l.getIndexedStyle.bind(l),c=f(r,"background-fit","value",n),d=f(r,"background-repeat","value",n),h=r.width(),v=r.height(),p=r.padding()*2,g=h+(f(r,"background-width-relative-to","value",n)==="inner"?0:p),m=v+(f(r,"background-height-relative-to","value",n)==="inner"?0:p),y=r._private.rscratch,b=f(r,"background-clip","value",n),w=b==="node",S=f(r,"background-image-opacity","value",n)*a,_=f(r,"background-image-smoothing","value",n),x=r.pstyle("corner-radius").value;x!=="auto"&&(x=r.pstyle("corner-radius").pfValue);var E=t.width||t.cachedW,T=t.height||t.cachedH;(E==null||T==null)&&(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,T=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var k=E,M=T;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?k=f(r,"background-width","pfValue",n)*g:k=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?M=f(r,"background-height","pfValue",n)*m:M=f(r,"background-height","pfValue",n)),!(k===0||M===0)){if(c==="contain"){var D=Math.min(g/k,m/M);k*=D,M*=D}else if(c==="cover"){var D=Math.max(g/k,m/M);k*=D,M*=D}var P=s-g/2,C=f(r,"background-position-x","units",n),A=f(r,"background-position-x","pfValue",n);C==="%"?P+=(g-k)*A:P+=A;var O=f(r,"background-offset-x","units",n),L=f(r,"background-offset-x","pfValue",n);O==="%"?P+=(g-k)*L:P+=L;var $=u-m/2,z=f(r,"background-position-y","units",n),F=f(r,"background-position-y","pfValue",n);z==="%"?$+=(m-M)*F:$+=F;var I=f(r,"background-offset-y","units",n),B=f(r,"background-offset-y","pfValue",n);I==="%"?$+=(m-M)*B:$+=B,y.pathCache&&(P-=s,$-=u,s=0,u=0);var V=e.globalAlpha;e.globalAlpha=S;var K=i.getImgSmoothing(e),j=!1;if(_==="no"&&K?(i.setImgSmoothing(e,!1),j=!0):_==="yes"&&!K&&(i.setImgSmoothing(e,!0),j=!0),d==="no-repeat")w&&(e.save(),y.pathCache?e.clip(y.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(e,s,u,g,m,x,y),e.clip())),i.safeDrawImage(e,t,0,0,E,T,P,$,k,M),w&&e.restore();else{var Q=e.createPattern(t,d);e.fillStyle=Q,i.nodeShapes[i.getNodeShape(r)].draw(e,s,u,g,m,x,y),e.translate(P,$),e.fill(),e.translate(-P,-$)}e.globalAlpha=V,j&&i.setImgSmoothing(e,K)}};var Hi={};Hi.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(p0(r*n));t=Math.pow(2,a)}var i=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};Hi.drawElementText=function(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var u=o.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var l=t.element()._private.rscratch.badLine,f=t.pstyle("label"),c=t.pstyle("source-label"),d=t.pstyle("target-label");if(l||(!f||!f.value)&&(!c||!c.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var h=!r,v;r&&(v=r,e.translate(-v.x1,-v.y1)),a==null?(o.drawText(e,t,null,h,i),t.isEdge()&&(o.drawText(e,t,"source",h,i),o.drawText(e,t,"target",h,i))):o.drawText(e,t,a,h,i),r&&e.translate(v.x1,v.y1)};Hi.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};Hi.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,f=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],s),this.colorStrokeStyle(e,f[0],f[1],f[2],u)};function ov(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+i,r),e.lineTo(t+n-i,r),e.quadraticCurveTo(t+n,r,t+n,r+i),e.lineTo(t+n,r+a-i),e.quadraticCurveTo(t+n,r+a,t+n-i,r+a),e.lineTo(t+i,r+a),e.quadraticCurveTo(t,r+a,t,r+a-i),e.lineTo(t,r+i),e.quadraticCurveTo(t,r,t+i,r),e.closePath(),o?e.stroke():e.fill()}Hi.getTextAngle=function(e,t){var r,n=e._private,a=n.rscratch,i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),s=Gr(a,"labelAngle",t);return o.strValue==="autorotate"?r=e.isEdge()?s:0:o.strValue==="none"?r=0:r=o.pfValue,r};Hi.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=t._private,o=i.rscratch,s=a?t.effectiveOpacity():1;if(!(a&&(s===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Gr(o,"labelX",r),l=Gr(o,"labelY",r),f,c,d=this.getLabelText(t,r);if(d!=null&&d!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(e,t,a);var h=r?r+"-":"",v=Gr(o,"labelWidth",r),p=Gr(o,"labelHeight",r),g=t.pstyle(h+"text-margin-x").pfValue,m=t.pstyle(h+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;y&&(b="center",w="center"),u+=g,l+=m;var S;switch(n?S=this.getTextAngle(t,r):S=0,S!==0&&(f=u,c=l,e.translate(f,c),e.rotate(S),u=0,l=0),w){case"top":break;case"center":l+=p/2;break;case"bottom":l+=p;break}var _=t.pstyle("text-background-opacity").value,x=t.pstyle("text-border-opacity").value,E=t.pstyle("text-border-width").pfValue,T=t.pstyle("text-background-padding").pfValue,k=t.pstyle("text-background-shape").strValue,M=k.indexOf("round")===0,D=2;if(_>0||E>0&&x>0){var P=u-T;switch(b){case"left":P-=v;break;case"center":P-=v/2;break}var C=l-p-T,A=v+2*T,O=p+2*T;if(_>0){var L=e.fillStyle,$=t.pstyle("text-background-color").value;e.fillStyle="rgba("+$[0]+","+$[1]+","+$[2]+","+_*s+")",M?ov(e,P,C,A,O,D):e.fillRect(P,C,A,O),e.fillStyle=L}if(E>0&&x>0){var z=e.strokeStyle,F=e.lineWidth,I=t.pstyle("text-border-color").value,B=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+x*s+")",e.lineWidth=E,e.setLineDash)switch(B){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=E/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(M?ov(e,P,C,A,O,D,"stroke"):e.strokeRect(P,C,A,O),B==="double"){var V=E/2;M?ov(e,P+V,C+V,A-V*2,O-V*2,D,"stroke"):e.strokeRect(P+V,C+V,A-V*2,O-V*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=F,e.strokeStyle=z}}var K=2*t.pstyle("text-outline-width").pfValue;if(K>0&&(e.lineWidth=K),t.pstyle("text-wrap").value==="wrap"){var j=Gr(o,"labelWrapCachedLines",r),Q=Gr(o,"labelLineHeight",r),X=v/2,W=this.getLabelJustification(t);switch(W==="auto"||(b==="left"?W==="left"?u+=-v:W==="center"&&(u+=-X):b==="center"?W==="left"?u+=-X:W==="right"&&(u+=X):b==="right"&&(W==="center"?u+=X:W==="right"&&(u+=v))),w){case"top":l-=(j.length-1)*Q;break;case"center":case"bottom":l-=(j.length-1)*Q;break}for(var R=0;R<j.length;R++)K>0&&e.strokeText(j[R],u,l),e.fillText(j[R],u,l),l+=Q}else K>0&&e.strokeText(d,u,l),e.fillText(d,u,l);S!==0&&(e.rotate(-S),e.translate(-f,-c))}}};var cs={};cs.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,u,l=t._private,f=l.rscratch,c=t.position();if(!(!fe(c.x)||!fe(c.y))&&!(i&&!t.visible())){var d=i?t.effectiveOpacity():1,h=o.usePaths(),v,p=!1,g=t.padding();s=t.width()+2*g,u=t.height()+2*g;var m;r&&(m=r,e.translate(-m.x1,-m.y1));for(var y=t.pstyle("background-image"),b=y.value,w=new Array(b.length),S=new Array(b.length),_=0,x=0;x<b.length;x++){var E=b[x],T=w[x]=E!=null&&E!=="none";if(T){var k=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",x);_++,S[x]=o.getCachedImage(E,k,function(){l.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var M=t.pstyle("background-blacken").value,D=t.pstyle("border-width").pfValue,P=t.pstyle("background-opacity").value*d,C=t.pstyle("border-color").value,A=t.pstyle("border-style").value,O=t.pstyle("border-join").value,L=t.pstyle("border-cap").value,$=t.pstyle("border-position").value,z=t.pstyle("border-dash-pattern").pfValue,F=t.pstyle("border-dash-offset").pfValue,I=t.pstyle("border-opacity").value*d,B=t.pstyle("outline-width").pfValue,V=t.pstyle("outline-color").value,K=t.pstyle("outline-style").value,j=t.pstyle("outline-opacity").value*d,Q=t.pstyle("outline-offset").value,X=t.pstyle("corner-radius").value;X!=="auto"&&(X=t.pstyle("corner-radius").pfValue);var W=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P;o.eleFillStyle(e,t,H)},R=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;o.colorStrokeStyle(e,C[0],C[1],C[2],H)},q=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;o.colorStrokeStyle(e,V[0],V[1],V[2],H)},U=function(H,Z,ce,te){var se=o.nodePathCache=o.nodePathCache||[],pe=s5(ce==="polygon"?ce+","+te.join(","):ce,""+Z,""+H,""+X),_e=se[pe],me,Se=!1;return _e!=null?(me=_e,Se=!0,f.pathCache=me):(me=new Path2D,se[pe]=f.pathCache=me),{path:me,cacheHit:Se}},Y=t.pstyle("shape").strValue,ie=t.pstyle("shape-polygon-points").pfValue;if(h){e.translate(c.x,c.y);var J=U(s,u,Y,ie);v=J.path,p=J.cacheHit}var re=function(){if(!p){var H=c;h&&(H={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(v||e,H.x,H.y,s,u,X,f)}h?e.fill(v):e.fill()},oe=function(){for(var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ce=l.backgrounding,te=0,se=0;se<S.length;se++){var pe=t.cy().style().getIndexedStyle(t,"background-image-containment","value",se);if(Z&&pe==="over"||!Z&&pe==="inside"){te++;continue}w[se]&&S[se].complete&&!S[se].error&&(te++,o.drawInscribedImage(e,S[se],t,se,H))}l.backgrounding=te!==_,ce!==l.backgrounding&&t.updateStyle(!1)},ue=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasPie(t)&&(o.drawPie(e,t,Z),H&&(h||o.nodeShapes[o.getNodeShape(t)].draw(e,c.x,c.y,s,u,X,f)))},le=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,Z=(M>0?M:-M)*H,ce=M>0?0:255;M!==0&&(o.colorFillStyle(e,ce,ce,ce,Z),h?e.fill(v):e.fill())},ge=function(){if(D>0){if(e.lineWidth=D,e.lineCap=L,e.lineJoin=O,e.setLineDash)switch(A){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(z),e.lineDashOffset=F;break;case"solid":case"double":e.setLineDash([]);break}if($!=="center"){if(e.save(),e.lineWidth*=2,$==="inside")h?e.clip(v):e.clip();else{var H=new Path2D;H.rect(-s/2-D,-u/2-D,s+2*D,u+2*D),H.addPath(v),e.clip(H,"evenodd")}h?e.stroke(v):e.stroke(),e.restore()}else h?e.stroke(v):e.stroke();if(A==="double"){e.lineWidth=D/3;var Z=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(v):e.stroke(),e.globalCompositeOperation=Z}e.setLineDash&&e.setLineDash([])}},He=function(){if(B>0){if(e.lineWidth=B,e.lineCap="butt",e.setLineDash)switch(K){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var H=c;h&&(H={x:0,y:0});var Z=o.getNodeShape(t),ce=D;$==="inside"&&(ce=0),$==="outside"&&(ce*=2);var te=(s+ce+(B+Q))/s,se=(u+ce+(B+Q))/u,pe=s*te,_e=u*se,me=o.nodeShapes[Z].points,Se;if(h){var Te=U(pe,_e,Z,me);Se=Te.path}if(Z==="ellipse")o.drawEllipsePath(Se||e,H.x,H.y,pe,_e);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Z)){var xe=0,tt=0,lt=0;Z==="round-diamond"?xe=(ce+Q+B)*1.4:Z==="round-heptagon"?(xe=(ce+Q+B)*1.075,lt=-(ce/2+Q+B)/35):Z==="round-hexagon"?xe=(ce+Q+B)*1.12:Z==="round-pentagon"?(xe=(ce+Q+B)*1.13,lt=-(ce/2+Q+B)/15):Z==="round-tag"?(xe=(ce+Q+B)*1.12,tt=(ce/2+B+Q)*.07):Z==="round-triangle"&&(xe=(ce+Q+B)*(Math.PI/2),lt=-(ce+Q/2+B)/Math.PI),xe!==0&&(te=(s+xe)/s,pe=s*te,["round-hexagon","round-tag"].includes(Z)||(se=(u+xe)/u,_e=u*se)),X=X==="auto"?y5(pe,_e):X;for(var pr=pe/2,mr=_e/2,bt=X+(ce+B+Q)/2,kt=new Array(me.length/2),Ct=new Array(me.length/2),er=0;er<me.length/2;er++)kt[er]={x:H.x+tt+pr*me[er*2],y:H.y+lt+mr*me[er*2+1]};var tr,ln,Er,fn,In=kt.length;for(ln=kt[In-1],tr=0;tr<In;tr++)Er=kt[tr%In],fn=kt[(tr+1)%In],Ct[tr]=A0(ln,Er,fn,bt),ln=Er,Er=fn;o.drawRoundPolygonPath(Se||e,H.x+tt,H.y+lt,s*te,u*se,me,Ct)}else if(["roundrectangle","round-rectangle"].includes(Z))X=X==="auto"?Li(pe,_e):X,o.drawRoundRectanglePath(Se||e,H.x,H.y,pe,_e,X+(ce+B+Q)/2);else if(["cutrectangle","cut-rectangle"].includes(Z))X=X==="auto"?y0():X,o.drawCutRectanglePath(Se||e,H.x,H.y,pe,_e,null,X+(ce+B+Q)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Z))X=X==="auto"?Li(pe,_e):X,o.drawBottomRoundRectanglePath(Se||e,H.x,H.y,pe,_e,X+(ce+B+Q)/2);else if(Z==="barrel")o.drawBarrelPath(Se||e,H.x,H.y,pe,_e);else if(Z.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Z)){var Bn=(ce+B+Q)/s;me=fc(cc(me,Bn)),o.drawPolygonPath(Se||e,H.x,H.y,s,u,me)}else{var Wt=(ce+B+Q)/s;me=fc(cc(me,-Wt)),o.drawPolygonPath(Se||e,H.x,H.y,s,u,me)}if(h?e.stroke(Se):e.stroke(),K==="double"){e.lineWidth=ce/3;var Dt=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(Se):e.stroke(),e.globalCompositeOperation=Dt}e.setLineDash&&e.setLineDash([])}},$e=function(){a&&o.drawNodeOverlay(e,t,c,s,u)},Me=function(){a&&o.drawNodeUnderlay(e,t,c,s,u)},Ge=function(){o.drawElementText(e,t,null,n)},Ae=t.pstyle("ghost").value==="yes";if(Ae){var ze=t.pstyle("ghost-offset-x").pfValue,ne=t.pstyle("ghost-offset-y").pfValue,N=t.pstyle("ghost-opacity").value,G=N*d;e.translate(ze,ne),q(),He(),W(N*P),re(),oe(G,!0),R(N*I),ge(),ue(M!==0||D!==0),oe(G,!1),le(G),e.translate(-ze,-ne)}h&&e.translate(-c.x,-c.y),Me(),h&&e.translate(c.x,c.y),q(),He(),W(),re(),oe(d,!0),R(),ge(),ue(M!==0||D!==0),oe(d,!1),le(),h&&e.translate(-c.x,-c.y),Ge(),$e(),r&&e.translate(m.x1,m.y1)}};var xM=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,a,i,o){var s=this;if(n.visible()){var u=n.pstyle("".concat(t,"-padding")).pfValue,l=n.pstyle("".concat(t,"-opacity")).value,f=n.pstyle("".concat(t,"-color")).value,c=n.pstyle("".concat(t,"-shape")).value,d=n.pstyle("".concat(t,"-corner-radius")).value;if(l>0){if(a=a||n.position(),i==null||o==null){var h=n.padding();i=n.width()+2*h,o=n.height()+2*h}s.colorFillStyle(r,f[0],f[1],f[2],l),s.nodeShapes[c].draw(r,a.x,a.y,i+u*2,o+u*2,d),r.fill()}}}};cs.drawNodeOverlay=xM("overlay");cs.drawNodeUnderlay=xM("underlay");cs.hasPie=function(e){return e=e[0],e._private.hasPie};cs.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=t.pstyle("pie-size"),o=n.x,s=n.y,u=t.width(),l=t.height(),f=Math.min(u,l)/2,c=0,d=this.usePaths();d&&(o=0,s=0),i.units==="%"?f=f*i.pfValue:i.pfValue!==void 0&&(f=i.pfValue/2);for(var h=1;h<=a.pieBackgroundN;h++){var v=t.pstyle("pie-"+h+"-background-size").value,p=t.pstyle("pie-"+h+"-background-color").value,g=t.pstyle("pie-"+h+"-background-opacity").value*r,m=v/100;m+c>1&&(m=1-c);var y=1.5*Math.PI+2*Math.PI*c,b=2*Math.PI*m,w=y+b;v===0||c>=1||c+m>1||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,f,y,w),e.closePath(),this.colorFillStyle(e,p[0],p[1],p[2],g),e.fill(),c+=m)}};var Tr={},yU=100;Tr.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};Tr.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<t.length;a++)if(n=t[a],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};Tr.createGradientStyleFor=function(e,t,r,n,a){var i,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),f=r.targetEndpoint(),c=r.midpoint(),d=Oi(l,c),h=Oi(f,c);i=e.createRadialGradient(c.x,c.y,0,c.x,c.y,Math.max(d,h))}else{var v=o?{x:0,y:0}:r.position(),p=r.paddedWidth(),g=r.paddedHeight();i=e.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(p,g))}else if(r.isEdge()){var m=r.sourceEndpoint(),y=r.targetEndpoint();i=e.createLinearGradient(m.x,m.y,y.x,y.y)}else{var b=o?{x:0,y:0}:r.position(),w=r.paddedWidth(),S=r.paddedHeight(),_=w/2,x=S/2,E=r.pstyle("background-gradient-direction").value;switch(E){case"to-bottom":i=e.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":i=e.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":i=e.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":i=e.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(b.x-_,b.y-x,b.x+_,b.y+x);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(b.x-_,b.y+x,b.x+_,b.y-x);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(b.x+_,b.y-x,b.x-_,b.y+x);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(b.x+_,b.y+x,b.x-_,b.y-x);break}}if(!i)return null;for(var T=u.length===s.length,k=s.length,M=0;M<k;M++)i.addColorStop(T?u[M]:M/(k-1),"rgba("+s[M][0]+","+s[M][1]+","+s[M][2]+","+a+")");return i};Tr.gradientFillStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"background",t,r,n);if(!a)return null;e.fillStyle=a};Tr.colorFillStyle=function(e,t,r,n,a){e.fillStyle="rgba("+t+","+r+","+n+","+a+")"};Tr.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],r)}};Tr.gradientStrokeStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"line",t,r,n);if(!a)return null;e.strokeStyle=a};Tr.colorStrokeStyle=function(e,t,r,n,a){e.strokeStyle="rgba("+t+","+r+","+n+","+a+")"};Tr.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],r)}};Tr.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),a=n[2],i=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var u=a*o,l=i*o,f;if(!(u===t.canvasWidth&&l===t.canvasHeight)){t.fontCaches=null;var c=r.canvasContainer;c.style.width=a+"px",c.style.height=i+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)f=r.canvases[d],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<t.BUFFER_COUNT;d++)f=r.bufferCanvases[d],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";t.textureMult=1,o<=1&&(f=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,f.width=u*t.textureMult,f.height=l*t.textureMult),t.canvasWidth=u,t.canvasHeight=l}};Tr.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Tr.render=function(e){e=e||c5();var t=e.forcedContext,r=e.drawAllLayers,n=e.drawOnlyNodeLayer,a=e.forcedZoom,i=e.forcedPan,o=this,s=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=o.cy,l=o.data,f=l.canvasNeedsRedraw,c=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=e.motionBlur!==void 0?e.motionBlur:o.motionBlur,h=o.motionBlurPxRatio,v=u.hasCompoundNodes(),p=o.hoverData.draggingEles,g=!!(o.hoverData.selecting||o.touchData.selecting);d=d&&!t&&o.motionBlurEnabled&&!g;var m=d;t||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(m=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!c&&(f[o.NODE]=!0,f[o.SELECT_BOX]=!0);var y=u.style(),b=u.zoom(),w=a!==void 0?a:b,S=u.pan(),_={x:S.x,y:S.y},x={zoom:b,pan:{x:S.x,y:S.y}},E=o.prevViewport,T=E===void 0||x.zoom!==E.zoom||x.pan.x!==E.pan.x||x.pan.y!==E.pan.y;!T&&!(p&&!v)&&(o.motionBlurPxRatio=1),i&&(_=i),w*=s,_.x*=s,_.y*=s;var k=o.getCachedZSortedEles();function M(J,re,oe,ue,le){var ge=J.globalCompositeOperation;J.globalCompositeOperation="destination-out",o.colorFillStyle(J,255,255,255,o.motionBlurTransparency),J.fillRect(re,oe,ue,le),J.globalCompositeOperation=ge}function D(J,re){var oe,ue,le,ge;!o.clearingMotionBlur&&(J===l.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||J===l.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(oe={x:S.x*h,y:S.y*h},ue=b*h,le=o.canvasWidth*h,ge=o.canvasHeight*h):(oe=_,ue=w,le=o.canvasWidth,ge=o.canvasHeight),J.setTransform(1,0,0,1,0,0),re==="motionBlur"?M(J,0,0,le,ge):!t&&(re===void 0||re)&&J.clearRect(0,0,le,ge),r||(J.translate(oe.x,oe.y),J.scale(ue,ue)),i&&J.translate(i.x,i.y),a&&J.scale(a,a)}if(c||(o.textureDrawLastFrame=!1),c){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=u.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var P=o.data.bufferContexts[o.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var x=o.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:o.canvasWidth,height:o.canvasHeight};x.mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}f[o.DRAG]=!1,f[o.NODE]=!1;var C=l.contexts[o.NODE],A=o.textureCache.texture,x=o.textureCache.viewport;C.setTransform(1,0,0,1,0,0),d?M(C,0,0,x.width,x.height):C.clearRect(0,0,x.width,x.height);var O=y.core("outside-texture-bg-color").value,L=y.core("outside-texture-bg-opacity").value;o.colorFillStyle(C,O[0],O[1],O[2],L),C.fillRect(0,0,x.width,x.height);var b=u.zoom();D(C,!1),C.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s),C.drawImage(A,x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s)}else o.textureOnViewport&&!t&&(o.textureCache=null);var $=u.extent(),z=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),F=o.hideEdgesOnViewport&&z,I=[];if(I[o.NODE]=!f[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,I[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),I[o.DRAG]=!f[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,I[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),f[o.NODE]||r||n||I[o.NODE]){var B=d&&!I[o.NODE]&&h!==1,C=t||(B?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:l.contexts[o.NODE]),V=d&&!B?"motionBlur":void 0;D(C,V),F?o.drawCachedNodes(C,k.nondrag,s,$):o.drawLayeredElements(C,k.nondrag,s,$),o.debug&&o.drawDebugPoints(C,k.nondrag),!r&&!d&&(f[o.NODE]=!1)}if(!n&&(f[o.DRAG]||r||I[o.DRAG])){var B=d&&!I[o.DRAG]&&h!==1,C=t||(B?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:l.contexts[o.DRAG]);D(C,d&&!B?"motionBlur":void 0),F?o.drawCachedNodes(C,k.drag,s,$):o.drawCachedElements(C,k.drag,s,$),o.debug&&o.drawDebugPoints(C,k.drag),!r&&!d&&(f[o.DRAG]=!1)}if(o.showFps||!n&&f[o.SELECT_BOX]&&!r){var C=t||l.contexts[o.SELECT_BOX];if(D(C),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var b=o.cy.zoom(),K=y.core("selection-box-border-width").value/b;C.lineWidth=K,C.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",C.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),K>0&&(C.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",C.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(l.bgActivePosistion&&!o.hoverData.selecting){var b=o.cy.zoom(),j=l.bgActivePosistion;C.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",C.beginPath(),C.arc(j.x,j.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),C.fill()}var Q=o.lastRedrawTime;if(o.showFps&&Q){Q=Math.round(Q);var X=Math.round(1e3/Q);C.setTransform(1,0,0,1,0,0),C.fillStyle="rgba(255, 0, 0, 0.75)",C.strokeStyle="rgba(255, 0, 0, 0.75)",C.lineWidth=1,C.fillText("1 frame = "+Q+" ms = "+X+" fps",0,20);var W=60;C.strokeRect(0,30,250,20),C.fillRect(0,30,250*Math.min(X/W,1),20)}r||(f[o.SELECT_BOX]=!1)}if(d&&h!==1){var R=l.contexts[o.NODE],q=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],U=l.contexts[o.DRAG],Y=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],ie=function(re,oe,ue){re.setTransform(1,0,0,1,0,0),ue||!m?re.clearRect(0,0,o.canvasWidth,o.canvasHeight):M(re,0,0,o.canvasWidth,o.canvasHeight);var le=h;re.drawImage(oe,0,0,o.canvasWidth*le,o.canvasHeight*le,0,0,o.canvasWidth,o.canvasHeight)};(f[o.NODE]||I[o.NODE])&&(ie(R,q,I[o.NODE]),f[o.NODE]=!1),(f[o.DRAG]||I[o.DRAG])&&(ie(U,Y,I[o.DRAG]),f[o.DRAG]=!1)}o.prevViewport=x,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!c,o.mbFrames=0,f[o.NODE]=!0,f[o.DRAG]=!0,o.redraw()},yU)),t||u.emit("render")};var ni={};ni.drawPolygonPath=function(e,t,r,n,a,i){var o=n/2,s=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*i[0],r+s*i[1]);for(var u=1;u<i.length/2;u++)e.lineTo(t+o*i[u*2],r+s*i[u*2+1]);e.closePath()};ni.drawRoundPolygonPath=function(e,t,r,n,a,i,o){o.forEach(function(s){return lM(e,s)}),e.closePath()};ni.drawRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,s=a/2,u=i==="auto"?Li(n,a):Math.min(i,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,u),e.arcTo(t+o,r+s,t,r+s,u),e.arcTo(t-o,r+s,t-o,r,u),e.arcTo(t-o,r-s,t,r-s,u),e.lineTo(t,r-s),e.closePath()};ni.drawBottomRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,s=a/2,u=i==="auto"?Li(n,a):i;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,u),e.arcTo(t-o,r+s,t-o,r,u),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()};ni.drawCutRectanglePath=function(e,t,r,n,a,i,o){var s=n/2,u=a/2,l=o==="auto"?y0():o;e.beginPath&&e.beginPath(),e.moveTo(t-s+l,r-u),e.lineTo(t+s-l,r-u),e.lineTo(t+s,r-u+l),e.lineTo(t+s,r+u-l),e.lineTo(t+s-l,r+u),e.lineTo(t-s+l,r+u),e.lineTo(t-s,r+u-l),e.lineTo(t-s,r-u+l),e.closePath()};ni.drawBarrelPath=function(e,t,r,n,a){var i=n/2,o=a/2,s=t-i,u=t+i,l=r-o,f=r+o,c=gg(n,a),d=c.widthOffset,h=c.heightOffset,v=c.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,l+h),e.lineTo(s,f-h),e.quadraticCurveTo(s+v,f,s+d,f),e.lineTo(u-d,f),e.quadraticCurveTo(u-v,f,u,f-h),e.lineTo(u,l+h),e.quadraticCurveTo(u-v,l,u-d,l),e.lineTo(s+d,l),e.quadraticCurveTo(s+v,l,s,l+h),e.closePath()};var Fb=Math.sin(0),zb=Math.cos(0),kg={},Cg={},_M=Math.PI/40;for(var no=0*Math.PI;no<2*Math.PI;no+=_M)kg[no]=Math.sin(no),Cg[no]=Math.cos(no);ni.drawEllipsePath=function(e,t,r,n,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=_M)i=t-s*kg[l]*Fb+s*Cg[l]*zb,o=r+u*Cg[l]*Fb+u*kg[l]*zb,l===0?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};var ul={};ul.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};ul.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):a[2],o=e.full?Math.ceil(n.h):a[3],s=fe(e.maxWidth)||fe(e.maxHeight),u=this.getPixelRatio(),l=1;if(e.scale!==void 0)i*=e.scale,o*=e.scale,l=e.scale;else if(s){var f=1/0,c=1/0;fe(e.maxWidth)&&(f=l*e.maxWidth/i),fe(e.maxHeight)&&(c=l*e.maxHeight/o),l=Math.min(f,c),i*=l,o*=l}s||(i*=u,o*=u,l*=u);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var h=d.getContext("2d");if(i>0&&o>0){h.clearRect(0,0,i,o),h.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(e.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var p=t.pan(),g={x:p.x*l,y:p.y*l};l*=t.zoom(),h.translate(g.x,g.y),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(-g.x,-g.y)}e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.rect(0,0,i,o),h.fill())}return d};function bU(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:t})}function Yb(e){var t=e.indexOf(",");return e.substr(t+1)}function SM(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new ns(function(a,i){try{t.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){i(o)}});case"blob":return bU(Yb(n()),r);case"base64":return Yb(n());case"base64uri":default:return n()}}ul.png=function(e){return SM(e,this.bufferCanvasImage(e),"image/png")};ul.jpg=function(e){return SM(e,this.bufferCanvasImage(e),"image/jpeg")};var TM={};TM.nodeShapeImpl=function(e,t,r,n,a,i,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,a,i);case"polygon":return this.drawPolygonPath(t,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,a,i,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,a,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,a,i,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,a,i,s);case"barrel":return this.drawBarrelPath(t,r,n,a,i)}};var wU=EM,Ye=EM.prototype;Ye.CANVAS_LAYERS=3;Ye.SELECT_BOX=0;Ye.DRAG=1;Ye.NODE=2;Ye.BUFFER_COUNT=3;Ye.TEXTURE_BUFFER=0;Ye.MOTIONBLUR_BUFFER_NODE=1;Ye.MOTIONBLUR_BUFFER_DRAG=2;function EM(e){var t=this,r=t.cy.window(),n=r.document;t.data={canvases:new Array(Ye.CANVAS_LAYERS),contexts:new Array(Ye.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ye.CANVAS_LAYERS),bufferCanvases:new Array(Ye.BUFFER_COUNT),bufferContexts:new Array(Ye.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};sB()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<Ye.CANVAS_LAYERS;l++){var f=t.data.canvases[l]=n.createElement("canvas");t.data.contexts[l]=f.getContext("2d"),Object.keys(u).forEach(function(W){f.style[W]=u[W]}),f.style.position="absolute",f.setAttribute("data-id","layer"+l),f.style.zIndex=String(Ye.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(f),t.data.canvasNeedsRedraw[l]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Ye.NODE].setAttribute("data-id","layer"+Ye.NODE+"-node"),t.data.canvases[Ye.SELECT_BOX].setAttribute("data-id","layer"+Ye.SELECT_BOX+"-selectbox"),t.data.canvases[Ye.DRAG].setAttribute("data-id","layer"+Ye.DRAG+"-drag");for(var l=0;l<Ye.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=n.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0;var c=gr(),d=function(R){return{x:(R.x1+R.x2)/2,y:(R.y1+R.y2)/2}},h=function(R){return{x:-R.w/2,y:-R.h/2}},v=function(R){var q=R[0]._private,U=q.oldBackgroundTimestamp===q.backgroundTimestamp;return!U},p=function(R){return R[0]._private.nodeKey},g=function(R){return R[0]._private.labelStyleKey},m=function(R){return R[0]._private.sourceLabelStyleKey},y=function(R){return R[0]._private.targetLabelStyleKey},b=function(R,q,U,Y,ie){return t.drawElement(R,q,U,!1,!1,ie)},w=function(R,q,U,Y,ie){return t.drawElementText(R,q,U,Y,"main",ie)},S=function(R,q,U,Y,ie){return t.drawElementText(R,q,U,Y,"source",ie)},_=function(R,q,U,Y,ie){return t.drawElementText(R,q,U,Y,"target",ie)},x=function(R){return R.boundingBox(),R[0]._private.bodyBounds},E=function(R){return R.boundingBox(),R[0]._private.labelBounds.main||c},T=function(R){return R.boundingBox(),R[0]._private.labelBounds.source||c},k=function(R){return R.boundingBox(),R[0]._private.labelBounds.target||c},M=function(R,q){return q},D=function(R){return d(x(R))},P=function(R,q,U){var Y=R?R+"-":"";return{x:q.x+U.pstyle(Y+"text-margin-x").pfValue,y:q.y+U.pstyle(Y+"text-margin-y").pfValue}},C=function(R,q,U){var Y=R[0]._private.rscratch;return{x:Y[q],y:Y[U]}},A=function(R){return P("",C(R,"labelX","labelY"),R)},O=function(R){return P("source",C(R,"sourceLabelX","sourceLabelY"),R)},L=function(R){return P("target",C(R,"targetLabelX","targetLabelY"),R)},$=function(R){return h(x(R))},z=function(R){return h(T(R))},F=function(R){return h(k(R))},I=function(R){var q=E(R),U=h(E(R));if(R.isNode()){switch(R.pstyle("text-halign").value){case"left":U.x=-q.w-(q.leftPad||0);break;case"right":U.x=-(q.rightPad||0);break}switch(R.pstyle("text-valign").value){case"top":U.y=-q.h-(q.topPad||0);break;case"bottom":U.y=-(q.botPad||0);break}}return U},B=t.data.eleTxrCache=new Us(t,{getKey:p,doesEleInvalidateKey:v,drawElement:b,getBoundingBox:x,getRotationPoint:D,getRotationOffset:$,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),V=t.data.lblTxrCache=new Us(t,{getKey:g,drawElement:w,getBoundingBox:E,getRotationPoint:A,getRotationOffset:I,isVisible:M}),K=t.data.slbTxrCache=new Us(t,{getKey:m,drawElement:S,getBoundingBox:T,getRotationPoint:O,getRotationOffset:z,isVisible:M}),j=t.data.tlbTxrCache=new Us(t,{getKey:y,drawElement:_,getBoundingBox:k,getRotationPoint:L,getRotationOffset:F,isVisible:M}),Q=t.data.lyrTxrCache=new yM(t);t.onUpdateEleCalcs(function(R,q){B.invalidateElements(q),V.invalidateElements(q),K.invalidateElements(q),j.invalidateElements(q),Q.invalidateElements(q);for(var U=0;U<q.length;U++){var Y=q[U]._private;Y.oldBackgroundTimestamp=Y.backgroundTimestamp}});var X=function(R){for(var q=0;q<R.length;q++)Q.enqueueElementRefinement(R[q].ele)};B.onDequeue(X),V.onDequeue(X),K.onDequeue(X),j.onDequeue(X)}Ye.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[Ye.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[Ye.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[Ye.SELECT_BOX]=t;break}};var xU=typeof Path2D<"u";Ye.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Ye.usePaths=function(){return xU&&this.pathsEnabled};Ye.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};Ye.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Ye.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":St(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=e,r.height=t}return r};[bM,$n,Sa,N0,Hi,cs,Tr,ni,ul,TM].forEach(function(e){we(Ye,e)});var _U=[{name:"null",impl:oM},{name:"base",impl:pM},{name:"canvas",impl:wU}],SU=[{type:"layout",extensions:DW},{type:"renderer",extensions:_U}],MM={},kM={};function CM(e,t,r){var n=r,a=function(E){Ke("Can not register `"+t+"` for `"+e+"` since `"+E+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(ku.prototype[t])return a(t);ku.prototype[t]=r}else if(e==="collection"){if(zt.prototype[t])return a(t);zt.prototype[t]=r}else if(e==="layout"){for(var i=function(E){this.options=E,r.call(this,E),Fe(this._private)||(this._private={}),this._private.cy=E.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),s=[],u=0;u<s.length;u++){var l=s[u];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var f=r.prototype.stop;o.stop=function(){var x=this.options;if(x&&x.animate){var E=this.animations;if(E)for(var T=0;T<E.length;T++)E[T].stop()}return f?f.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var c=function(E){return E._private.cy},d={addEventFields:function(E,T){T.layout=E,T.cy=c(E),T.target=E},bubble:function(){return!0},parent:function(E){return c(E)}};we(o,{createEmitter:function(){return this._private.emitter=new Dd(d,this),this},emitter:function(){return this._private.emitter},on:function(E,T){return this.emitter().on(E,T),this},one:function(E,T){return this.emitter().one(E,T),this},once:function(E,T){return this.emitter().one(E,T),this},removeListener:function(E,T){return this.emitter().removeListener(E,T),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(E,T){return this.emitter().emit(E,T),this}}),Xe.eventAliasesOn(o),n=i}else if(e==="renderer"&&t!=="null"&&t!=="base"){var h=DM("renderer","base"),v=h.prototype,p=r,g=r.prototype,m=function(){h.apply(this,arguments),p.apply(this,arguments)},y=m.prototype;for(var b in v){var w=v[b],S=g[b]!=null;if(S)return a(b);y[b]=w}for(var _ in g)y[_]=g[_];v.clientFunctions.forEach(function(x){y[x]=y[x]||function(){vt("Renderer does not implement `renderer."+x+"()` on its prototype")}}),n=m}else if(e==="__proto__"||e==="constructor"||e==="prototype")return vt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return e5({map:MM,keys:[e,t],value:n})}function DM(e,t){return t5({map:MM,keys:[e,t]})}function TU(e,t,r,n,a){return e5({map:kM,keys:[e,t,r,n],value:a})}function EU(e,t,r,n){return t5({map:kM,keys:[e,t,r,n]})}var Dg=function(){if(arguments.length===2)return DM.apply(null,arguments);if(arguments.length===3)return CM.apply(null,arguments);if(arguments.length===4)return EU.apply(null,arguments);if(arguments.length===5)return TU.apply(null,arguments);vt("Invalid extension access syntax")};ku.prototype.extension=Dg;SU.forEach(function(e){e.extensions.forEach(function(t){CM(e.type,t.name,t.impl)})});var AM=function e(){if(!(this instanceof e))return new e;this.length=0},Ii=AM.prototype;Ii.instanceString=function(){return"stylesheet"};Ii.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};Ii.css=function(e,t){var r=this.length-1;if(ye(e))this[r].properties.push({name:e,value:t});else if(Fe(e))for(var n=e,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var u=Kt.properties[o]||Kt.properties[bd(o)];if(u!=null){var l=u.name,f=s;this[r].properties.push({name:l,value:f})}}}return this};Ii.style=Ii.css;Ii.generateStyle=function(e){var t=new Kt(e);return this.appendToStyle(t)};Ii.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,a=r.properties;e.selector(n);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};var MU="3.30.4",ga=function(t){if(t===void 0&&(t={}),Fe(t))return new ku(t);if(ye(t))return Dg.apply(Dg,arguments)};ga.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(ga),e.apply(null,t),this};ga.warnings=function(e){return l5(e)};ga.version=MU;ga.stylesheet=ga.Stylesheet=AM;var pf={exports:{}},kU=pf.exports,qb;function CU(){return qb||(qb=1,function(e,t){(function(n,a){e.exports=a()})(kU,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=1)}([function(r,n){r.exports=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.maxPaths,o=i===void 0?-1:i,s=a.rootIds,u=s===void 0?[]:s,l=this,f=this.cy(),c=[];u.length===0?c=l.roots():c=u.map(function(g){return f.$id(g)}).filter(function(g){return g.length>0});var d=[];c.forEach(function(g){h(g,[g])});function h(g,m){if(!(o>=0&&d.length>=o)){if(!g){d.push(m);return}var y=v(g);y.length===0?d.push(m):y.forEach(function(b){m.find(function(w){return w.id()===b[1].id()})?h(null,m.concat(b)):h(b[1],m.concat(b))})}}function v(g){var m=g.outgoers(),y=[],b=[];return m.forEach(function(w,S){S%2==0?(b=[],b.push(w)):(b.push(w),y.push(b))}),y}var p=[];return d.forEach(function(g){var m=f.collection(g);p.push(m)}),p}},function(r,n,a){var i=a(0),o=function(u){u&&u("collection","cytoscapeAllPaths",i)};typeof cytoscape<"u"&&o(cytoscape),r.exports=o}])})}(pf)),pf.exports}var DU=CU();const AU=Wb(DU);class yc{constructor(t,r,n){Ee(this,"lowY");Ee(this,"index");Ee(this,"nxt");this.lowY=t,this.index=r,this.nxt=n}static updateIYL(t,r,n){for(;n!=null&&t>=n.lowY;)n=n.nxt;return new yc(t,r,n)}}class Vb{constructor(t,r,n,a,i=!1){Ee(this,"isExtra");Ee(this,"w");Ee(this,"h");Ee(this,"x");Ee(this,"y");Ee(this,"c");Ee(this,"prelim",0);Ee(this,"mod",0);Ee(this,"shift",0);Ee(this,"change",0);Ee(this,"tl");Ee(this,"tr");Ee(this,"el");Ee(this,"er");Ee(this,"msel");Ee(this,"mser");this.w=t,this.h=r,this.y=n,this.c=a,this.isExtra=i}layout(){this.firstWalk(),this.secondWalk(0)}firstWalk(){if(this.c.length==0){this.setExtremes();return}this.c[0].firstWalk();let t=yc.updateIYL(this.c[0].el.bottom(),0,void 0);for(let r=1;r<this.c.length;r++){this.c[r].firstWalk();const n=this.c[r].er.bottom();this.separate(r,t),t=yc.updateIYL(n,r,t)}this.positionRoot(),this.setExtremes()}setExtremes(){this.c.length==0?(this.el=this,this.er=this,this.msel=this.mser=0):(this.el=this.c[0].el,this.msel=this.c[0].msel,this.er=this.c[this.c.length-1].er,this.mser=this.c[this.c.length-1].mser)}separate(t,r){let n=this.c[t-1],a=n.mod,i=this.c[t],o=i.mod,s=!0;for(;n!==void 0&&i!==void 0;){n.bottom()>r.lowY&&(r=r.nxt);const u=a+n.prelim+n.w-(o+i.prelim);(u>0||s&&u<=0)&&(o+=u,this.moveSubtree(t,r.index,u)),s=!1;const l=n.bottom(),f=i.bottom();l<=f&&(n=n.nextRightContour(),n!==void 0&&(a+=n.mod)),l>=f&&(i=i.nextLeftContour(),i!==void 0&&(o+=i.mod))}n==null&&i!=null?this.setLeftThread(t,i,o):n!=null&&i==null&&this.setRightThread(t,n,a)}moveSubtree(t,r,n){this.c[t].mod+=n,this.c[t].msel+=n,this.c[t].mser+=n,this.distributeExtra(t,r,n)}nextLeftContour(){return this.c.length==0?this.tl:this.c[0]}nextRightContour(){return this.c.length==0?this.tr:this.c[this.c.length-1]}bottom(){return this.y+this.h}setLeftThread(t,r,n){const a=this.c[0].el;a.tl=r;const i=n-r.mod-this.c[0].msel;a.mod+=i,a.prelim-=i,this.c[0].el=this.c[t].el,this.c[0].msel=this.c[t].msel}setRightThread(t,r,n){const a=this.c[t].er;a.tr=r;const i=n-r.mod-this.c[t].mser;a.mod+=i,a.prelim-=i,this.c[t].er=this.c[t-1].er,this.c[t].mser=this.c[t-1].mser}positionRoot(){this.prelim=(this.c[0].prelim+this.c[0].mod+this.c[this.c.length-1].mod+this.c[this.c.length-1].prelim+this.c[this.c.length-1].w)/2-this.w/2}secondWalk(t){t+=this.mod,this.x=this.prelim+t,this.addChildSpacing();for(const r of this.c)r.secondWalk(t)}distributeExtra(t,r,n){if(r!=t-1){const a=t-r;this.c[r+1].shift+=n/a,this.c[t].shift-=n/a,this.c[t].change-=n-n/a}}addChildSpacing(){let t=0,r=0;for(const n of this.c)t+=n.shift,r+=t+n.change,n.mod+=r}}class PU{constructor(t){Ee(this,"options");this.options={horizontalSpacing:10,verticalSpacing:20,lineWidth:3,layerHeight:void 0,...t}}run(t){const r=this.makeTree(t,t.customY);return r.layout(),this.setLayoutResult(t,r),r}makeTree(t,r=0){const n=t.w+this.options.horizontalSpacing;let a=t.h+this.options.verticalSpacing,i=t.extraVerticalSpacing??0;const o=this.options.layerHeight;o!==void 0&&(a=Math.ceil(a/o)*o,i=Math.round(i/o)*o),t.customY!==void 0&&(i=t.customY-r,t.y=r+i),t.y=r+i;const s=new Vb(n,a,t.y,t.children.map(u=>this.makeTree(u,t.y+a)));return i<0&&console.warn("Node has negative extra space, ignoring",t),i>0?new Vb(this.options.lineWidth,i,r,[s],!0):s}setLayoutResult(t,r){r.isExtra&&(r=r.c[0]),t.x=r.x+this.options.horizontalSpacing/2,t.children.forEach((n,a)=>this.setLayoutResult(n,r.c[a]))}}class NU{constructor(){Ee(this,"name","tidytree");Ee(this,"dataOnly",!1);Ee(this,"horizontalSpacing",20);Ee(this,"verticalSpacing",40);Ee(this,"direction","TB");Ee(this,"extraVerticalSpacings",{});Ee(this,"customYs",{});Ee(this,"lineWidth",5);Ee(this,"layerHeight");Ee(this,"edgeComparator");Ee(this,"sizeGetter",()=>({}));Ee(this,"fit",!0);Ee(this,"padding",30);Ee(this,"pan");Ee(this,"zoom");Ee(this,"spacingFactor",1);Ee(this,"transform",(t,r)=>r);Ee(this,"animate",!1);Ee(this,"animationDuration",500);Ee(this,"animationEasing");Ee(this,"animateFilter",()=>!0);Ee(this,"ready");Ee(this,"stop");Ee(this,"nodeDimensionsIncludeLabels",!0)}}function O0(e){this.options={...new NU,...e}}O0.prototype.createTreeData=function(){const e=this.options.nodeDimensionsIncludeLabels??!0,t=this.options.eles,r=this.options.customYs,n=this.options.extraVerticalSpacings,a=new Set;for(const u of t.nodes()){const l={...u.layoutDimensions({nodeDimensionsIncludeLabels:e}),...this.options.sizeGetter(u)};(this.options.direction==="LR"||this.options.direction==="RL")&&([l.w,l.h]=[l.h,l.w]);const f={id:u.id(),w:l.w,h:l.h,children:[],extraVerticalSpacing:n[u.id()],customY:r[u.id()]===void 0?void 0:r[u.id()]-l.h/2};u.scratch("tidytree",f),a.add(f)}const i=this.options.edgeComparator,o=i===void 0?t.edges():t.edges().sort(i);for(const u of o){const l=u.source().scratch("tidytree"),f=u.target().scratch("tidytree");a.has(f)&&(l.children.push(f),a.delete(f))}if(a.size===0){const u=t.nodes().first(),l=u.scratch("tidytree");a.add(l);for(const f of u.incomers("node")){const c=f.scratch("tidytree"),d=c.children.indexOf(l);d!==-1&&c.children.splice(d,1)}}return{w:0,h:0,children:Array.from(a),customY:Math.min(-this.options.verticalSpacing,-(this.options.layerHeight??0))}};O0.prototype.run=function(){const e=this.createTreeData(),t=new PU(this.options).run(e),r=this.options.eles.nodes();return this.options.dataOnly||r.layoutPositions(this,this.options,n=>{const a=n.scratch("tidytree"),i={x:a.x+a.w/2,y:a.y+a.h/2};return(this.options.direction==="LR"||this.options.direction==="RL")&&([i.x,i.y]=[i.y,i.x]),this.options.direction==="BT"&&(i.y=-i.y),this.options.direction==="RL"&&(i.x=-i.x),i}),{treeData:e,tree:t}};function PM(e){e("layout","tidytree",O0)}typeof window.cytoscape<"u"&&PM(window.cytoscape);const OU={nodes:[{data:{id:"0",name:"start",selected:!0}},{data:{id:"1",name:"job 1",selected:!0}},{data:{id:"2",name:"job 2"}},{data:{id:"3",name:"job 3",selected:!0}}],edges:[{data:{source:"0",target:"1",selected:!0}},{data:{source:"1",target:"2"}},{data:{source:"1",target:"3",selected:!0}}]},si={primary:mn.violet[700],primaryDark:mn.violet[800],secondary:mn.amber[400],secondaryDark:mn.amber[500],text:mn.stone[300]},LU=[{selector:"node",style:{"background-color":si.primary,label:"data(name)",color:si.text}},{selector:"node[selected]",style:{"background-color":si.secondary}},{selector:"edge",style:{width:3,"line-color":si.primaryDark,"target-arrow-color":si.primaryDark,"target-arrow-shape":"triangle","curve-style":"round-taxi"}},{selector:"edge[selected]",style:{"line-color":si.secondaryDark,"target-arrow-color":si.secondaryDark}}];ga.use(PM);ga.use(AU);const RU={elements:OU,style:LU,layout:{name:"tidytree",direction:"LR"}};function $U(){const e=fr.useRef(null),[,t]=fr.useState();return fr.useEffect(()=>{if(e.current){const r=ga({container:e.current,...RU});return t(r),()=>r.destroy()}},[e]),mt.jsx("div",{ref:e,className:"h-full w-full cursor-grab"})}$U.__docgenInfo={description:"",methods:[],displayName:"ScenarioGraph"};function IU({data:e}){return mt.jsxs("div",{className:"relative flex h-40 w-full items-center justify-center border-y border-slate-800 bg-slate-900",children:[mt.jsx(bc,{children:({width:t,height:r})=>mt.jsx(BU,{width:t,height:r,data:e})}),mt.jsxs("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex",children:[mt.jsx("div",{className:"w-[40%] bg-slate-800/40"}),mt.jsxs("div",{className:"flex grow cursor-grab border border-slate-700",children:[mt.jsx("div",{className:"w-1 cursor-col-resize bg-slate-700"}),mt.jsx("div",{className:"flex grow"}),mt.jsx("div",{className:"w-1 cursor-col-resize bg-slate-700"})]}),mt.jsx("div",{className:"w-[25%] bg-slate-800/40"})]})]})}function BU({width:e,height:t,data:r}){const n=fr.useRef(null);return fr.useEffect(()=>{var i;const a=rd([id([0]),XT(r,{x:o=>new Date(o.date),y:"amount",fill:mn.amber[400],opacity:.5}),KT(r,{x:o=>new Date(o.date),y:"amount",stroke:mn.amber[400]})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(i=n.current)==null||i.append(a),()=>a.remove()},[r,t,e]),mt.jsx("div",{ref:n,className:"h-full w-full"})}IU.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{data:{required:!0,tsType:{name:"Plot.Data"},description:""}}};export{VM as B,Fr as M,bc as R,$U as S,IU as T,GI as a,PO as b,VU as c,mp as d,Yt as e,ya as f,ba as g,de as h,or as i,Cn as j,Sv as k,Ai as l,SP as m,tp as n,yr as o,sp as p,td as q,F_ as r,WU as s,jS as t,rd as u,id as v,XT as w,ON as x,KT as y,NO as z};
