import{j as e}from"./jsx-runtime-BjgbQsUx.js";import{r as c}from"./index-jJyPZTrg.js";import{p as v,r as u,a as h,b,R as p,m as g,c as y,l as j}from"./ScenarioChart.container.v2-GwWsEAg6.js";import{C as N}from"./CollapsibleTree.component-yedGRdFl.js";import"./ScenarioGraph.component-CFAPW4q-.js";import{t as m}from"./colors-UMl0uCuE.js";const w=[{id:"1",name:"Income",value:2200,children:[{id:"1.1",name:"Salary",value:2e3},{id:"1.2",name:"Other",value:200}]},{id:"2",name:"Expenses",value:1e3,children:[{id:"2.1",name:"Rent",value:300},{id:"2.2",name:"Bills",value:300,children:[{id:"2.2.1",name:"Electricity",value:100},{id:"2.2.2",name:"Phone",value:200}]},{id:"2.2",name:"Living",value:400}]}];function S(){return e.jsxs("div",{className:"p-4x flex h-full w-full select-none flex-col border-l border-slate-800 bg-slate-900 text-slate-300",children:[e.jsx("div",{className:"bg-slate-800 px-4 py-1 text-sm font-medium text-slate-500",children:"Budget Details"}),e.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium",children:"Job 1"}),e.jsx(N,{tree:w,parentContainerClasses:"cursor-pointer hover:bg-slate-800 px-4",childContainerClasses:"cursor-default px-4",renderCollapsibleItemContent:s=>e.jsxs("div",{className:"flex flex-row py-2",children:[e.jsx("div",{className:"grow",children:s.name}),e.jsx("div",{className:"text-gray-500",children:s.value})]}),renderLeafItemContent:s=>e.jsxs("div",{className:"flex flex-row py-2",children:[e.jsx("div",{className:"grow",children:s.name}),e.jsx("div",{children:s.value})]})})]})}S.__docgenInfo={description:"",methods:[],displayName:"BudgetDetails"};function f({width:s,height:t,scenarioEvents:a}){const l=c.useRef(null);return c.useEffect(()=>{var r;const i=a.budgetEvents.map(d=>d.events.map(n=>({date:new Date(n.date),amount:n.value,name:d.budget.name}))),o=v({width:s,height:t,marginLeft:50,y:{grid:!0},marks:[u([0]),h(i.flat(),b({y:"sum"},{x:"date",y:"amount",fill:"name",interval:"month",cumulative:!0}))]});return(r=l.current)==null||r.append(o),()=>o.remove()},[t,a.budgetEvents,s]),e.jsx("div",{ref:l,className:"h-full w-full"})}f.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV1",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioEvents"},description:""}}};function C({scenarioEvents:s}){return e.jsx(p,{children:({width:t,height:a})=>e.jsx(f,{width:t,height:a,scenarioEvents:s})})}C.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV1",props:{scenarioEvents:{required:!0,tsType:{name:"ScenarioEvents"},description:""}}};function M({data:s,initialSelection:t=[0,1]}){const[a]=c.useState(t),[l,i]=a,o=n=>{console.log("handleSelectionMouseDown",n)},r=n=>{console.log("handleSelectionMouseMove",n)},d=n=>{console.log("handleSelectionMouseUp",n)};return e.jsxs("div",{className:"relative flex h-40 w-full items-center justify-center border-y border-slate-800 bg-slate-900",children:[e.jsx(p,{children:({width:n,height:x})=>e.jsx(T,{width:n,height:x,data:s})}),s&&Array.from(s).length!==0&&e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex",children:[e.jsx("div",{className:"bg-slate-800/40",style:{width:`${l*100}%`}}),e.jsxs("div",{className:"flex grow cursor-grab border border-slate-700",children:[e.jsx("div",{className:"w-1 cursor-col-resize bg-slate-700",onMouseDown:o,onMouseMove:r,onMouseUp:d}),e.jsx("div",{className:"flex grow"}),e.jsx("div",{className:"w-1 cursor-col-resize bg-slate-700"})]}),e.jsx("div",{className:"bg-slate-800/40",style:{width:`${(1-i)*100}%`}})]})]})}function T({width:s,height:t,data:a}){const l=c.useRef(null);return c.useEffect(()=>{var o;const i=g([u([0]),y(a,{x:r=>new Date(r.date),y:"amount",fill:m.amber[400],opacity:.5}),j(a,{x:r=>new Date(r.date),y:"amount",stroke:m.amber[400]})]).plot({width:s,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=l.current)==null||o.append(i),()=>i.remove()},[a,t,s]),e.jsx("div",{ref:l,className:"h-full w-full"})}M.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{data:{required:!1,tsType:{name:"Plot.Data"},description:""},initialSelection:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"",defaultValue:{value:"[0, 1]",computed:!1}}}};export{S as B,C as S,M as T};
